import{_ as Xt,c as it,I as S,w as k,aR as Lt,D as N,o as V,b as at,a as D,j as O,F as It,E as Bt,e as Zt,p as xt,l as zt}from"./chunks/framework.MDQz7FCs.js";var W={},te=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},kt={},I={};let _t;const ee=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];I.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};I.getSymbolTotalCodewords=function(t){return ee[t]};I.getBCHDigit=function(i){let t=0;for(;i!==0;)t++,i>>>=1;return t};I.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');_t=t};I.isKanjiModeEnabled=function(){return typeof _t<"u"};I.toSJIS=function(t){return _t(t)};var tt={};(function(i){i.L={bit:1},i.M={bit:0},i.Q={bit:3},i.H={bit:2};function t(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"l":case"low":return i.L;case"m":case"medium":return i.M;case"q":case"quartile":return i.Q;case"h":case"high":return i.H;default:throw new Error("Unknown EC Level: "+o)}}i.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4},i.from=function(e,n){if(i.isValid(e))return e;try{return t(e)}catch{return n}}})(tt);function Nt(){this.buffer=[],this.length=0}Nt.prototype={get:function(i){const t=Math.floor(i/8);return(this.buffer[t]>>>7-i%8&1)===1},put:function(i,t){for(let o=0;o<t;o++)this.putBit((i>>>t-o-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(i){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),i&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var ne=Nt;function $(i){if(!i||i<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=i,this.data=new Uint8Array(i*i),this.reservedBit=new Uint8Array(i*i)}$.prototype.set=function(i,t,o,e){const n=i*this.size+t;this.data[n]=o,e&&(this.reservedBit[n]=!0)};$.prototype.get=function(i,t){return this.data[i*this.size+t]};$.prototype.xor=function(i,t,o){this.data[i*this.size+t]^=o};$.prototype.isReserved=function(i,t){return this.reservedBit[i*this.size+t]};var oe=$,Dt={};(function(i){const t=I.getSymbolSize;i.getRowColCoords=function(e){if(e===1)return[];const n=Math.floor(e/7)+2,r=t(e),s=r===145?26:Math.ceil((r-13)/(2*n-2))*2,a=[r-7];for(let c=1;c<n-1;c++)a[c]=a[c-1]-s;return a.push(6),a.reverse()},i.getPositions=function(e){const n=[],r=i.getRowColCoords(e),s=r.length;for(let a=0;a<s;a++)for(let c=0;c<s;c++)a===0&&c===0||a===0&&c===s-1||a===s-1&&c===0||n.push([r[a],r[c]]);return n}})(Dt);var qt={};const re=I.getSymbolSize,Pt=7;qt.getPositions=function(t){const o=re(t);return[[0,0],[o-Pt,0],[0,o-Pt]]};var Ut={};(function(i){i.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};i.isValid=function(n){return n!=null&&n!==""&&!isNaN(n)&&n>=0&&n<=7},i.from=function(n){return i.isValid(n)?parseInt(n,10):void 0},i.getPenaltyN1=function(n){const r=n.size;let s=0,a=0,c=0,u=null,f=null;for(let _=0;_<r;_++){a=c=0,u=f=null;for(let d=0;d<r;d++){let h=n.get(_,d);h===u?a++:(a>=5&&(s+=t.N1+(a-5)),u=h,a=1),h=n.get(d,_),h===f?c++:(c>=5&&(s+=t.N1+(c-5)),f=h,c=1)}a>=5&&(s+=t.N1+(a-5)),c>=5&&(s+=t.N1+(c-5))}return s},i.getPenaltyN2=function(n){const r=n.size;let s=0;for(let a=0;a<r-1;a++)for(let c=0;c<r-1;c++){const u=n.get(a,c)+n.get(a,c+1)+n.get(a+1,c)+n.get(a+1,c+1);(u===4||u===0)&&s++}return s*t.N2},i.getPenaltyN3=function(n){const r=n.size;let s=0,a=0,c=0;for(let u=0;u<r;u++){a=c=0;for(let f=0;f<r;f++)a=a<<1&2047|n.get(u,f),f>=10&&(a===1488||a===93)&&s++,c=c<<1&2047|n.get(f,u),f>=10&&(c===1488||c===93)&&s++}return s*t.N3},i.getPenaltyN4=function(n){let r=0;const s=n.data.length;for(let c=0;c<s;c++)r+=n.data[c];return Math.abs(Math.ceil(r*100/s/5)-10)*t.N4};function o(e,n,r){switch(e){case i.Patterns.PATTERN000:return(n+r)%2===0;case i.Patterns.PATTERN001:return n%2===0;case i.Patterns.PATTERN010:return r%3===0;case i.Patterns.PATTERN011:return(n+r)%3===0;case i.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(r/3))%2===0;case i.Patterns.PATTERN101:return n*r%2+n*r%3===0;case i.Patterns.PATTERN110:return(n*r%2+n*r%3)%2===0;case i.Patterns.PATTERN111:return(n*r%3+(n+r)%2)%2===0;default:throw new Error("bad maskPattern:"+e)}}i.applyMask=function(n,r){const s=r.size;for(let a=0;a<s;a++)for(let c=0;c<s;c++)r.isReserved(c,a)||r.xor(c,a,o(n,c,a))},i.getBestMask=function(n,r){const s=Object.keys(i.Patterns).length;let a=0,c=1/0;for(let u=0;u<s;u++){r(u),i.applyMask(u,n);const f=i.getPenaltyN1(n)+i.getPenaltyN2(n)+i.getPenaltyN3(n)+i.getPenaltyN4(n);i.applyMask(u,n),f<c&&(c=f,a=u)}return a}})(Ut);var et={};const q=tt,X=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Z=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];et.getBlocksCount=function(t,o){switch(o){case q.L:return X[(t-1)*4+0];case q.M:return X[(t-1)*4+1];case q.Q:return X[(t-1)*4+2];case q.H:return X[(t-1)*4+3];default:return}};et.getTotalCodewordsCount=function(t,o){switch(o){case q.L:return Z[(t-1)*4+0];case q.M:return Z[(t-1)*4+1];case q.Q:return Z[(t-1)*4+2];case q.H:return Z[(t-1)*4+3];default:return}};var Ft={},nt={};const Y=new Uint8Array(512),x=new Uint8Array(256);(function(){let t=1;for(let o=0;o<255;o++)Y[o]=t,x[t]=o,t<<=1,t&256&&(t^=285);for(let o=255;o<512;o++)Y[o]=Y[o-255]})();nt.log=function(t){if(t<1)throw new Error("log("+t+")");return x[t]};nt.exp=function(t){return Y[t]};nt.mul=function(t,o){return t===0||o===0?0:Y[x[t]+x[o]]};(function(i){const t=nt;i.mul=function(e,n){const r=new Uint8Array(e.length+n.length-1);for(let s=0;s<e.length;s++)for(let a=0;a<n.length;a++)r[s+a]^=t.mul(e[s],n[a]);return r},i.mod=function(e,n){let r=new Uint8Array(e);for(;r.length-n.length>=0;){const s=r[0];for(let c=0;c<n.length;c++)r[c]^=t.mul(n[c],s);let a=0;for(;a<r.length&&r[a]===0;)a++;r=r.slice(a)}return r},i.generateECPolynomial=function(e){let n=new Uint8Array([1]);for(let r=0;r<e;r++)n=i.mul(n,new Uint8Array([1,t.exp(r)]));return n}})(Ft);const Vt=Ft;function vt(i){this.genPoly=void 0,this.degree=i,this.degree&&this.initialize(this.degree)}vt.prototype.initialize=function(t){this.degree=t,this.genPoly=Vt.generateECPolynomial(this.degree)};vt.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const o=new Uint8Array(t.length+this.degree);o.set(t);const e=Vt.mod(o,this.genPoly),n=this.degree-e.length;if(n>0){const r=new Uint8Array(this.degree);return r.set(e,n),r}return e};var ie=vt,Ot={},U={},Tt={};Tt.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var A={};const Ht="[0-9]+",ae="[A-Z $%*+\\-./:]+";let G="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";G=G.replace(/u/g,"\\u");const se="(?:(?![A-Z0-9 $%*+\\-./:]|"+G+`)(?:.|[\r
]))+`;A.KANJI=new RegExp(G,"g");A.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");A.BYTE=new RegExp(se,"g");A.NUMERIC=new RegExp(Ht,"g");A.ALPHANUMERIC=new RegExp(ae,"g");const ce=new RegExp("^"+G+"$"),le=new RegExp("^"+Ht+"$"),de=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");A.testKanji=function(t){return ce.test(t)};A.testNumeric=function(t){return le.test(t)};A.testAlphanumeric=function(t){return de.test(t)};(function(i){const t=Tt,o=A;i.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},i.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},i.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},i.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},i.MIXED={bit:-1},i.getCharCountIndicator=function(r,s){if(!r.ccBits)throw new Error("Invalid mode: "+r);if(!t.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?r.ccBits[0]:s<27?r.ccBits[1]:r.ccBits[2]},i.getBestModeForData=function(r){return o.testNumeric(r)?i.NUMERIC:o.testAlphanumeric(r)?i.ALPHANUMERIC:o.testKanji(r)?i.KANJI:i.BYTE},i.toString=function(r){if(r&&r.id)return r.id;throw new Error("Invalid mode")},i.isValid=function(r){return r&&r.bit&&r.ccBits};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"numeric":return i.NUMERIC;case"alphanumeric":return i.ALPHANUMERIC;case"kanji":return i.KANJI;case"byte":return i.BYTE;default:throw new Error("Unknown mode: "+n)}}i.from=function(r,s){if(i.isValid(r))return r;try{return e(r)}catch{return s}}})(U);(function(i){const t=I,o=et,e=tt,n=U,r=Tt,s=7973,a=t.getBCHDigit(s);function c(d,h,l){for(let w=1;w<=40;w++)if(h<=i.getCapacity(w,l,d))return w}function u(d,h){return n.getCharCountIndicator(d,h)+4}function f(d,h){let l=0;return d.forEach(function(w){const g=u(w.mode,h);l+=g+w.getBitsLength()}),l}function _(d,h){for(let l=1;l<=40;l++)if(f(d,l)<=i.getCapacity(l,h,n.MIXED))return l}i.from=function(h,l){return r.isValid(h)?parseInt(h,10):l},i.getCapacity=function(h,l,w){if(!r.isValid(h))throw new Error("Invalid QR Code version");typeof w>"u"&&(w=n.BYTE);const g=t.getSymbolTotalCodewords(h),m=o.getTotalCodewordsCount(h,l),y=(g-m)*8;if(w===n.MIXED)return y;const C=y-u(w,h);switch(w){case n.NUMERIC:return Math.floor(C/10*3);case n.ALPHANUMERIC:return Math.floor(C/11*2);case n.KANJI:return Math.floor(C/13);case n.BYTE:default:return Math.floor(C/8)}},i.getBestVersionForData=function(h,l){let w;const g=e.from(l,e.M);if(Array.isArray(h)){if(h.length>1)return _(h,g);if(h.length===0)return 1;w=h[0]}else w=h;return c(w.mode,w.getLength(),g)},i.getEncodedBits=function(h){if(!r.isValid(h)||h<7)throw new Error("Invalid QR Code version");let l=h<<12;for(;t.getBCHDigit(l)-a>=0;)l^=s<<t.getBCHDigit(l)-a;return h<<12|l}})(Ot);var Qt={};const gt=I,Kt=1335,ue=21522,St=gt.getBCHDigit(Kt);Qt.getEncodedBits=function(t,o){const e=t.bit<<3|o;let n=e<<10;for(;gt.getBCHDigit(n)-St>=0;)n^=Kt<<gt.getBCHDigit(n)-St;return(e<<10|n)^ue};var Jt={};const he=U;function H(i){this.mode=he.NUMERIC,this.data=i.toString()}H.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};H.prototype.getLength=function(){return this.data.length};H.prototype.getBitsLength=function(){return H.getBitsLength(this.data.length)};H.prototype.write=function(t){let o,e,n;for(o=0;o+3<=this.data.length;o+=3)e=this.data.substr(o,3),n=parseInt(e,10),t.put(n,10);const r=this.data.length-o;r>0&&(e=this.data.substr(o),n=parseInt(e,10),t.put(n,r*3+1))};var fe=H;const ge=U,st=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Q(i){this.mode=ge.ALPHANUMERIC,this.data=i}Q.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Q.prototype.getLength=function(){return this.data.length};Q.prototype.getBitsLength=function(){return Q.getBitsLength(this.data.length)};Q.prototype.write=function(t){let o;for(o=0;o+2<=this.data.length;o+=2){let e=st.indexOf(this.data[o])*45;e+=st.indexOf(this.data[o+1]),t.put(e,11)}this.data.length%2&&t.put(st.indexOf(this.data[o]),6)};var we=Q,me=function(t){for(var o=[],e=t.length,n=0;n<e;n++){var r=t.charCodeAt(n);if(r>=55296&&r<=56319&&e>n+1){var s=t.charCodeAt(n+1);s>=56320&&s<=57343&&(r=(r-55296)*1024+s-56320+65536,n+=1)}if(r<128){o.push(r);continue}if(r<2048){o.push(r>>6|192),o.push(r&63|128);continue}if(r<55296||r>=57344&&r<65536){o.push(r>>12|224),o.push(r>>6&63|128),o.push(r&63|128);continue}if(r>=65536&&r<=1114111){o.push(r>>18|240),o.push(r>>12&63|128),o.push(r>>6&63|128),o.push(r&63|128);continue}o.push(239,191,189)}return new Uint8Array(o).buffer};const pe=me,Ce=U;function K(i){this.mode=Ce.BYTE,typeof i=="string"&&(i=pe(i)),this.data=new Uint8Array(i)}K.getBitsLength=function(t){return t*8};K.prototype.getLength=function(){return this.data.length};K.prototype.getBitsLength=function(){return K.getBitsLength(this.data.length)};K.prototype.write=function(i){for(let t=0,o=this.data.length;t<o;t++)i.put(this.data[t],8)};var ye=K;const _e=U,ve=I;function J(i){this.mode=_e.KANJI,this.data=i}J.getBitsLength=function(t){return t*13};J.prototype.getLength=function(){return this.data.length};J.prototype.getBitsLength=function(){return J.getBitsLength(this.data.length)};J.prototype.write=function(i){let t;for(t=0;t<this.data.length;t++){let o=ve.toSJIS(this.data[t]);if(o>=33088&&o<=40956)o-=33088;else if(o>=57408&&o<=60351)o-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);o=(o>>>8&255)*192+(o&255),i.put(o,13)}};var Te=J,jt={exports:{}};(function(i){var t={single_source_shortest_paths:function(o,e,n){var r={},s={};s[e]=0;var a=t.PriorityQueue.make();a.push(e,0);for(var c,u,f,_,d,h,l,w,g;!a.empty();){c=a.pop(),u=c.value,_=c.cost,d=o[u]||{};for(f in d)d.hasOwnProperty(f)&&(h=d[f],l=_+h,w=s[f],g=typeof s[f]>"u",(g||w>l)&&(s[f]=l,a.push(f,l),r[f]=u))}if(typeof n<"u"&&typeof s[n]>"u"){var m=["Could not find a path from ",e," to ",n,"."].join("");throw new Error(m)}return r},extract_shortest_path_from_predecessor_list:function(o,e){for(var n=[],r=e;r;)n.push(r),o[r],r=o[r];return n.reverse(),n},find_path:function(o,e,n){var r=t.single_source_shortest_paths(o,e,n);return t.extract_shortest_path_from_predecessor_list(r,n)},PriorityQueue:{make:function(o){var e=t.PriorityQueue,n={},r;o=o||{};for(r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n.queue=[],n.sorter=o.sorter||e.default_sorter,n},default_sorter:function(o,e){return o.cost-e.cost},push:function(o,e){var n={value:o,cost:e};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};i.exports=t})(jt);var Ee=jt.exports;(function(i){const t=U,o=fe,e=we,n=ye,r=Te,s=A,a=I,c=Ee;function u(m){return unescape(encodeURIComponent(m)).length}function f(m,y,C){const p=[];let T;for(;(T=m.exec(C))!==null;)p.push({data:T[0],index:T.index,mode:y,length:T[0].length});return p}function _(m){const y=f(s.NUMERIC,t.NUMERIC,m),C=f(s.ALPHANUMERIC,t.ALPHANUMERIC,m);let p,T;return a.isKanjiModeEnabled()?(p=f(s.BYTE,t.BYTE,m),T=f(s.KANJI,t.KANJI,m)):(p=f(s.BYTE_KANJI,t.BYTE,m),T=[]),y.concat(C,p,T).sort(function(E,R){return E.index-R.index}).map(function(E){return{data:E.data,mode:E.mode,length:E.length}})}function d(m,y){switch(y){case t.NUMERIC:return o.getBitsLength(m);case t.ALPHANUMERIC:return e.getBitsLength(m);case t.KANJI:return r.getBitsLength(m);case t.BYTE:return n.getBitsLength(m)}}function h(m){return m.reduce(function(y,C){const p=y.length-1>=0?y[y.length-1]:null;return p&&p.mode===C.mode?(y[y.length-1].data+=C.data,y):(y.push(C),y)},[])}function l(m){const y=[];for(let C=0;C<m.length;C++){const p=m[C];switch(p.mode){case t.NUMERIC:y.push([p,{data:p.data,mode:t.ALPHANUMERIC,length:p.length},{data:p.data,mode:t.BYTE,length:p.length}]);break;case t.ALPHANUMERIC:y.push([p,{data:p.data,mode:t.BYTE,length:p.length}]);break;case t.KANJI:y.push([p,{data:p.data,mode:t.BYTE,length:u(p.data)}]);break;case t.BYTE:y.push([{data:p.data,mode:t.BYTE,length:u(p.data)}])}}return y}function w(m,y){const C={},p={start:{}};let T=["start"];for(let v=0;v<m.length;v++){const E=m[v],R=[];for(let P=0;P<E.length;P++){const b=E[P],j=""+v+P;R.push(j),C[j]={node:b,lastCount:0},p[j]={};for(let rt=0;rt<T.length;rt++){const M=T[rt];C[M]&&C[M].node.mode===b.mode?(p[M][j]=d(C[M].lastCount+b.length,b.mode)-d(C[M].lastCount,b.mode),C[M].lastCount+=b.length):(C[M]&&(C[M].lastCount=b.length),p[M][j]=d(b.length,b.mode)+4+t.getCharCountIndicator(b.mode,y))}}T=R}for(let v=0;v<T.length;v++)p[T[v]].end=0;return{map:p,table:C}}function g(m,y){let C;const p=t.getBestModeForData(m);if(C=t.from(y,p),C!==t.BYTE&&C.bit<p.bit)throw new Error('"'+m+'" cannot be encoded with mode '+t.toString(C)+`.
 Suggested mode is: `+t.toString(p));switch(C===t.KANJI&&!a.isKanjiModeEnabled()&&(C=t.BYTE),C){case t.NUMERIC:return new o(m);case t.ALPHANUMERIC:return new e(m);case t.KANJI:return new r(m);case t.BYTE:return new n(m)}}i.fromArray=function(y){return y.reduce(function(C,p){return typeof p=="string"?C.push(g(p,null)):p.data&&C.push(g(p.data,p.mode)),C},[])},i.fromString=function(y,C){const p=_(y,a.isKanjiModeEnabled()),T=l(p),v=w(T,C),E=c.find_path(v.map,"start","end"),R=[];for(let P=1;P<E.length-1;P++)R.push(v.table[E[P]].node);return i.fromArray(h(R))},i.rawSplit=function(y){return i.fromArray(_(y,a.isKanjiModeEnabled()))}})(Jt);const ot=I,ct=tt,be=ne,Re=oe,Ie=Dt,Be=qt,wt=Ut,mt=et,Pe=ie,z=Ot,Se=Qt,Ae=U,lt=Jt;function Me(i,t){const o=i.size,e=Be.getPositions(t);for(let n=0;n<e.length;n++){const r=e[n][0],s=e[n][1];for(let a=-1;a<=7;a++)if(!(r+a<=-1||o<=r+a))for(let c=-1;c<=7;c++)s+c<=-1||o<=s+c||(a>=0&&a<=6&&(c===0||c===6)||c>=0&&c<=6&&(a===0||a===6)||a>=2&&a<=4&&c>=2&&c<=4?i.set(r+a,s+c,!0,!0):i.set(r+a,s+c,!1,!0))}}function Le(i){const t=i.size;for(let o=8;o<t-8;o++){const e=o%2===0;i.set(o,6,e,!0),i.set(6,o,e,!0)}}function ke(i,t){const o=Ie.getPositions(t);for(let e=0;e<o.length;e++){const n=o[e][0],r=o[e][1];for(let s=-2;s<=2;s++)for(let a=-2;a<=2;a++)s===-2||s===2||a===-2||a===2||s===0&&a===0?i.set(n+s,r+a,!0,!0):i.set(n+s,r+a,!1,!0)}}function Ne(i,t){const o=i.size,e=z.getEncodedBits(t);let n,r,s;for(let a=0;a<18;a++)n=Math.floor(a/3),r=a%3+o-8-3,s=(e>>a&1)===1,i.set(n,r,s,!0),i.set(r,n,s,!0)}function dt(i,t,o){const e=i.size,n=Se.getEncodedBits(t,o);let r,s;for(r=0;r<15;r++)s=(n>>r&1)===1,r<6?i.set(r,8,s,!0):r<8?i.set(r+1,8,s,!0):i.set(e-15+r,8,s,!0),r<8?i.set(8,e-r-1,s,!0):r<9?i.set(8,15-r-1+1,s,!0):i.set(8,15-r-1,s,!0);i.set(e-8,8,1,!0)}function De(i,t){const o=i.size;let e=-1,n=o-1,r=7,s=0;for(let a=o-1;a>0;a-=2)for(a===6&&a--;;){for(let c=0;c<2;c++)if(!i.isReserved(n,a-c)){let u=!1;s<t.length&&(u=(t[s]>>>r&1)===1),i.set(n,a-c,u),r--,r===-1&&(s++,r=7)}if(n+=e,n<0||o<=n){n-=e,e=-e;break}}}function qe(i,t,o){const e=new be;o.forEach(function(c){e.put(c.mode.bit,4),e.put(c.getLength(),Ae.getCharCountIndicator(c.mode,i)),c.write(e)});const n=ot.getSymbolTotalCodewords(i),r=mt.getTotalCodewordsCount(i,t),s=(n-r)*8;for(e.getLengthInBits()+4<=s&&e.put(0,4);e.getLengthInBits()%8!==0;)e.putBit(0);const a=(s-e.getLengthInBits())/8;for(let c=0;c<a;c++)e.put(c%2?17:236,8);return Ue(e,i,t)}function Ue(i,t,o){const e=ot.getSymbolTotalCodewords(t),n=mt.getTotalCodewordsCount(t,o),r=e-n,s=mt.getBlocksCount(t,o),a=e%s,c=s-a,u=Math.floor(e/s),f=Math.floor(r/s),_=f+1,d=u-f,h=new Pe(d);let l=0;const w=new Array(s),g=new Array(s);let m=0;const y=new Uint8Array(i.buffer);for(let E=0;E<s;E++){const R=E<c?f:_;w[E]=y.slice(l,l+R),g[E]=h.encode(w[E]),l+=R,m=Math.max(m,R)}const C=new Uint8Array(e);let p=0,T,v;for(T=0;T<m;T++)for(v=0;v<s;v++)T<w[v].length&&(C[p++]=w[v][T]);for(T=0;T<d;T++)for(v=0;v<s;v++)C[p++]=g[v][T];return C}function Fe(i,t,o,e){let n;if(Array.isArray(i))n=lt.fromArray(i);else if(typeof i=="string"){let u=t;if(!u){const f=lt.rawSplit(i);u=z.getBestVersionForData(f,o)}n=lt.fromString(i,u||40)}else throw new Error("Invalid data");const r=z.getBestVersionForData(n,o);if(!r)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=r;else if(t<r)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+r+`.
`);const s=qe(t,o,n),a=ot.getSymbolSize(t),c=new Re(a);return Me(c,t),Le(c),ke(c,t),dt(c,o,0),t>=7&&Ne(c,t),De(c,s),isNaN(e)&&(e=wt.getBestMask(c,dt.bind(null,c,o))),wt.applyMask(e,c),dt(c,o,e),{modules:c,version:t,errorCorrectionLevel:o,maskPattern:e,segments:n}}kt.create=function(t,o){if(typeof t>"u"||t==="")throw new Error("No input text");let e=ct.M,n,r;return typeof o<"u"&&(e=ct.from(o.errorCorrectionLevel,ct.M),n=z.from(o.version),r=wt.from(o.maskPattern),o.toSJISFunc&&ot.setToSJISFunction(o.toSJISFunc)),Fe(t,n,e,r)};var Yt={},Et={};(function(i){function t(o){if(typeof o=="number"&&(o=o.toString()),typeof o!="string")throw new Error("Color should be defined as hex string");let e=o.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+o);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(r){return[r,r]}))),e.length===6&&e.push("F","F");const n=parseInt(e.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:n&255,hex:"#"+e.slice(0,6).join("")}}i.getOptions=function(e){e||(e={}),e.color||(e.color={});const n=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,r=e.width&&e.width>=21?e.width:void 0,s=e.scale||4;return{width:r,scale:r?4:s,margin:n,color:{dark:t(e.color.dark||"#000000ff"),light:t(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},i.getScale=function(e,n){return n.width&&n.width>=e+n.margin*2?n.width/(e+n.margin*2):n.scale},i.getImageWidth=function(e,n){const r=i.getScale(e,n);return Math.floor((e+n.margin*2)*r)},i.qrToImageData=function(e,n,r){const s=n.modules.size,a=n.modules.data,c=i.getScale(s,r),u=Math.floor((s+r.margin*2)*c),f=r.margin*c,_=[r.color.light,r.color.dark];for(let d=0;d<u;d++)for(let h=0;h<u;h++){let l=(d*u+h)*4,w=r.color.light;if(d>=f&&h>=f&&d<u-f&&h<u-f){const g=Math.floor((d-f)/c),m=Math.floor((h-f)/c);w=_[a[g*s+m]?1:0]}e[l++]=w.r,e[l++]=w.g,e[l++]=w.b,e[l]=w.a}}})(Et);(function(i){const t=Et;function o(n,r,s){n.clearRect(0,0,r.width,r.height),r.style||(r.style={}),r.height=s,r.width=s,r.style.height=s+"px",r.style.width=s+"px"}function e(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}i.render=function(r,s,a){let c=a,u=s;typeof c>"u"&&(!s||!s.getContext)&&(c=s,s=void 0),s||(u=e()),c=t.getOptions(c);const f=t.getImageWidth(r.modules.size,c),_=u.getContext("2d"),d=_.createImageData(f,f);return t.qrToImageData(d.data,r,c),o(_,u,f),_.putImageData(d,0,0),u},i.renderToDataURL=function(r,s,a){let c=a;typeof c>"u"&&(!s||!s.getContext)&&(c=s,s=void 0),c||(c={});const u=i.render(r,s,c),f=c.type||"image/png",_=c.rendererOpts||{};return u.toDataURL(f,_.quality)}})(Yt);var Gt={};const Ve=Et;function At(i,t){const o=i.a/255,e=t+'="'+i.hex+'"';return o<1?e+" "+t+'-opacity="'+o.toFixed(2).slice(1)+'"':e}function ut(i,t,o){let e=i+t;return typeof o<"u"&&(e+=" "+o),e}function Oe(i,t,o){let e="",n=0,r=!1,s=0;for(let a=0;a<i.length;a++){const c=Math.floor(a%t),u=Math.floor(a/t);!c&&!r&&(r=!0),i[a]?(s++,a>0&&c>0&&i[a-1]||(e+=r?ut("M",c+o,.5+u+o):ut("m",n,0),n=0,r=!1),c+1<t&&i[a+1]||(e+=ut("h",s),s=0)):n++}return e}Gt.render=function(t,o,e){const n=Ve.getOptions(o),r=t.modules.size,s=t.modules.data,a=r+n.margin*2,c=n.color.light.a?"<path "+At(n.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",u="<path "+At(n.color.dark,"stroke")+' d="'+Oe(s,r,n.margin)+'"/>',f='viewBox="0 0 '+a+" "+a+'"',d='<svg xmlns="http://www.w3.org/2000/svg" '+(n.width?'width="'+n.width+'" height="'+n.width+'" ':"")+f+' shape-rendering="crispEdges">'+c+u+`</svg>
`;return typeof e=="function"&&e(null,d),d};const He=te,pt=kt,Wt=Yt,Qe=Gt;function bt(i,t,o,e,n){const r=[].slice.call(arguments,1),s=r.length,a=typeof r[s-1]=="function";if(!a&&!He())throw new Error("Callback required as last argument");if(a){if(s<2)throw new Error("Too few arguments provided");s===2?(n=o,o=t,t=e=void 0):s===3&&(t.getContext&&typeof n>"u"?(n=e,e=void 0):(n=e,e=o,o=t,t=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(o=t,t=e=void 0):s===2&&!t.getContext&&(e=o,o=t,t=void 0),new Promise(function(c,u){try{const f=pt.create(o,e);c(i(f,t,e))}catch(f){u(f)}})}try{const c=pt.create(o,e);n(null,i(c,t,e))}catch(c){n(c)}}W.create=pt.create;W.toCanvas=bt.bind(null,Wt.render);W.toDataURL=bt.bind(null,Wt.renderToDataURL);W.toString=bt.bind(null,function(i,t,o){return Qe.render(i,o)});function Ke(i){return i.length>36?"M":i.length>16?"Q":"H"}function Je(i,t){const o=new Image;return o.setAttribute("crossOrigin",t||"anonymous"),o.src=i,new Promise((e,n)=>{o.onload=()=>{e(o)},o.onerror=()=>{n("logo load fail!")}})}const Mt=i=>(t,o,e,n,r)=>{const s=Math.min(e,n);return r>s/2&&(r=s/2),i.beginPath(),i.moveTo(t+r,o),i.arcTo(t+e,o,t+e,o+n,r),i.arcTo(t+e,o+n,t,o+n,r),i.arcTo(t,o+n,t,o,r),i.arcTo(t,o,t+e,o,r),i.closePath(),i};function Ct(i){return typeof i=="function"}const je=async function(i){const{canvas:t}=i,{image:o,downloadName:e}=i;let{download:n}=i;if(t.toDataURL())o.src=t.toDataURL();else throw new Error("Can not get the canvas DataURL");if(n!==!0&&!Ct(n))return;n=n===!0?s=>s():n;const r=()=>$t(o,e);return n?n(r):Promise.resolve()},$t=(i,t)=>new Promise((o,e)=>{try{const n=i.src,r=document.createElement("a");r.download=t,r.href=n,r.dispatchEvent(new MouseEvent("click")),o(!0)}catch(n){e(n)}}),B={tile:"tile",dot:"dot",dotSmall:"dot-small",rounded:"rounded",square:"square",diamond:"diamond",star:"star",fluid:"fluid",fluidLine:"fluid-line",stripe:"stripe",stripeColumn:"stripe-column"};class Ye{constructor({context:t,type:o}){this._context=t,this._type=o}draw(t,o,e,n){const r=this._context,s=this._type;let a;switch(s){case B.tile:a=this._drawTile;break;case B.dot:a=this._drawDot;break;case B.dotSmall:a=this._drawDotSmall;break;case B.rounded:a=this._drawRounded;break;case B.diamond:a=this._drawDiamond;break;case B.star:a=this._drawStar;break;case B.fluid:a=this._drawFluid;break;case B.fluidLine:a=this._drawFluidLine;break;case B.stripe:a=this._drawStripe;break;case B.stripeColumn:a=this._drawStripeColumn;break;case B.square:default:a=this._drawSquare;break}a.call(this,{x:t,y:o,size:e,context:r,getNeighbor:n})}_drawSquare({x:t,y:o,size:e,context:n}){this._basicSquare({x:t,y:o,size:e,context:n,rotation:0})}_basicSquare(t){const{size:o,context:e}=t;this._rotateFigure({...t,draw:()=>{e.rect(-o/2,-o/2,o,o)}})}_drawDot(t){this._drawBasicDot(t)}_drawDotSmall(t){this._drawBasicDot({...t,dotRate:.3})}_drawBasicDot(t){const{x:o,y:e,size:n,context:r,dotRate:s=.4}=t,a=o+n/2,c=e+n/2;r.beginPath(),r.arc(a,c,n*s,0,Math.PI*2),r.closePath(),r.fill()}_drawRounded({x:t,y:o,size:e,context:n}){e=.75*e,t+=1/8*e,o+=1/8*e;const r=[e/4,e/4,e/4,e/4],s=r[0]||0,a=r[1]||0,c=r[2]||0,u=r[3]||0;n.beginPath();const f=t+e/2,_=o+e/2,d=-e/2;n.translate(f,_),n.moveTo(d+s,d),n.lineTo(d+e-a,d),a&&n.quadraticCurveTo(d+e,d,d+e,d+a),n.lineTo(d+e,d+e-c),c&&n.quadraticCurveTo(d+e,d+e,d+e-c,d+e),n.lineTo(d+u,d+e),u&&n.quadraticCurveTo(d,d+e,d,d+e-u),n.lineTo(d,d+s),s&&n.quadraticCurveTo(d,d,d+s,d),n.closePath(),n.stroke(),n.fill(),n.translate(-f,-_)}_drawTile(t){const{size:o,context:e}=t;this._rotateFigure({...t,draw:()=>{e.rect(-o/2,-o/2,o-1,o-1)}})}_drawDiamond(t){let{size:o,context:e}=t;this._rotateFigure({...t,rotation:Math.PI/4,draw:()=>{o=.5*o/Math.sin(Math.PI/4),e.rect(-o/2,-o/2,o,o)}})}_drawStar(t){let{size:o,context:e}=t;this._rotateFigure({...t,rotation:Math.PI/4,draw:()=>{e.moveTo(-o/2,-o/2),e.quadraticCurveTo(0,0,o/2,-o/2),e.quadraticCurveTo(0,0,o/2,o/2),e.quadraticCurveTo(0,0,-o/2,o/2),e.quadraticCurveTo(0,0,-o/2,-o/2)}})}_drawFluidLine(t){this._drawFluid(t,!0)}_drawFluid({x:t,y:o,size:e,context:n,getNeighbor:r},s=!1){let a=[!1,!1,!1,!1];!r(0,-1)&&!r(-1,0)&&(a[0]=!0),!r(1,0)&&!r(0,-1)&&(a[1]=!0),!r(0,1)&&!r(1,0)&&(a[2]=!0),!r(0,1)&&!r(-1,0)&&(a[3]=!0);const c=t+e/2,u=o+e/2;if(n.translate(c,u),n.beginPath(),n.arc(0,0,e/2,0,2*Math.PI,!1),n.closePath(),n.fill(),a[0]||n.fillRect(-e/2,-e/2,e/2,e/2),a[1]||n.fillRect(0,-e/2,e/2,e/2),a[2]||n.fillRect(0,0,e/2,e/2),a[3]||n.fillRect(-e/2,0,e/2,e/2),s){const f=n.lineWidth;r(-1,1)&&(n.beginPath(),n.lineWidth=e/4,n.moveTo(0,0),n.lineTo(-e,e),n.stroke(),n.closePath()),r(1,1)&&(n.beginPath(),n.lineWidth=e/4,n.moveTo(0,0),n.lineTo(e,e),n.stroke(),n.closePath()),n.lineWidth=f}n.translate(-c,-u)}_drawStripeColumn(t){this._drawStripe(t,"column")}_drawStripe({x:t,y:o,size:e,context:n,getNeighbor:r},s="row"){const a=t+e/2,c=o+e/2;n.translate(a,c),n.beginPath(),n.arc(0,0,e/4,0,2*Math.PI,!1),n.fill(),n.closePath(),s==="row"?(r(-1,0)&&n.fillRect(-e/2,-e/4,e/2,e/2),r(1,0)&&n.fillRect(0,-e/4,e/2,e/2)):s==="column"&&(r(0,-1)&&n.fillRect(-e/4,-e/2,e/2,e/2),r(0,1)&&n.fillRect(-e/4,0,e/2,e/2)),n.translate(-a,-c)}_rotateFigure({x:t,y:o,size:e,context:n,rotation:r=0,draw:s}){const a=t+e/2,c=o+e/2;n.translate(a,c),r&&n.rotate(r),s(),n.closePath(),r&&n.rotate(-r),n.translate(-a,-c)}}const F={square:"square",rounded:"rounded",circle:"circle",roundedCircle:"rounded-circle",circleRounded:"circle-rounded",circleDiamond:"circle-diamond",circleStar:"circle-star"};class Ge{constructor(t,o,e){this.context=t,this.cornerType=o,this.color=e}draw({radius:t,x:o,y:e,cellSize:n}){let r;switch(this.cornerType){case F.circle:r=this._drawCircle;break;case F.rounded:r=this._drawRounded;break;case F.roundedCircle:r=this._drawRoundedCircle;break;case F.circleRounded:r=this._drawCircleRounded;break;case F.circleDiamond:r=this._drawCircleDiamond;break;case F.circleStar:r=this._drawCircleStar;break;case F.square:default:r=this._drawSquare;break}r.call(this,{x:o,y:e,radius:t,cellSize:n})}_drawRoundedCircle({x:t,y:o,cellSize:e,radius:n}){n=(n==null?void 0:n.outer)||n||e/2,this.drawRoundedSquare(e,t,o,e*7,n,!1,0),this.drawCircle(e,t+2*e,o+2*e,e*3,!0)}_drawCircleRounded({x:t,y:o,cellSize:e,radius:n}){this.drawCircle(e,t,o,e*7,!1),n=(n==null?void 0:n.inner)||n||e/4,this.drawRoundedSquare(e,t+2*e,o+2*e,e*3,n,!0,0)}_drawCircleDiamond({x:t,y:o,cellSize:e}){this.drawCircle(e,t,o,e*7,!1),this.drawRoundedSquare(e,t+2*e,o+2*e,e*3,0,!0,45*Math.PI/180)}_drawCircleStar({x:t,y:o,cellSize:e}){this.drawCircle(e,t,o,e*7,!1),this.drawInnerStar(t+2*e,o+2*e,e*3)}_drawSquare({x:t,y:o,cellSize:e}){return this._drawBasicRounded(t,o,e,0)}_drawRounded({x:t,y:o,cellSize:e,radius:n}){return this._drawBasicRounded(t,o,e,{inner:(n==null?void 0:n.inner)||e/4,outer:(n==null?void 0:n.outer)||e/2})}_drawCircle({x:t,y:o,cellSize:e}){this.drawCircle(e,t,o,e*7,!1),this.drawCircle(e,t+2*e,o+2*e,e*3,!0)}_drawBasicRounded(t,o,e,n,r=0){const s=Math.ceil(e);let a,c;typeof n!="number"?(a=n.outer||0,c=n.inner||0):(a=n,c=a);let u=e*7;this.drawRoundedSquare(s,t,o,u,a,!1,r),u=e*3,o+=e*2,t+=e*2,this.drawRoundedSquare(s,t,o,u,c,!0,r)}drawCircle(t,o,e,n,r){const s=this.context,a=this.color;s.lineWidth=t,s.fillStyle=a,s.strokeStyle=a,e+=n/2,o+=n/2,n-=t,s.beginPath(),s.arc(o,e,n/2,0,Math.PI*2),s.stroke(),s.closePath(),r&&s.fill()}drawRoundedSquare(t,o,e,n,r,s,a){const c=this.context,u=this.color;c.lineWidth=t,c.fillStyle=u,c.strokeStyle=u,e+=t/2,o+=t/2,n-=t,Array.isArray(r)||(r=[r,r,r,r]),r=r.map(m=>(m=Math.min(m,n/2),m<0?0:m));const f=r[0]||0,_=r[1]||0,d=r[2]||0,h=r[3]||0;c.beginPath();const l=o+n/2,w=e+n/2,g=-n/2;c.translate(l,w),a&&c.rotate(a),c.moveTo(g+f,g),c.lineTo(g+n-_,g),_&&c.quadraticCurveTo(g+n,g,g+n,g+_),c.lineTo(g+n,g+n-d),d&&c.quadraticCurveTo(g+n,g+n,g+n-d,g+n),c.lineTo(g+h,g+n),h&&c.quadraticCurveTo(g,g+n,g,g+n-h),c.lineTo(g,g+f),f&&c.quadraticCurveTo(g,g,g+f,g),c.closePath(),c.stroke(),s&&c.fill(),a&&c.rotate(-a),c.translate(-l,-w)}drawInnerStar(t,o,e){const n=this.context,r=t+e/2,s=o+e/2;n.translate(r,s),n.beginPath(),n.moveTo(-e/2,-e/2),n.quadraticCurveTo(0,-e/4,e/2,-e/2),n.quadraticCurveTo(e/4,0,e/2,e/2),n.quadraticCurveTo(0,e/4,-e/2,e/2),n.quadraticCurveTo(-e/4,0,-e/2,-e/2),n.closePath(),n.fill(),n.translate(-r,-s)}}const L={logo:{logoSize:.15,borderSize:.05,borderColor:"#fff",crossOrigin:"anonymous",borderRadius:8,logoRadius:0},width:380,download:!1,downloadName:"qr-code.png",nodeQrCodeOptions:{margin:4,color:{dark:"#000",light:"#fff"}},dotsOptions:{type:"square",color:"#000"},cornersOptions:{type:"square",color:"#000"}},ht=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],ft=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];class We{constructor(t){this.qrcodeArray=[],this.dotSize=0,this.offset=0;const{canvas:o,content:e,width:n=380,nodeQrCodeOptions:r={}}=t;r.errorCorrectionLevel=r.errorCorrectionLevel||Ke(e);const s=W.create(e,r);this.canvas=o,this.options=t,o==null||o.setAttribute("width",n+""),o==null||o.setAttribute("height",n+""),this.saveQrdata(s)}clear(){const t=this.context;t&&t.clearRect(0,0,this.canvas.width,this.canvas.height)}get context(){return this.canvas.getContext("2d")}async init(){this.clear(),this.drawBackground();const t=await this.drawLogo();this.drawDots(),this.drawCorners(),t&&t.call(this)}drawLogo(){var o;let t=(o=this.options)==null?void 0:o.logo;return t?(typeof t=="string"&&(t={src:t}),this._drawLogo(t)):Promise.resolve()}async _drawLogo(t){const o=this.context,e=this.canvas,{src:n,logoSize:r=L.logo.logoSize,borderColor:s=L.logo.borderColor,borderSize:a=L.logo.borderSize,crossOrigin:c=L.logo.crossOrigin,borderRadius:u=L.logo.borderRadius,logoRadius:f=L.logo.logoRadius}=t,_=await Je(n,c),d=_.width/_.height;let h,l,w,g;const m=e.width*a;d>1?(l=e.width*(a+r),g=e.width*r,w=g*d,h=w+m):(h=e.width*(a+r),w=e.width*r,g=w/d,l=g+m);const y=(this.size-Math.ceil(h/this.dotSize))/2,C=this.size-y-1,p=(this.size-Math.ceil(l/this.dotSize))/2,T=this.size-p-1;return this.inLogoRange=(v,E)=>v>=y&&v<=C&&E>=p&&E<=T,function(){const v=e.width/2,E=e.height/2;o.translate(v,E),Mt(o)(-h/2,-l/2,h,l,u),this.context.fillStyle=s,this.context.fill();const R=()=>{o.drawImage(_,-w/2,-g/2,w,g)},P=()=>{const b=document.createElement("canvas");b.width=w,b.height=g,b.getContext("2d").drawImage(_,0,0,w,g),Mt(o)(0,0,w,g,f),o.fillStyle=o.createPattern(b,"no-repeat"),o.fill()};f?(o.translate(-w/2,-g/2),P(),o.translate(-v+w/2,-E+g/2)):(R(),o.translate(-v,-E))}}saveQrdata(t){this.size=t.modules.size,this.version=t.version,this.qrcodeArray=t.modules.data;const{nodeQrCodeOptions:o}=this.options,e=(o==null?void 0:o.margin)||4,n=this.size,r=this.options.width||180,s=r-e*2;this.dotSize=Math.floor(s/n),this.offset=Math.floor((r-n*this.dotSize)/2)}isDark(t,o){return this.qrcodeArray[t+o*this.size]===1}drawBackground(){var n;const t=this.context,{nodeQrCodeOptions:o}=this.options,e=((n=o==null?void 0:o.color)==null?void 0:n.light)||"#ffffff";t&&(t.fillStyle=e,t.fillRect(0,0,this.canvas.width,this.canvas.height))}drawDots(){var o,e,n,r;const t=this.context;if(t){let s=function(h,l){var w,g,m,y,C,p;return!((w=ht[h])!=null&&w[l]||(g=ht[h-a+7])!=null&&g[l]||(m=ht[h])!=null&&m[l-a+7]||(y=ft[h])!=null&&y[l]||(C=ft[h-a+7])!=null&&C[l]||(p=ft[h])!=null&&p[l-a+7]||_.inLogoRange&&_.inLogoRange(h,l))};const a=this.size,c=this.dotSize,u=this.offset,f=this.offset,_=this,d=new Ye({context:this.context,type:((o=this.options.dotsOptions)==null?void 0:o.type)||"square"});t.fillStyle=t.strokeStyle=((e=this.options.dotsOptions)==null?void 0:e.color)||((r=(n=this.options.nodeQrCodeOptions)==null?void 0:n.color)==null?void 0:r.dark)||"#000000";for(let h=0;h<a;h++)for(let l=0;l<a;l++)s(h,l)&&this.isDark(h,l)&&d.draw(u+h*c,f+l*c,c,(w,g)=>h+w<0||l+g<0||h+w>=a||l+g>=a||!s(h+w,l+g)?!1:this.isDark(h+w,l+g));t.fill()}}drawCorners(){if(this.context){const{nodeQrCodeOptions:o}=this.options,e=(o==null?void 0:o.margin)||4,n=this.size,r=this.options.width||180,s=r-e*2,a=Math.floor(s/n),c=Math.floor((r-n*a)/2),u=Math.floor((r-n*a)/2);[[0,0],[1,0],[0,1]].forEach(([f,_])=>{var g,m,y;const d=c+f*a*(n-7),h=u+_*a*(n-7),l=this.options.cornersOptions;new Ge(this.context,l.type,l.color||((y=(m=(g=this.options)==null?void 0:g.nodeQrCodeOptions)==null?void 0:m.color)==null?void 0:y.dark)||"#000000").draw({x:d,y:h,cellSize:this.dotSize,radius:l.radius})})}}}const $e="1.0.6",Rt=class Rt{constructor(t){this.ifCanvasDrawed=!1,this.ifImageCreated=!1,this.drawImagePromiseResolve=[],this.drawCanvasPromiseResolve=[],this.defaultOption={canvas:void 0,image:void 0,content:"",width:L.width,download:L.download,downloadName:L.downloadName},this.options=Object.assign(this.defaultOption,t),this.options.canvas||(this.options.canvas=document.createElement("canvas")),this.options.image||(this.options.image=document.createElement("img")),this._toCanvas().then(()=>this._toImage())}drawImagePromise(){return this.ifImageCreated?Promise.resolve():new Promise(t=>{this.drawImagePromiseResolve.push(t)})}drawCanvasPromise(){return this.ifCanvasDrawed?Promise.resolve():new Promise(t=>{this.drawCanvasPromiseResolve.push(t)})}toCanvas(){throw new Error("toCanvas has been Deprecated!")}toImage(){throw new Error("toImage has been Deprecated!")}_toCanvas(){return this.drawCanvasPromise(),new We(this.options).init().then(()=>{this.ifCanvasDrawed=!0,this.drawCanvasPromiseResolve.forEach(o=>{Ct(o)&&o()})})}async _toImage(){return this.drawImagePromise(),je(this.options).then(()=>{this.ifImageCreated=!0,this.drawImagePromiseResolve.forEach(t=>{Ct(t)&&t()})})}async downloadImage(t="qr-code.png"){return await this.drawImagePromise(),$t(this.options.image,t)}async getImage(){return await this.drawImagePromise(),this.options.image}async getCanvas(){return await this.drawCanvasPromise(),this.options.canvas}};Rt.version=$e;let yt=Rt;function Xe(i){if(!i)return"";var t=null;return"createObjectURL"in window&&isFunction(window.createObjectURL)?t=window.createObjectURL(i):window.URL!=null?t=window.URL.createObjectURL(i):window.webkitURL!=null&&(t=window.webkitURL.createObjectURL(i)),t}const Ze={data(){return{isClient:!1,logo:"https://avatars.githubusercontent.com/u/28730619?v=4",dotType:"square",dotColor:"#000",dotTypes:["square","dot","dot-small","tile","rounded","diamond","star","fluid","fluid-line","stripe","stripe-column"],cornerType:"square",cornerColor:"#000",cornerTypes:["square","rounded","circle","rounded-circle","circle-rounded","circle-diamond","circle-star"]}},mounted(){this.isClient=!0,this.createQrcode1()},methods:{createQrcode1(i=!1){new yt({image:document.getElementById("canvas1"),content:"https://github.com/zxpsuper",width:1024,download:i,logo:{src:this.logo},dotsOptions:{color:this.dotColor,type:this.dotType},cornersOptions:{color:this.cornerColor,type:this.cornerType},nodeQrCodeOptions:{margin:20}})},beforeUpload(i){const t=Xe(i);return this.logo=t,this.createQrcode1(),!1}}},ln=JSON.parse('{"title":"qrcode-with-logos","description":"","frontmatter":{"title":"qrcode-with-logos","editLink":true,"layout":"home","hero":{"name":"qrcode-with-logos","tagline":"A library for generating QR codes with a logo and styling.","actions":[{"theme":"brand","text":"Get Started","link":"/guide/getting-started"},{"theme":"alt","text":"View on GitHub","link":"https://github.com/zxpsuper/qrcode-with-logos"}]}},"headers":[],"relativePath":"index.md","filePath":"index.md","lastUpdated":1719236344000}'),xe=i=>(xt("data-v-7e552e4d"),i=i(),zt(),i),ze=Lt("",7),tn=xe(()=>O("img",{id:"canvas1",style:{width:"280px"}},null,-1)),en={style:{"margin-top":"16px"}},nn={style:{"margin-top":"16px"}},on={style:{"margin-top":"16px"}},rn={style:{"margin-top":"16px"}},an=Lt("",4);function sn(i,t,o,e,n,r){const s=N("el-col"),a=N("el-color-picker"),c=N("el-option"),u=N("el-select"),f=N("el-button"),_=N("el-upload"),d=N("el-row"),h=N("Tongji");return V(),it("div",null,[ze,S(d,{gutter:20},{default:k(()=>[S(s,{span:12},{default:k(()=>[tn]),_:1}),n.isClient?(V(),at(s,{key:0,span:12},{default:k(()=>[D(" dots.color: "),S(a,{modelValue:n.dotColor,"onUpdate:modelValue":t[0]||(t[0]=l=>n.dotColor=l),onChange:r.createQrcode1},null,8,["modelValue","onChange"]),O("div",en,[D(" corners.color: "),S(a,{modelValue:n.cornerColor,"onUpdate:modelValue":t[1]||(t[1]=l=>n.cornerColor=l),onChange:r.createQrcode1},null,8,["modelValue","onChange"])]),O("div",nn,[D(" dots.type: "),S(u,{modelValue:n.dotType,"onUpdate:modelValue":t[2]||(t[2]=l=>n.dotType=l),placeholder:"Select",style:{width:"200px"},onChange:r.createQrcode1},{default:k(()=>[(V(!0),it(It,null,Bt(n.dotTypes,l=>(V(),at(c,{key:l,label:l,value:l},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),O("div",on,[D(" corners.type: "),S(u,{modelValue:n.cornerType,"onUpdate:modelValue":t[3]||(t[3]=l=>n.cornerType=l),placeholder:"Select",style:{width:"200px"},onChange:r.createQrcode1},{default:k(()=>[(V(!0),it(It,null,Bt(n.cornerTypes,l=>(V(),at(c,{key:l,label:l,value:l},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),O("div",rn,[D(" logo: "),S(_,{class:"upload-demo","before-upload":r.beforeUpload,style:{display:"inline-block"}},{default:k(()=>[S(f,{type:"primary"},{default:k(()=>[D("Click to change logo")]),_:1})]),_:1},8,["before-upload"])]),O("div",null,[D(" download: "),S(f,{type:"primary",onClick:t[4]||(t[4]=l=>r.createQrcode1(!0))},{default:k(()=>[D("Click to download")]),_:1})])]),_:1})):Zt("",!0)]),_:1}),an,S(h)])}const dn=Xt(Ze,[["render",sn],["__scopeId","data-v-7e552e4d"]]);export{ln as __pageData,dn as default};
