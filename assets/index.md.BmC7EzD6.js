import{_ as $t,c as at,I,w as L,aR as Mt,D as k,o as j,a as N,j as V,F as bt,E as Bt,b as Rt,p as Xt,l as Zt}from"./chunks/framework.MDQz7FCs.js";function xt(a){return typeof a=="function"}function zt(a){return typeof a=="string"}const te=async function(a,e){const{canvas:o}=a;a.logo&&(zt(a.logo)&&(a.logo={src:a.logo}),a.logo.crossOrigin="Anonymous");const{image:t,downloadName:n="qr-code"}=a;let{download:r}=a;if(o.toDataURL())t.src=o.toDataURL();else throw new Error("Can not get the canvas DataURL");if(e.ifImageCreated=!0,r!==!0&&!xt(r))return;r=r===!0?i=>i():r;const s=()=>Lt(t,n);return r?r(s):Promise.resolve()},Lt=(a,e)=>new Promise((o,t)=>{try{const n=a.src,r=document.createElement("a");r.download=e,r.href=n,r.dispatchEvent(new MouseEvent("click")),o(!0)}catch(n){t(n)}}),ee="1.0.6";function ne(a){return a.length>36?"M":a.length>16?"Q":"H"}function oe(a,e){const o=new Image;return o.setAttribute("crossOrigin",e||"anonymous"),o.src=a,new Promise((t,n)=>{o.onload=()=>{t(o)},o.onerror=()=>{n("logo load fail!")}})}const It=a=>(e,o,t,n,r)=>{const s=Math.min(t,n);return r>s/2&&(r=s/2),a.beginPath(),a.moveTo(e+r,o),a.arcTo(e+t,o,e+t,o+n,r),a.arcTo(e+t,o+n,e,o+n,r),a.arcTo(e,o+n,e,o,r),a.arcTo(e,o,e+t,o,r),a.closePath(),a};var W={},re=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},kt={},R={};let Ct;const ae=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];R.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};R.getSymbolTotalCodewords=function(e){return ae[e]};R.getBCHDigit=function(a){let e=0;for(;a!==0;)e++,a>>>=1;return e};R.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Ct=e};R.isKanjiModeEnabled=function(){return typeof Ct<"u"};R.toSJIS=function(e){return Ct(e)};var tt={};(function(a){a.L={bit:1},a.M={bit:0},a.Q={bit:3},a.H={bit:2};function e(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"l":case"low":return a.L;case"m":case"medium":return a.M;case"q":case"quartile":return a.Q;case"h":case"high":return a.H;default:throw new Error("Unknown EC Level: "+o)}}a.isValid=function(t){return t&&typeof t.bit<"u"&&t.bit>=0&&t.bit<4},a.from=function(t,n){if(a.isValid(t))return t;try{return e(t)}catch{return n}}})(tt);function Nt(){this.buffer=[],this.length=0}Nt.prototype={get:function(a){const e=Math.floor(a/8);return(this.buffer[e]>>>7-a%8&1)===1},put:function(a,e){for(let o=0;o<e;o++)this.putBit((a>>>e-o-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(a){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),a&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var ie=Nt;function $(a){if(!a||a<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=a,this.data=new Uint8Array(a*a),this.reservedBit=new Uint8Array(a*a)}$.prototype.set=function(a,e,o,t){const n=a*this.size+e;this.data[n]=o,t&&(this.reservedBit[n]=!0)};$.prototype.get=function(a,e){return this.data[a*this.size+e]};$.prototype.xor=function(a,e,o){this.data[a*this.size+e]^=o};$.prototype.isReserved=function(a,e){return this.reservedBit[a*this.size+e]};var se=$,Dt={};(function(a){const e=R.getSymbolSize;a.getRowColCoords=function(t){if(t===1)return[];const n=Math.floor(t/7)+2,r=e(t),s=r===145?26:Math.ceil((r-13)/(2*n-2))*2,i=[r-7];for(let c=1;c<n-1;c++)i[c]=i[c-1]-s;return i.push(6),i.reverse()},a.getPositions=function(t){const n=[],r=a.getRowColCoords(t),s=r.length;for(let i=0;i<s;i++)for(let c=0;c<s;c++)i===0&&c===0||i===0&&c===s-1||i===s-1&&c===0||n.push([r[i],r[c]]);return n}})(Dt);var qt={};const ce=R.getSymbolSize,Pt=7;qt.getPositions=function(e){const o=ce(e);return[[0,0],[o-Pt,0],[0,o-Pt]]};var Ut={};(function(a){a.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};a.isValid=function(n){return n!=null&&n!==""&&!isNaN(n)&&n>=0&&n<=7},a.from=function(n){return a.isValid(n)?parseInt(n,10):void 0},a.getPenaltyN1=function(n){const r=n.size;let s=0,i=0,c=0,u=null,h=null;for(let _=0;_<r;_++){i=c=0,u=h=null;for(let d=0;d<r;d++){let f=n.get(_,d);f===u?i++:(i>=5&&(s+=e.N1+(i-5)),u=f,i=1),f=n.get(d,_),f===h?c++:(c>=5&&(s+=e.N1+(c-5)),h=f,c=1)}i>=5&&(s+=e.N1+(i-5)),c>=5&&(s+=e.N1+(c-5))}return s},a.getPenaltyN2=function(n){const r=n.size;let s=0;for(let i=0;i<r-1;i++)for(let c=0;c<r-1;c++){const u=n.get(i,c)+n.get(i,c+1)+n.get(i+1,c)+n.get(i+1,c+1);(u===4||u===0)&&s++}return s*e.N2},a.getPenaltyN3=function(n){const r=n.size;let s=0,i=0,c=0;for(let u=0;u<r;u++){i=c=0;for(let h=0;h<r;h++)i=i<<1&2047|n.get(u,h),h>=10&&(i===1488||i===93)&&s++,c=c<<1&2047|n.get(h,u),h>=10&&(c===1488||c===93)&&s++}return s*e.N3},a.getPenaltyN4=function(n){let r=0;const s=n.data.length;for(let c=0;c<s;c++)r+=n.data[c];return Math.abs(Math.ceil(r*100/s/5)-10)*e.N4};function o(t,n,r){switch(t){case a.Patterns.PATTERN000:return(n+r)%2===0;case a.Patterns.PATTERN001:return n%2===0;case a.Patterns.PATTERN010:return r%3===0;case a.Patterns.PATTERN011:return(n+r)%3===0;case a.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(r/3))%2===0;case a.Patterns.PATTERN101:return n*r%2+n*r%3===0;case a.Patterns.PATTERN110:return(n*r%2+n*r%3)%2===0;case a.Patterns.PATTERN111:return(n*r%3+(n+r)%2)%2===0;default:throw new Error("bad maskPattern:"+t)}}a.applyMask=function(n,r){const s=r.size;for(let i=0;i<s;i++)for(let c=0;c<s;c++)r.isReserved(c,i)||r.xor(c,i,o(n,c,i))},a.getBestMask=function(n,r){const s=Object.keys(a.Patterns).length;let i=0,c=1/0;for(let u=0;u<s;u++){r(u),a.applyMask(u,n);const h=a.getPenaltyN1(n)+a.getPenaltyN2(n)+a.getPenaltyN3(n)+a.getPenaltyN4(n);a.applyMask(u,n),h<c&&(c=h,i=u)}return i}})(Ut);var et={};const D=tt,X=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Z=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];et.getBlocksCount=function(e,o){switch(o){case D.L:return X[(e-1)*4+0];case D.M:return X[(e-1)*4+1];case D.Q:return X[(e-1)*4+2];case D.H:return X[(e-1)*4+3];default:return}};et.getTotalCodewordsCount=function(e,o){switch(o){case D.L:return Z[(e-1)*4+0];case D.M:return Z[(e-1)*4+1];case D.Q:return Z[(e-1)*4+2];case D.H:return Z[(e-1)*4+3];default:return}};var Ft={},nt={};const Y=new Uint8Array(512),x=new Uint8Array(256);(function(){let e=1;for(let o=0;o<255;o++)Y[o]=e,x[e]=o,e<<=1,e&256&&(e^=285);for(let o=255;o<512;o++)Y[o]=Y[o-255]})();nt.log=function(e){if(e<1)throw new Error("log("+e+")");return x[e]};nt.exp=function(e){return Y[e]};nt.mul=function(e,o){return e===0||o===0?0:Y[x[e]+x[o]]};(function(a){const e=nt;a.mul=function(t,n){const r=new Uint8Array(t.length+n.length-1);for(let s=0;s<t.length;s++)for(let i=0;i<n.length;i++)r[s+i]^=e.mul(t[s],n[i]);return r},a.mod=function(t,n){let r=new Uint8Array(t);for(;r.length-n.length>=0;){const s=r[0];for(let c=0;c<n.length;c++)r[c]^=e.mul(n[c],s);let i=0;for(;i<r.length&&r[i]===0;)i++;r=r.slice(i)}return r},a.generateECPolynomial=function(t){let n=new Uint8Array([1]);for(let r=0;r<t;r++)n=a.mul(n,new Uint8Array([1,e.exp(r)]));return n}})(Ft);const Vt=Ft;function yt(a){this.genPoly=void 0,this.degree=a,this.degree&&this.initialize(this.degree)}yt.prototype.initialize=function(e){this.degree=e,this.genPoly=Vt.generateECPolynomial(this.degree)};yt.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const o=new Uint8Array(e.length+this.degree);o.set(e);const t=Vt.mod(o,this.genPoly),n=this.degree-t.length;if(n>0){const r=new Uint8Array(this.degree);return r.set(t,n),r}return t};var le=yt,Ot={},q={},_t={};_t.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var A={};const Ht="[0-9]+",de="[A-Z $%*+\\-./:]+";let G="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";G=G.replace(/u/g,"\\u");const ue="(?:(?![A-Z0-9 $%*+\\-./:]|"+G+`)(?:.|[\r
]))+`;A.KANJI=new RegExp(G,"g");A.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");A.BYTE=new RegExp(ue,"g");A.NUMERIC=new RegExp(Ht,"g");A.ALPHANUMERIC=new RegExp(de,"g");const fe=new RegExp("^"+G+"$"),he=new RegExp("^"+Ht+"$"),ge=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");A.testKanji=function(e){return fe.test(e)};A.testNumeric=function(e){return he.test(e)};A.testAlphanumeric=function(e){return ge.test(e)};(function(a){const e=_t,o=A;a.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},a.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},a.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},a.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},a.MIXED={bit:-1},a.getCharCountIndicator=function(r,s){if(!r.ccBits)throw new Error("Invalid mode: "+r);if(!e.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?r.ccBits[0]:s<27?r.ccBits[1]:r.ccBits[2]},a.getBestModeForData=function(r){return o.testNumeric(r)?a.NUMERIC:o.testAlphanumeric(r)?a.ALPHANUMERIC:o.testKanji(r)?a.KANJI:a.BYTE},a.toString=function(r){if(r&&r.id)return r.id;throw new Error("Invalid mode")},a.isValid=function(r){return r&&r.bit&&r.ccBits};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"numeric":return a.NUMERIC;case"alphanumeric":return a.ALPHANUMERIC;case"kanji":return a.KANJI;case"byte":return a.BYTE;default:throw new Error("Unknown mode: "+n)}}a.from=function(r,s){if(a.isValid(r))return r;try{return t(r)}catch{return s}}})(q);(function(a){const e=R,o=et,t=tt,n=q,r=_t,s=7973,i=e.getBCHDigit(s);function c(d,f,l){for(let w=1;w<=40;w++)if(f<=a.getCapacity(w,l,d))return w}function u(d,f){return n.getCharCountIndicator(d,f)+4}function h(d,f){let l=0;return d.forEach(function(w){const g=u(w.mode,f);l+=g+w.getBitsLength()}),l}function _(d,f){for(let l=1;l<=40;l++)if(h(d,l)<=a.getCapacity(l,f,n.MIXED))return l}a.from=function(f,l){return r.isValid(f)?parseInt(f,10):l},a.getCapacity=function(f,l,w){if(!r.isValid(f))throw new Error("Invalid QR Code version");typeof w>"u"&&(w=n.BYTE);const g=e.getSymbolTotalCodewords(f),m=o.getTotalCodewordsCount(f,l),y=(g-m)*8;if(w===n.MIXED)return y;const C=y-u(w,f);switch(w){case n.NUMERIC:return Math.floor(C/10*3);case n.ALPHANUMERIC:return Math.floor(C/11*2);case n.KANJI:return Math.floor(C/13);case n.BYTE:default:return Math.floor(C/8)}},a.getBestVersionForData=function(f,l){let w;const g=t.from(l,t.M);if(Array.isArray(f)){if(f.length>1)return _(f,g);if(f.length===0)return 1;w=f[0]}else w=f;return c(w.mode,w.getLength(),g)},a.getEncodedBits=function(f){if(!r.isValid(f)||f<7)throw new Error("Invalid QR Code version");let l=f<<12;for(;e.getBCHDigit(l)-i>=0;)l^=s<<e.getBCHDigit(l)-i;return f<<12|l}})(Ot);var Qt={};const ht=R,Kt=1335,we=21522,St=ht.getBCHDigit(Kt);Qt.getEncodedBits=function(e,o){const t=e.bit<<3|o;let n=t<<10;for(;ht.getBCHDigit(n)-St>=0;)n^=Kt<<ht.getBCHDigit(n)-St;return(t<<10|n)^we};var Jt={};const me=q;function O(a){this.mode=me.NUMERIC,this.data=a.toString()}O.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};O.prototype.getLength=function(){return this.data.length};O.prototype.getBitsLength=function(){return O.getBitsLength(this.data.length)};O.prototype.write=function(e){let o,t,n;for(o=0;o+3<=this.data.length;o+=3)t=this.data.substr(o,3),n=parseInt(t,10),e.put(n,10);const r=this.data.length-o;r>0&&(t=this.data.substr(o),n=parseInt(t,10),e.put(n,r*3+1))};var pe=O;const Ce=q,it=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function H(a){this.mode=Ce.ALPHANUMERIC,this.data=a}H.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};H.prototype.getLength=function(){return this.data.length};H.prototype.getBitsLength=function(){return H.getBitsLength(this.data.length)};H.prototype.write=function(e){let o;for(o=0;o+2<=this.data.length;o+=2){let t=it.indexOf(this.data[o])*45;t+=it.indexOf(this.data[o+1]),e.put(t,11)}this.data.length%2&&e.put(it.indexOf(this.data[o]),6)};var ye=H,_e=function(e){for(var o=[],t=e.length,n=0;n<t;n++){var r=e.charCodeAt(n);if(r>=55296&&r<=56319&&t>n+1){var s=e.charCodeAt(n+1);s>=56320&&s<=57343&&(r=(r-55296)*1024+s-56320+65536,n+=1)}if(r<128){o.push(r);continue}if(r<2048){o.push(r>>6|192),o.push(r&63|128);continue}if(r<55296||r>=57344&&r<65536){o.push(r>>12|224),o.push(r>>6&63|128),o.push(r&63|128);continue}if(r>=65536&&r<=1114111){o.push(r>>18|240),o.push(r>>12&63|128),o.push(r>>6&63|128),o.push(r&63|128);continue}o.push(239,191,189)}return new Uint8Array(o).buffer};const ve=_e,Te=q;function Q(a){this.mode=Te.BYTE,typeof a=="string"&&(a=ve(a)),this.data=new Uint8Array(a)}Q.getBitsLength=function(e){return e*8};Q.prototype.getLength=function(){return this.data.length};Q.prototype.getBitsLength=function(){return Q.getBitsLength(this.data.length)};Q.prototype.write=function(a){for(let e=0,o=this.data.length;e<o;e++)a.put(this.data[e],8)};var Ee=Q;const be=q,Be=R;function K(a){this.mode=be.KANJI,this.data=a}K.getBitsLength=function(e){return e*13};K.prototype.getLength=function(){return this.data.length};K.prototype.getBitsLength=function(){return K.getBitsLength(this.data.length)};K.prototype.write=function(a){let e;for(e=0;e<this.data.length;e++){let o=Be.toSJIS(this.data[e]);if(o>=33088&&o<=40956)o-=33088;else if(o>=57408&&o<=60351)o-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);o=(o>>>8&255)*192+(o&255),a.put(o,13)}};var Re=K,jt={exports:{}};(function(a){var e={single_source_shortest_paths:function(o,t,n){var r={},s={};s[t]=0;var i=e.PriorityQueue.make();i.push(t,0);for(var c,u,h,_,d,f,l,w,g;!i.empty();){c=i.pop(),u=c.value,_=c.cost,d=o[u]||{};for(h in d)d.hasOwnProperty(h)&&(f=d[h],l=_+f,w=s[h],g=typeof s[h]>"u",(g||w>l)&&(s[h]=l,i.push(h,l),r[h]=u))}if(typeof n<"u"&&typeof s[n]>"u"){var m=["Could not find a path from ",t," to ",n,"."].join("");throw new Error(m)}return r},extract_shortest_path_from_predecessor_list:function(o,t){for(var n=[],r=t;r;)n.push(r),o[r],r=o[r];return n.reverse(),n},find_path:function(o,t,n){var r=e.single_source_shortest_paths(o,t,n);return e.extract_shortest_path_from_predecessor_list(r,n)},PriorityQueue:{make:function(o){var t=e.PriorityQueue,n={},r;o=o||{};for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n.queue=[],n.sorter=o.sorter||t.default_sorter,n},default_sorter:function(o,t){return o.cost-t.cost},push:function(o,t){var n={value:o,cost:t};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};a.exports=e})(jt);var Ie=jt.exports;(function(a){const e=q,o=pe,t=ye,n=Ee,r=Re,s=A,i=R,c=Ie;function u(m){return unescape(encodeURIComponent(m)).length}function h(m,y,C){const p=[];let T;for(;(T=m.exec(C))!==null;)p.push({data:T[0],index:T.index,mode:y,length:T[0].length});return p}function _(m){const y=h(s.NUMERIC,e.NUMERIC,m),C=h(s.ALPHANUMERIC,e.ALPHANUMERIC,m);let p,T;return i.isKanjiModeEnabled()?(p=h(s.BYTE,e.BYTE,m),T=h(s.KANJI,e.KANJI,m)):(p=h(s.BYTE_KANJI,e.BYTE,m),T=[]),y.concat(C,p,T).sort(function(E,B){return E.index-B.index}).map(function(E){return{data:E.data,mode:E.mode,length:E.length}})}function d(m,y){switch(y){case e.NUMERIC:return o.getBitsLength(m);case e.ALPHANUMERIC:return t.getBitsLength(m);case e.KANJI:return r.getBitsLength(m);case e.BYTE:return n.getBitsLength(m)}}function f(m){return m.reduce(function(y,C){const p=y.length-1>=0?y[y.length-1]:null;return p&&p.mode===C.mode?(y[y.length-1].data+=C.data,y):(y.push(C),y)},[])}function l(m){const y=[];for(let C=0;C<m.length;C++){const p=m[C];switch(p.mode){case e.NUMERIC:y.push([p,{data:p.data,mode:e.ALPHANUMERIC,length:p.length},{data:p.data,mode:e.BYTE,length:p.length}]);break;case e.ALPHANUMERIC:y.push([p,{data:p.data,mode:e.BYTE,length:p.length}]);break;case e.KANJI:y.push([p,{data:p.data,mode:e.BYTE,length:u(p.data)}]);break;case e.BYTE:y.push([{data:p.data,mode:e.BYTE,length:u(p.data)}])}}return y}function w(m,y){const C={},p={start:{}};let T=["start"];for(let v=0;v<m.length;v++){const E=m[v],B=[];for(let S=0;S<E.length;S++){const b=E[S],J=""+v+S;B.push(J),C[J]={node:b,lastCount:0},p[J]={};for(let rt=0;rt<T.length;rt++){const M=T[rt];C[M]&&C[M].node.mode===b.mode?(p[M][J]=d(C[M].lastCount+b.length,b.mode)-d(C[M].lastCount,b.mode),C[M].lastCount+=b.length):(C[M]&&(C[M].lastCount=b.length),p[M][J]=d(b.length,b.mode)+4+e.getCharCountIndicator(b.mode,y))}}T=B}for(let v=0;v<T.length;v++)p[T[v]].end=0;return{map:p,table:C}}function g(m,y){let C;const p=e.getBestModeForData(m);if(C=e.from(y,p),C!==e.BYTE&&C.bit<p.bit)throw new Error('"'+m+'" cannot be encoded with mode '+e.toString(C)+`.
 Suggested mode is: `+e.toString(p));switch(C===e.KANJI&&!i.isKanjiModeEnabled()&&(C=e.BYTE),C){case e.NUMERIC:return new o(m);case e.ALPHANUMERIC:return new t(m);case e.KANJI:return new r(m);case e.BYTE:return new n(m)}}a.fromArray=function(y){return y.reduce(function(C,p){return typeof p=="string"?C.push(g(p,null)):p.data&&C.push(g(p.data,p.mode)),C},[])},a.fromString=function(y,C){const p=_(y,i.isKanjiModeEnabled()),T=l(p),v=w(T,C),E=c.find_path(v.map,"start","end"),B=[];for(let S=1;S<E.length-1;S++)B.push(v.table[E[S]].node);return a.fromArray(f(B))},a.rawSplit=function(y){return a.fromArray(_(y,i.isKanjiModeEnabled()))}})(Jt);const ot=R,st=tt,Pe=ie,Se=se,Ae=Dt,Me=qt,gt=Ut,wt=et,Le=le,z=Ot,ke=Qt,Ne=q,ct=Jt;function De(a,e){const o=a.size,t=Me.getPositions(e);for(let n=0;n<t.length;n++){const r=t[n][0],s=t[n][1];for(let i=-1;i<=7;i++)if(!(r+i<=-1||o<=r+i))for(let c=-1;c<=7;c++)s+c<=-1||o<=s+c||(i>=0&&i<=6&&(c===0||c===6)||c>=0&&c<=6&&(i===0||i===6)||i>=2&&i<=4&&c>=2&&c<=4?a.set(r+i,s+c,!0,!0):a.set(r+i,s+c,!1,!0))}}function qe(a){const e=a.size;for(let o=8;o<e-8;o++){const t=o%2===0;a.set(o,6,t,!0),a.set(6,o,t,!0)}}function Ue(a,e){const o=Ae.getPositions(e);for(let t=0;t<o.length;t++){const n=o[t][0],r=o[t][1];for(let s=-2;s<=2;s++)for(let i=-2;i<=2;i++)s===-2||s===2||i===-2||i===2||s===0&&i===0?a.set(n+s,r+i,!0,!0):a.set(n+s,r+i,!1,!0)}}function Fe(a,e){const o=a.size,t=z.getEncodedBits(e);let n,r,s;for(let i=0;i<18;i++)n=Math.floor(i/3),r=i%3+o-8-3,s=(t>>i&1)===1,a.set(n,r,s,!0),a.set(r,n,s,!0)}function lt(a,e,o){const t=a.size,n=ke.getEncodedBits(e,o);let r,s;for(r=0;r<15;r++)s=(n>>r&1)===1,r<6?a.set(r,8,s,!0):r<8?a.set(r+1,8,s,!0):a.set(t-15+r,8,s,!0),r<8?a.set(8,t-r-1,s,!0):r<9?a.set(8,15-r-1+1,s,!0):a.set(8,15-r-1,s,!0);a.set(t-8,8,1,!0)}function Ve(a,e){const o=a.size;let t=-1,n=o-1,r=7,s=0;for(let i=o-1;i>0;i-=2)for(i===6&&i--;;){for(let c=0;c<2;c++)if(!a.isReserved(n,i-c)){let u=!1;s<e.length&&(u=(e[s]>>>r&1)===1),a.set(n,i-c,u),r--,r===-1&&(s++,r=7)}if(n+=t,n<0||o<=n){n-=t,t=-t;break}}}function Oe(a,e,o){const t=new Pe;o.forEach(function(c){t.put(c.mode.bit,4),t.put(c.getLength(),Ne.getCharCountIndicator(c.mode,a)),c.write(t)});const n=ot.getSymbolTotalCodewords(a),r=wt.getTotalCodewordsCount(a,e),s=(n-r)*8;for(t.getLengthInBits()+4<=s&&t.put(0,4);t.getLengthInBits()%8!==0;)t.putBit(0);const i=(s-t.getLengthInBits())/8;for(let c=0;c<i;c++)t.put(c%2?17:236,8);return He(t,a,e)}function He(a,e,o){const t=ot.getSymbolTotalCodewords(e),n=wt.getTotalCodewordsCount(e,o),r=t-n,s=wt.getBlocksCount(e,o),i=t%s,c=s-i,u=Math.floor(t/s),h=Math.floor(r/s),_=h+1,d=u-h,f=new Le(d);let l=0;const w=new Array(s),g=new Array(s);let m=0;const y=new Uint8Array(a.buffer);for(let E=0;E<s;E++){const B=E<c?h:_;w[E]=y.slice(l,l+B),g[E]=f.encode(w[E]),l+=B,m=Math.max(m,B)}const C=new Uint8Array(t);let p=0,T,v;for(T=0;T<m;T++)for(v=0;v<s;v++)T<w[v].length&&(C[p++]=w[v][T]);for(T=0;T<d;T++)for(v=0;v<s;v++)C[p++]=g[v][T];return C}function Qe(a,e,o,t){let n;if(Array.isArray(a))n=ct.fromArray(a);else if(typeof a=="string"){let u=e;if(!u){const h=ct.rawSplit(a);u=z.getBestVersionForData(h,o)}n=ct.fromString(a,u||40)}else throw new Error("Invalid data");const r=z.getBestVersionForData(n,o);if(!r)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=r;else if(e<r)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+r+`.
`);const s=Oe(e,o,n),i=ot.getSymbolSize(e),c=new Se(i);return De(c,e),qe(c),Ue(c,e),lt(c,o,0),e>=7&&Fe(c,e),Ve(c,s),isNaN(t)&&(t=gt.getBestMask(c,lt.bind(null,c,o))),gt.applyMask(t,c),lt(c,o,t),{modules:c,version:e,errorCorrectionLevel:o,maskPattern:t,segments:n}}kt.create=function(e,o){if(typeof e>"u"||e==="")throw new Error("No input text");let t=st.M,n,r;return typeof o<"u"&&(t=st.from(o.errorCorrectionLevel,st.M),n=z.from(o.version),r=gt.from(o.maskPattern),o.toSJISFunc&&ot.setToSJISFunction(o.toSJISFunc)),Qe(e,n,t,r)};var Yt={},vt={};(function(a){function e(o){if(typeof o=="number"&&(o=o.toString()),typeof o!="string")throw new Error("Color should be defined as hex string");let t=o.slice().replace("#","").split("");if(t.length<3||t.length===5||t.length>8)throw new Error("Invalid hex color: "+o);(t.length===3||t.length===4)&&(t=Array.prototype.concat.apply([],t.map(function(r){return[r,r]}))),t.length===6&&t.push("F","F");const n=parseInt(t.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:n&255,hex:"#"+t.slice(0,6).join("")}}a.getOptions=function(t){t||(t={}),t.color||(t.color={});const n=typeof t.margin>"u"||t.margin===null||t.margin<0?4:t.margin,r=t.width&&t.width>=21?t.width:void 0,s=t.scale||4;return{width:r,scale:r?4:s,margin:n,color:{dark:e(t.color.dark||"#000000ff"),light:e(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},a.getScale=function(t,n){return n.width&&n.width>=t+n.margin*2?n.width/(t+n.margin*2):n.scale},a.getImageWidth=function(t,n){const r=a.getScale(t,n);return Math.floor((t+n.margin*2)*r)},a.qrToImageData=function(t,n,r){const s=n.modules.size,i=n.modules.data,c=a.getScale(s,r),u=Math.floor((s+r.margin*2)*c),h=r.margin*c,_=[r.color.light,r.color.dark];for(let d=0;d<u;d++)for(let f=0;f<u;f++){let l=(d*u+f)*4,w=r.color.light;if(d>=h&&f>=h&&d<u-h&&f<u-h){const g=Math.floor((d-h)/c),m=Math.floor((f-h)/c);w=_[i[g*s+m]?1:0]}t[l++]=w.r,t[l++]=w.g,t[l++]=w.b,t[l]=w.a}}})(vt);(function(a){const e=vt;function o(n,r,s){n.clearRect(0,0,r.width,r.height),r.style||(r.style={}),r.height=s,r.width=s,r.style.height=s+"px",r.style.width=s+"px"}function t(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}a.render=function(r,s,i){let c=i,u=s;typeof c>"u"&&(!s||!s.getContext)&&(c=s,s=void 0),s||(u=t()),c=e.getOptions(c);const h=e.getImageWidth(r.modules.size,c),_=u.getContext("2d"),d=_.createImageData(h,h);return e.qrToImageData(d.data,r,c),o(_,u,h),_.putImageData(d,0,0),u},a.renderToDataURL=function(r,s,i){let c=i;typeof c>"u"&&(!s||!s.getContext)&&(c=s,s=void 0),c||(c={});const u=a.render(r,s,c),h=c.type||"image/png",_=c.rendererOpts||{};return u.toDataURL(h,_.quality)}})(Yt);var Gt={};const Ke=vt;function At(a,e){const o=a.a/255,t=e+'="'+a.hex+'"';return o<1?t+" "+e+'-opacity="'+o.toFixed(2).slice(1)+'"':t}function dt(a,e,o){let t=a+e;return typeof o<"u"&&(t+=" "+o),t}function Je(a,e,o){let t="",n=0,r=!1,s=0;for(let i=0;i<a.length;i++){const c=Math.floor(i%e),u=Math.floor(i/e);!c&&!r&&(r=!0),a[i]?(s++,i>0&&c>0&&a[i-1]||(t+=r?dt("M",c+o,.5+u+o):dt("m",n,0),n=0,r=!1),c+1<e&&a[i+1]||(t+=dt("h",s),s=0)):n++}return t}Gt.render=function(e,o,t){const n=Ke.getOptions(o),r=e.modules.size,s=e.modules.data,i=r+n.margin*2,c=n.color.light.a?"<path "+At(n.color.light,"fill")+' d="M0 0h'+i+"v"+i+'H0z"/>':"",u="<path "+At(n.color.dark,"stroke")+' d="'+Je(s,r,n.margin)+'"/>',h='viewBox="0 0 '+i+" "+i+'"',d='<svg xmlns="http://www.w3.org/2000/svg" '+(n.width?'width="'+n.width+'" height="'+n.width+'" ':"")+h+' shape-rendering="crispEdges">'+c+u+`</svg>
`;return typeof t=="function"&&t(null,d),d};const je=re,mt=kt,Wt=Yt,Ye=Gt;function Tt(a,e,o,t,n){const r=[].slice.call(arguments,1),s=r.length,i=typeof r[s-1]=="function";if(!i&&!je())throw new Error("Callback required as last argument");if(i){if(s<2)throw new Error("Too few arguments provided");s===2?(n=o,o=e,e=t=void 0):s===3&&(e.getContext&&typeof n>"u"?(n=t,t=void 0):(n=t,t=o,o=e,e=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(o=e,e=t=void 0):s===2&&!e.getContext&&(t=o,o=e,e=void 0),new Promise(function(c,u){try{const h=mt.create(o,t);c(a(h,e,t))}catch(h){u(h)}})}try{const c=mt.create(o,t);n(null,a(c,e,t))}catch(c){n(c)}}W.create=mt.create;W.toCanvas=Tt.bind(null,Wt.render);W.toDataURL=Tt.bind(null,Wt.renderToDataURL);W.toString=Tt.bind(null,function(a,e,o){return Ye.render(a,o)});const P={tile:"tile",dot:"dot",dotSmall:"dot-small",rounded:"rounded",square:"square",diamond:"diamond",star:"star",fluid:"fluid",fluidLine:"fluid-line",stripe:"stripe",stripeColumn:"stripe-column"};class Ge{constructor({context:e,type:o}){this._context=e,this._type=o}draw(e,o,t,n){const r=this._context,s=this._type;let i;switch(s){case P.tile:i=this._drawTile;break;case P.dot:i=this._drawDot;break;case P.dotSmall:i=this._drawDotSmall;break;case P.rounded:i=this._drawRounded;break;case P.diamond:i=this._drawDiamond;break;case P.star:i=this._drawStar;break;case P.fluid:i=this._drawFluid;break;case P.fluidLine:i=this._drawFluidLine;break;case P.stripe:i=this._drawStripe;break;case P.stripeColumn:i=this._drawStripeColumn;break;case P.square:default:i=this._drawSquare;break}i.call(this,{x:e,y:o,size:t,context:r,getNeighbor:n})}_drawSquare({x:e,y:o,size:t,context:n}){this._basicSquare({x:e,y:o,size:t,context:n,rotation:0})}_basicSquare(e){const{size:o,context:t}=e;this._rotateFigure({...e,draw:()=>{t.rect(-o/2,-o/2,o,o)}})}_drawDot(e){this._drawBasicDot(e)}_drawDotSmall(e){this._drawBasicDot({...e,dotRate:.3})}_drawBasicDot(e){const{x:o,y:t,size:n,context:r,dotRate:s=.4}=e,i=o+n/2,c=t+n/2;r.beginPath(),r.arc(i,c,n*s,0,Math.PI*2),r.closePath(),r.fill()}_drawRounded({x:e,y:o,size:t,context:n}){t=.75*t,e+=1/8*t,o+=1/8*t;const r=[t/4,t/4,t/4,t/4],s=r[0]||0,i=r[1]||0,c=r[2]||0,u=r[3]||0;n.beginPath();const h=e+t/2,_=o+t/2,d=-t/2;n.translate(h,_),n.moveTo(d+s,d),n.lineTo(d+t-i,d),i&&n.quadraticCurveTo(d+t,d,d+t,d+i),n.lineTo(d+t,d+t-c),c&&n.quadraticCurveTo(d+t,d+t,d+t-c,d+t),n.lineTo(d+u,d+t),u&&n.quadraticCurveTo(d,d+t,d,d+t-u),n.lineTo(d,d+s),s&&n.quadraticCurveTo(d,d,d+s,d),n.closePath(),n.stroke(),n.fill(),n.translate(-h,-_)}_drawTile(e){const{size:o,context:t}=e;this._rotateFigure({...e,draw:()=>{t.rect(-o/2,-o/2,o-1,o-1)}})}_drawDiamond(e){let{size:o,context:t}=e;this._rotateFigure({...e,rotation:Math.PI/4,draw:()=>{o=.5*o/Math.sin(Math.PI/4),t.rect(-o/2,-o/2,o,o)}})}_drawStar(e){let{size:o,context:t}=e;this._rotateFigure({...e,rotation:Math.PI/4,draw:()=>{t.moveTo(-o/2,-o/2),t.quadraticCurveTo(0,0,o/2,-o/2),t.quadraticCurveTo(0,0,o/2,o/2),t.quadraticCurveTo(0,0,-o/2,o/2),t.quadraticCurveTo(0,0,-o/2,-o/2)}})}_drawFluidLine(e){this._drawFluid(e,!0)}_drawFluid({x:e,y:o,size:t,context:n,getNeighbor:r},s=!1){console.log(n.lineWidth);let i=[!1,!1,!1,!1];!r(0,-1)&&!r(-1,0)&&(i[0]=!0),!r(1,0)&&!r(0,-1)&&(i[1]=!0),!r(0,1)&&!r(1,0)&&(i[2]=!0),!r(0,1)&&!r(-1,0)&&(i[3]=!0);const c=e+t/2,u=o+t/2;if(n.translate(c,u),n.beginPath(),n.arc(0,0,t/2,0,2*Math.PI,!1),n.closePath(),n.fill(),i[0]||n.fillRect(-t/2,-t/2,t/2,t/2),i[1]||n.fillRect(0,-t/2,t/2,t/2),i[2]||n.fillRect(0,0,t/2,t/2),i[3]||n.fillRect(-t/2,0,t/2,t/2),s){const h=n.lineWidth;r(-1,1)&&(n.beginPath(),n.lineWidth=t/4,n.moveTo(0,0),n.lineTo(-t,t),n.stroke(),n.closePath()),r(1,1)&&(n.beginPath(),n.lineWidth=t/4,n.moveTo(0,0),n.lineTo(t,t),n.stroke(),n.closePath()),n.lineWidth=h}n.translate(-c,-u)}_drawStripeColumn(e){this._drawStripe(e,"column")}_drawStripe({x:e,y:o,size:t,context:n,getNeighbor:r},s="row"){const i=e+t/2,c=o+t/2;n.translate(i,c),n.beginPath(),n.arc(0,0,t/4,0,2*Math.PI,!1),n.fill(),n.closePath(),s==="row"?(r(-1,0)&&n.fillRect(-t/2,-t/4,t/2,t/2),r(1,0)&&n.fillRect(0,-t/4,t/2,t/2)):s==="column"&&(r(0,-1)&&n.fillRect(-t/4,-t/2,t/2,t/2),r(0,1)&&n.fillRect(-t/4,0,t/2,t/2)),n.translate(-i,-c)}_rotateFigure({x:e,y:o,size:t,context:n,rotation:r=0,draw:s}){const i=e+t/2,c=o+t/2;n.translate(i,c),r&&n.rotate(r),s(),n.closePath(),r&&n.rotate(-r),n.translate(-i,-c)}}const U={square:"square",rounded:"rounded",circle:"circle",roundedCircle:"rounded-circle",circleRounded:"circle-rounded",circleDiamond:"circle-diamond",circleStar:"circle-star"};class We{constructor(e,o,t){this.context=e,this.cornerType=o,this.color=t}draw({radius:e,x:o,y:t,cellSize:n}){let r;switch(this.cornerType){case U.circle:r=this._drawCircle;break;case U.rounded:r=this._drawRounded;break;case U.roundedCircle:r=this._drawRoundedCircle;break;case U.circleRounded:r=this._drawCircleRounded;break;case U.circleDiamond:r=this._drawCircleDiamond;break;case U.circleStar:r=this._drawCircleStar;break;case U.square:default:r=this._drawSquare;break}r.call(this,{x:o,y:t,radius:e,cellSize:n})}_drawRoundedCircle({x:e,y:o,cellSize:t,radius:n}){n=(n==null?void 0:n.outer)||n||t/2,this.drawRoundedSquare(t,e,o,t*7,n,!1,0),this.drawCircle(t,e+2*t,o+2*t,t*3,!0)}_drawCircleRounded({x:e,y:o,cellSize:t,radius:n}){this.drawCircle(t,e,o,t*7,!1),n=(n==null?void 0:n.inner)||n||t/4,this.drawRoundedSquare(t,e+2*t,o+2*t,t*3,n,!0,0)}_drawCircleDiamond({x:e,y:o,cellSize:t}){this.drawCircle(t,e,o,t*7,!1),this.drawRoundedSquare(t,e+2*t,o+2*t,t*3,0,!0,45*Math.PI/180)}_drawCircleStar({x:e,y:o,cellSize:t}){this.drawCircle(t,e,o,t*7,!1),this.drawInnerStar(e+2*t,o+2*t,t*3)}_drawSquare({x:e,y:o,cellSize:t}){return this._drawBasicRounded(e,o,t,0)}_drawRounded({x:e,y:o,cellSize:t,radius:n}){return this._drawBasicRounded(e,o,t,{inner:(n==null?void 0:n.inner)||t/4,outer:(n==null?void 0:n.outer)||t/2})}_drawCircle({x:e,y:o,cellSize:t}){this.drawCircle(t,e,o,t*7,!1),this.drawCircle(t,e+2*t,o+2*t,t*3,!0)}_drawBasicRounded(e,o,t,n,r=0){const s=Math.ceil(t);let i,c;typeof n!="number"?(i=n.outer||0,c=n.inner||0):(i=n,c=i);let u=t*7;this.drawRoundedSquare(s,e,o,u,i,!1,r),u=t*3,o+=t*2,e+=t*2,this.drawRoundedSquare(s,e,o,u,c,!0,r)}drawCircle(e,o,t,n,r){const s=this.context,i=this.color;s.lineWidth=e,s.fillStyle=i,s.strokeStyle=i,t+=n/2,o+=n/2,n-=e,s.beginPath(),s.arc(o,t,n/2,0,Math.PI*2),s.stroke(),s.closePath(),r&&s.fill()}drawRoundedSquare(e,o,t,n,r,s,i){const c=this.context,u=this.color;c.lineWidth=e,c.fillStyle=u,c.strokeStyle=u,t+=e/2,o+=e/2,n-=e,Array.isArray(r)||(r=[r,r,r,r]),r=r.map(m=>(m=Math.min(m,n/2),m<0?0:m));const h=r[0]||0,_=r[1]||0,d=r[2]||0,f=r[3]||0;c.beginPath();const l=o+n/2,w=t+n/2,g=-n/2;c.translate(l,w),i&&c.rotate(i),c.moveTo(g+h,g),c.lineTo(g+n-_,g),_&&c.quadraticCurveTo(g+n,g,g+n,g+_),c.lineTo(g+n,g+n-d),d&&c.quadraticCurveTo(g+n,g+n,g+n-d,g+n),c.lineTo(g+f,g+n),f&&c.quadraticCurveTo(g,g+n,g,g+n-f),c.lineTo(g,g+h),h&&c.quadraticCurveTo(g,g,g+h,g),c.closePath(),c.stroke(),s&&c.fill(),i&&c.rotate(-i),c.translate(-l,-w)}drawInnerStar(e,o,t){const n=this.context,r=e+t/2,s=o+t/2;n.translate(r,s),n.beginPath(),n.moveTo(-t/2,-t/2),n.quadraticCurveTo(0,-t/4,t/2,-t/2),n.quadraticCurveTo(t/4,0,t/2,t/2),n.quadraticCurveTo(0,t/4,-t/2,t/2),n.quadraticCurveTo(-t/4,0,-t/2,-t/2),n.closePath(),n.fill(),n.translate(-r,-s)}}const F={logo:{logoSize:.15,borderSize:.05,bgColor:"#ffffff",crossOrigin:"anonymous",borderRadius:8,logoRadius:0},width:380,download:!1,downloadName:"qr-code.png",nodeQrCodeOptions:{margin:4,color:{dark:"#000000",light:"#ffffff"}},dotsOptions:{type:"square",color:"#000000"},cornersOptions:{type:"square",color:"#000000"}},ut=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],ft=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];class $e{constructor(e){this.qrcodeArray=[],this.dotSize=0,this.offset=0;const{canvas:o,content:t,width:n=380,nodeQrCodeOptions:r={}}=e;r.errorCorrectionLevel=r.errorCorrectionLevel||ne(t);const s=W.create(t,r);this.canvas=o,this.options=e,o==null||o.setAttribute("width",n+""),o==null||o.setAttribute("height",n+""),this.saveQrdata(s)}clear(){const e=this.context;e&&e.clearRect(0,0,this.canvas.width,this.canvas.height)}get context(){return this.canvas.getContext("2d")}async init(){this.clear(),this.drawBackground();const e=await this.drawLogo();this.drawDots(),this.drawCorners(),e&&e.call(this)}drawLogo(){var o;let e=(o=this.options)==null?void 0:o.logo;return e?(typeof e=="string"&&(e={src:e}),this._drawLogo(e)):Promise.resolve()}async _drawLogo(e){const o=this.context,t=this.canvas,{src:n,logoSize:r=F.logo.logoSize,bgColor:s=F.logo.bgColor,borderSize:i=F.logo.borderSize,crossOrigin:c=F.logo.crossOrigin,borderRadius:u=F.logo.borderRadius,logoRadius:h=F.logo.logoRadius}=e,_=await oe(n,c),d=_.width/_.height;let f,l,w,g;const m=t.width*i;d>1?(l=t.width*(i+r),g=t.width*r,w=g*d,f=w+m):(f=t.width*(i+r),w=t.width*r,g=w/d,l=g+m);const y=(this.size-Math.ceil(f/this.dotSize))/2,C=this.size-y-1,p=(this.size-Math.ceil(l/this.dotSize))/2,T=this.size-p-1;return this.inLogoRange=(v,E)=>v>=y&&v<=C&&E>=p&&E<=T,function(){const v=t.width/2,E=t.height/2;o.translate(v,E),It(o)(-f/2,-l/2,f,l,u),this.context.fillStyle=s,this.context.fill();const B=()=>{o.drawImage(_,-w/2,-g/2,w,g)},S=()=>{const b=document.createElement("canvas");b.width=w,b.height=g,b.getContext("2d").drawImage(_,0,0,w,g),It(o)(0,0,w,g,h),o.fillStyle=o.createPattern(b,"no-repeat"),o.fill()};h?(o.translate(-w/2,-g/2),S(),o.translate(-v+w/2,-E+g/2)):(B(),o.translate(-v,-E))}}saveQrdata(e){this.size=e.modules.size,this.version=e.version,this.qrcodeArray=e.modules.data;const{nodeQrCodeOptions:o}=this.options,t=(o==null?void 0:o.margin)||4,n=this.size,r=this.options.width||180,s=r-t*2;this.dotSize=Math.floor(s/n),this.offset=Math.floor((r-n*this.dotSize)/2)}isDark(e,o){return this.qrcodeArray[e+o*this.size]===1}drawBackground(){var n;const e=this.context,{nodeQrCodeOptions:o}=this.options,t=((n=o==null?void 0:o.color)==null?void 0:n.light)||"#ffffff";e&&(e.fillStyle=t,e.fillRect(0,0,this.canvas.width,this.canvas.height))}drawDots(){var o,t,n,r;const e=this.context;if(e){let s=function(f,l){var w,g,m,y,C,p;return!((w=ut[f])!=null&&w[l]||(g=ut[f-i+7])!=null&&g[l]||(m=ut[f])!=null&&m[l-i+7]||(y=ft[f])!=null&&y[l]||(C=ft[f-i+7])!=null&&C[l]||(p=ft[f])!=null&&p[l-i+7]||_.inLogoRange&&_.inLogoRange(f,l))};const i=this.size,c=this.dotSize,u=this.offset,h=this.offset,_=this,d=new Ge({context:this.context,type:((o=this.options.dotsOptions)==null?void 0:o.type)||"square"});e.fillStyle=e.strokeStyle=((t=this.options.dotsOptions)==null?void 0:t.color)||((r=(n=this.options.nodeQrCodeOptions)==null?void 0:n.color)==null?void 0:r.dark)||"#000000";for(let f=0;f<i;f++)for(let l=0;l<i;l++)s(f,l)&&this.isDark(f,l)&&d.draw(u+f*c,h+l*c,c,(w,g)=>f+w<0||l+g<0||f+w>=i||l+g>=i||!s(f+w,l+g)?!1:this.isDark(f+w,l+g));e.fill()}}drawCorners(){if(this.context){const{nodeQrCodeOptions:o}=this.options,t=(o==null?void 0:o.margin)||4,n=this.size,r=this.options.width||180,s=r-t*2,i=Math.floor(s/n),c=Math.floor((r-n*i)/2),u=Math.floor((r-n*i)/2);[[0,0],[1,0],[0,1]].forEach(([h,_])=>{var g,m,y;const d=c+h*i*(n-7),f=u+_*i*(n-7),l=this.options.cornersOptions;new We(this.context,l.type,l.color||((y=(m=(g=this.options)==null?void 0:g.nodeQrCodeOptions)==null?void 0:m.color)==null?void 0:y.dark)||"#000000").draw({x:d,y:f,cellSize:this.dotSize,radius:l.radius})})}}}const Et=class Et{constructor(e){this.ifCanvasDrawed=!1,this.ifImageCreated=!1,this.defaultOption={canvas:void 0,image:void 0,content:"",width:380,download:!1,downloadName:"qr-code.png"},this.options=Object.assign(this.defaultOption,e),this.options.canvas||(this.options.canvas=document.createElement("canvas")),this.options.image||(this.options.image=document.createElement("img")),this.toCanvas().then(()=>this.toImage())}toCanvas(){return new $e(this.options).init().then(()=>{this.ifCanvasDrawed=!0})}async toImage(){return this.ifCanvasDrawed||await this.toCanvas(),te(this.options,this)}async downloadImage(e="qr-code.png"){return this.ifImageCreated||await this.toImage(),Lt(this.options.image,e)}async getImage(){return this.ifImageCreated||await this.toImage(),this.options.image}async getCanvas(){return this.ifCanvasDrawed||await this.toCanvas(),this.options.canvas}};Et.version=ee;let pt=Et;function Xe(a){if(!a)return"";var e=null;return"createObjectURL"in window&&isFunction(window.createObjectURL)?e=window.createObjectURL(a):window.URL!=null?e=window.URL.createObjectURL(a):window.webkitURL!=null&&(e=window.webkitURL.createObjectURL(a)),e}const Ze={data(){return{logo:"https://avatars.githubusercontent.com/u/28730619?v=4",dotType:"square",dotColor:"#000",dotTypes:["square","dot","dot-small","tile","rounded","diamond","star","fluid","fluid-line","stripe","stripe-column"],cornerType:"square",cornerColor:"#000",cornerTypes:["square","rounded","circle","rounded-circle","circle-rounded","circle-diamond","circle-star"]}},mounted(){this.createQrcode1()},methods:{createQrcode1(a=!1){new pt({image:document.getElementById("canvas1"),content:"https://github.com/zxpsuper",width:1024,download:a,logo:{src:this.logo},dotsOptions:{color:this.dotColor,type:this.dotType},cornersOptions:{color:this.cornerColor,type:this.cornerType},nodeQrCodeOptions:{margin:20}})},beforeUpload(a){const e=Xe(a);return this.logo=e,console.log(this.logo),this.createQrcode1(),!1}}},ln=JSON.parse('{"title":"qrcode-with-logos","description":"","frontmatter":{"title":"qrcode-with-logos","editLink":true,"layout":"home","hero":{"name":"qrcode-with-logos","tagline":"A tool for creating a QRcode with a logo.","actions":[{"theme":"brand","text":"Get Started","link":"/guide/getting-started"},{"theme":"alt","text":"View on GitHub","link":"https://github.com/zxpsuper/qrcode-with-logos"}]}},"headers":[],"relativePath":"index.md","filePath":"index.md","lastUpdated":1718359568000}'),xe=a=>(Xt("data-v-a642cc2a"),a=a(),Zt(),a),ze=Mt('<p data-v-a642cc2a><img src="https://img.shields.io/github/stars/zxpsuper/qrcode-with-logos" alt="" loading="lazy" data-v-a642cc2a> <img src="https://img.shields.io/npm/v/qrcode-with-logos.svg?style=flat-square" alt="" loading="lazy" data-v-a642cc2a> <img src="https://img.shields.io/npm/dt/qrcode-with-logos.svg?style=flat-square" alt="" loading="lazy" data-v-a642cc2a> <img src="https://img.shields.io/npm/l/qrcode.svg?style=flat-square" alt="" loading="lazy" data-v-a642cc2a></p><p data-v-a642cc2a>Qrcode-with-logos is a tool for creating a QRcode with a logo in your object.</p><p data-v-a642cc2a>It depend on <code data-v-a642cc2a>qrcode@1.5.3</code> and be more powerful than qrcode.</p><p data-v-a642cc2a>It can create a canvas or a image for the QRcode and even you can use the method to download the file if you want.</p><div class="tip custom-block github-alert" data-v-a642cc2a><p class="custom-block-title" data-v-a642cc2a>TIP</p><p data-v-a642cc2a>qrcode-with-logos use canvas to draw qrcode which is colorful and styleful, so it only can be use in browser but not nodejs！</p></div><p data-v-a642cc2a>You can set the colors of dots and corners respectively.</p><p data-v-a642cc2a>You also can set the different type of dots and corners respectively!</p>',7),tn=xe(()=>V("img",{id:"canvas1",style:{width:"280px"}},null,-1)),en={style:{"margin-top":"16px"}},nn={style:{"margin-top":"16px"}},on={style:{"margin-top":"16px"}},rn={style:{"margin-top":"16px"}},an=Mt('<h2 id="ecosystem" tabindex="-1" data-v-a642cc2a>Ecosystem <a class="header-anchor" href="#ecosystem" aria-label="Permalink to &quot;Ecosystem&quot;" data-v-a642cc2a>​</a></h2><table tabindex="0" data-v-a642cc2a><thead data-v-a642cc2a><tr data-v-a642cc2a><th data-v-a642cc2a>Project</th><th data-v-a642cc2a>Status</th><th data-v-a642cc2a>Description</th></tr></thead><tbody data-v-a642cc2a><tr data-v-a642cc2a><td data-v-a642cc2a><a href="https://github.com/soldair/node-qrcode" target="_blank" rel="noreferrer" data-v-a642cc2a>qrcode</a></td><td data-v-a642cc2a><a href="https://npmjs.com/package/qrcode" target="_blank" rel="noreferrer" data-v-a642cc2a><img src="https://img.shields.io/npm/v/qrcode.svg" alt="qrcode-status" loading="lazy" data-v-a642cc2a></a></td><td data-v-a642cc2a>QR code/2d barcode generator.</td></tr></tbody></table><h2 id="questions-or-advise" tabindex="-1" data-v-a642cc2a>Questions or advise <a class="header-anchor" href="#questions-or-advise" aria-label="Permalink to &quot;Questions or advise&quot;" data-v-a642cc2a>​</a></h2><p data-v-a642cc2a>If you have some question or advise, you can send me a E-mail(<a href="mailto:zxpscau@163.com" target="_blank" rel="noreferrer" data-v-a642cc2a>zxpscau@163.com</a>) or open an <a href="https://github.com/zxpsuper/qrcode-with-logos/issues/new" target="_blank" rel="noreferrer" data-v-a642cc2a>issue</a>.</p>',4);function sn(a,e,o,t,n,r){const s=k("el-col"),i=k("el-color-picker"),c=k("el-option"),u=k("el-select"),h=k("el-button"),_=k("el-upload"),d=k("el-row"),f=k("Tongji");return j(),at("div",null,[ze,I(d,{gutter:20},{default:L(()=>[I(s,{span:12},{default:L(()=>[tn]),_:1}),I(s,{span:12},{default:L(()=>[N(" dots.color: "),I(i,{modelValue:n.dotColor,"onUpdate:modelValue":e[0]||(e[0]=l=>n.dotColor=l),onChange:r.createQrcode1},null,8,["modelValue","onChange"]),V("div",en,[N(" corners.color: "),I(i,{modelValue:n.cornerColor,"onUpdate:modelValue":e[1]||(e[1]=l=>n.cornerColor=l),onChange:r.createQrcode1},null,8,["modelValue","onChange"])]),V("div",nn,[N(" dots.type: "),I(u,{modelValue:n.dotType,"onUpdate:modelValue":e[2]||(e[2]=l=>n.dotType=l),placeholder:"Select",style:{width:"200px"},onChange:r.createQrcode1},{default:L(()=>[(j(!0),at(bt,null,Bt(n.dotTypes,l=>(j(),Rt(c,{key:l,label:l,value:l},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),V("div",on,[N(" corners.type: "),I(u,{modelValue:n.cornerType,"onUpdate:modelValue":e[3]||(e[3]=l=>n.cornerType=l),placeholder:"Select",style:{width:"200px"},onChange:r.createQrcode1},{default:L(()=>[(j(!0),at(bt,null,Bt(n.cornerTypes,l=>(j(),Rt(c,{key:l,label:l,value:l},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),V("div",rn,[N(" logo: "),I(_,{class:"upload-demo","before-upload":r.beforeUpload,style:{display:"inline-block"}},{default:L(()=>[I(h,{type:"primary"},{default:L(()=>[N("Click to change logo")]),_:1})]),_:1},8,["before-upload"])]),V("div",null,[N(" download: "),I(h,{type:"primary",onClick:e[4]||(e[4]=l=>r.createQrcode1(!0))},{default:L(()=>[N("Click to download")]),_:1})])]),_:1})]),_:1}),an,I(f)])}const dn=$t(Ze,[["render",sn],["__scopeId","data-v-a642cc2a"]]);export{ln as __pageData,dn as default};
