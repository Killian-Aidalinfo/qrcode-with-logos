import{_ as ee,c as dt,I as N,w as x,aR as xt,D,o as K,b as ft,a as q,j as J,F as Mt,E as At,e as ne,p as re,l as oe}from"./chunks/framework.MDQz7FCs.js";var Z={},ie=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Dt={},I={};let Tt;const ae=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];I.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};I.getSymbolTotalCodewords=function(t){return ae[t]};I.getBCHDigit=function(i){let t=0;for(;i!==0;)t++,i>>>=1;return t};I.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Tt=t};I.isKanjiModeEnabled=function(){return typeof Tt<"u"};I.toSJIS=function(t){return Tt(t)};var st={};(function(i){i.L={bit:1},i.M={bit:0},i.Q={bit:3},i.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return i.L;case"m":case"medium":return i.M;case"q":case"quartile":return i.Q;case"h":case"high":return i.H;default:throw new Error("Unknown EC Level: "+n)}}i.isValid=function(o){return o&&typeof o.bit<"u"&&o.bit>=0&&o.bit<4},i.from=function(o,r){if(i.isValid(o))return o;try{return t(o)}catch{return r}}})(st);function qt(){this.buffer=[],this.length=0}qt.prototype={get:function(i){const t=Math.floor(i/8);return(this.buffer[t]>>>7-i%8&1)===1},put:function(i,t){for(let n=0;n<t;n++)this.putBit((i>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(i){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),i&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var se=qt;function tt(i){if(!i||i<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=i,this.data=new Uint8Array(i*i),this.reservedBit=new Uint8Array(i*i)}tt.prototype.set=function(i,t,n,o){const r=i*this.size+t;this.data[r]=n,o&&(this.reservedBit[r]=!0)};tt.prototype.get=function(i,t){return this.data[i*this.size+t]};tt.prototype.xor=function(i,t,n){this.data[i*this.size+t]^=n};tt.prototype.isReserved=function(i,t){return this.reservedBit[i*this.size+t]};var ce=tt,zt={};(function(i){const t=I.getSymbolSize;i.getRowColCoords=function(o){if(o===1)return[];const r=Math.floor(o/7)+2,e=t(o),a=e===145?26:Math.ceil((e-13)/(2*r-2))*2,s=[e-7];for(let c=1;c<r-1;c++)s[c]=s[c-1]-a;return s.push(6),s.reverse()},i.getPositions=function(o){const r=[],e=i.getRowColCoords(o),a=e.length;for(let s=0;s<a;s++)for(let c=0;c<a;c++)s===0&&c===0||s===0&&c===a-1||s===a-1&&c===0||r.push([e[s],e[c]]);return r}})(zt);var Ut={};const le=I.getSymbolSize,Nt=7;Ut.getPositions=function(t){const n=le(t);return[[0,0],[n-Nt,0],[0,n-Nt]]};var Ft={};(function(i){i.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};i.isValid=function(r){return r!=null&&r!==""&&!isNaN(r)&&r>=0&&r<=7},i.from=function(r){return i.isValid(r)?parseInt(r,10):void 0},i.getPenaltyN1=function(r){const e=r.size;let a=0,s=0,c=0,l=null,u=null;for(let y=0;y<e;y++){s=c=0,l=u=null;for(let w=0;w<e;w++){let p=r.get(y,w);p===l?s++:(s>=5&&(a+=t.N1+(s-5)),l=p,s=1),p=r.get(w,y),p===u?c++:(c>=5&&(a+=t.N1+(c-5)),u=p,c=1)}s>=5&&(a+=t.N1+(s-5)),c>=5&&(a+=t.N1+(c-5))}return a},i.getPenaltyN2=function(r){const e=r.size;let a=0;for(let s=0;s<e-1;s++)for(let c=0;c<e-1;c++){const l=r.get(s,c)+r.get(s,c+1)+r.get(s+1,c)+r.get(s+1,c+1);(l===4||l===0)&&a++}return a*t.N2},i.getPenaltyN3=function(r){const e=r.size;let a=0,s=0,c=0;for(let l=0;l<e;l++){s=c=0;for(let u=0;u<e;u++)s=s<<1&2047|r.get(l,u),u>=10&&(s===1488||s===93)&&a++,c=c<<1&2047|r.get(u,l),u>=10&&(c===1488||c===93)&&a++}return a*t.N3},i.getPenaltyN4=function(r){let e=0;const a=r.data.length;for(let c=0;c<a;c++)e+=r.data[c];return Math.abs(Math.ceil(e*100/a/5)-10)*t.N4};function n(o,r,e){switch(o){case i.Patterns.PATTERN000:return(r+e)%2===0;case i.Patterns.PATTERN001:return r%2===0;case i.Patterns.PATTERN010:return e%3===0;case i.Patterns.PATTERN011:return(r+e)%3===0;case i.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(e/3))%2===0;case i.Patterns.PATTERN101:return r*e%2+r*e%3===0;case i.Patterns.PATTERN110:return(r*e%2+r*e%3)%2===0;case i.Patterns.PATTERN111:return(r*e%3+(r+e)%2)%2===0;default:throw new Error("bad maskPattern:"+o)}}i.applyMask=function(r,e){const a=e.size;for(let s=0;s<a;s++)for(let c=0;c<a;c++)e.isReserved(c,s)||e.xor(c,s,n(r,c,s))},i.getBestMask=function(r,e){const a=Object.keys(i.Patterns).length;let s=0,c=1/0;for(let l=0;l<a;l++){e(l),i.applyMask(l,r);const u=i.getPenaltyN1(r)+i.getPenaltyN2(r)+i.getPenaltyN3(r)+i.getPenaltyN4(r);i.applyMask(l,r),u<c&&(c=u,s=l)}return s}})(Ft);var ct={};const z=st,nt=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],rt=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];ct.getBlocksCount=function(t,n){switch(n){case z.L:return nt[(t-1)*4+0];case z.M:return nt[(t-1)*4+1];case z.Q:return nt[(t-1)*4+2];case z.H:return nt[(t-1)*4+3];default:return}};ct.getTotalCodewordsCount=function(t,n){switch(n){case z.L:return rt[(t-1)*4+0];case z.M:return rt[(t-1)*4+1];case z.Q:return rt[(t-1)*4+2];case z.H:return rt[(t-1)*4+3];default:return}};var Ot={},lt={};const $=new Uint8Array(512),it=new Uint8Array(256);(function(){let t=1;for(let n=0;n<255;n++)$[n]=t,it[t]=n,t<<=1,t&256&&(t^=285);for(let n=255;n<512;n++)$[n]=$[n-255]})();lt.log=function(t){if(t<1)throw new Error("log("+t+")");return it[t]};lt.exp=function(t){return $[t]};lt.mul=function(t,n){return t===0||n===0?0:$[it[t]+it[n]]};(function(i){const t=lt;i.mul=function(o,r){const e=new Uint8Array(o.length+r.length-1);for(let a=0;a<o.length;a++)for(let s=0;s<r.length;s++)e[a+s]^=t.mul(o[a],r[s]);return e},i.mod=function(o,r){let e=new Uint8Array(o);for(;e.length-r.length>=0;){const a=e[0];for(let c=0;c<r.length;c++)e[c]^=t.mul(r[c],a);let s=0;for(;s<e.length&&e[s]===0;)s++;e=e.slice(s)}return e},i.generateECPolynomial=function(o){let r=new Uint8Array([1]);for(let e=0;e<o;e++)r=i.mul(r,new Uint8Array([1,t.exp(e)]));return r}})(Ot);const Vt=Ot;function Rt(i){this.genPoly=void 0,this.degree=i,this.degree&&this.initialize(this.degree)}Rt.prototype.initialize=function(t){this.degree=t,this.genPoly=Vt.generateECPolynomial(this.degree)};Rt.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const o=Vt.mod(n,this.genPoly),r=this.degree-o.length;if(r>0){const e=new Uint8Array(this.degree);return e.set(o,r),e}return o};var ue=Rt,Qt={},U={},Pt={};Pt.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var L={};const Ht="[0-9]+",de="[A-Z $%*+\\-./:]+";let X="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";X=X.replace(/u/g,"\\u");const fe="(?:(?![A-Z0-9 $%*+\\-./:]|"+X+`)(?:.|[\r
]))+`;L.KANJI=new RegExp(X,"g");L.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");L.BYTE=new RegExp(fe,"g");L.NUMERIC=new RegExp(Ht,"g");L.ALPHANUMERIC=new RegExp(de,"g");const he=new RegExp("^"+X+"$"),ge=new RegExp("^"+Ht+"$"),pe=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");L.testKanji=function(t){return he.test(t)};L.testNumeric=function(t){return ge.test(t)};L.testAlphanumeric=function(t){return pe.test(t)};(function(i){const t=Pt,n=L;i.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},i.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},i.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},i.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},i.MIXED={bit:-1},i.getCharCountIndicator=function(e,a){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!t.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?e.ccBits[0]:a<27?e.ccBits[1]:e.ccBits[2]},i.getBestModeForData=function(e){return n.testNumeric(e)?i.NUMERIC:n.testAlphanumeric(e)?i.ALPHANUMERIC:n.testKanji(e)?i.KANJI:i.BYTE},i.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},i.isValid=function(e){return e&&e.bit&&e.ccBits};function o(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"numeric":return i.NUMERIC;case"alphanumeric":return i.ALPHANUMERIC;case"kanji":return i.KANJI;case"byte":return i.BYTE;default:throw new Error("Unknown mode: "+r)}}i.from=function(e,a){if(i.isValid(e))return e;try{return o(e)}catch{return a}}})(U);(function(i){const t=I,n=ct,o=st,r=U,e=Pt,a=7973,s=t.getBCHDigit(a);function c(w,p,g){for(let C=1;C<=40;C++)if(p<=i.getCapacity(C,g,w))return C}function l(w,p){return r.getCharCountIndicator(w,p)+4}function u(w,p){let g=0;return w.forEach(function(C){const d=l(C.mode,p);g+=d+C.getBitsLength()}),g}function y(w,p){for(let g=1;g<=40;g++)if(u(w,g)<=i.getCapacity(g,p,r.MIXED))return g}i.from=function(p,g){return e.isValid(p)?parseInt(p,10):g},i.getCapacity=function(p,g,C){if(!e.isValid(p))throw new Error("Invalid QR Code version");typeof C>"u"&&(C=r.BYTE);const d=t.getSymbolTotalCodewords(p),f=n.getTotalCodewordsCount(p,g),m=(d-f)*8;if(C===r.MIXED)return m;const h=m-l(C,p);switch(C){case r.NUMERIC:return Math.floor(h/10*3);case r.ALPHANUMERIC:return Math.floor(h/11*2);case r.KANJI:return Math.floor(h/13);case r.BYTE:default:return Math.floor(h/8)}},i.getBestVersionForData=function(p,g){let C;const d=o.from(g,o.M);if(Array.isArray(p)){if(p.length>1)return y(p,d);if(p.length===0)return 1;C=p[0]}else C=p;return c(C.mode,C.getLength(),d)},i.getEncodedBits=function(p){if(!e.isValid(p)||p<7)throw new Error("Invalid QR Code version");let g=p<<12;for(;t.getBCHDigit(g)-s>=0;)g^=a<<t.getBCHDigit(g)-s;return p<<12|g}})(Qt);var Kt={};const Ct=I,Jt=1335,ve=21522,Lt=Ct.getBCHDigit(Jt);Kt.getEncodedBits=function(t,n){const o=t.bit<<3|n;let r=o<<10;for(;Ct.getBCHDigit(r)-Lt>=0;)r^=Jt<<Ct.getBCHDigit(r)-Lt;return(o<<10|r)^ve};var Yt={};const we=U;function Y(i){this.mode=we.NUMERIC,this.data=i.toString()}Y.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};Y.prototype.getLength=function(){return this.data.length};Y.prototype.getBitsLength=function(){return Y.getBitsLength(this.data.length)};Y.prototype.write=function(t){let n,o,r;for(n=0;n+3<=this.data.length;n+=3)o=this.data.substr(n,3),r=parseInt(o,10),t.put(r,10);const e=this.data.length-n;e>0&&(o=this.data.substr(n),r=parseInt(o,10),t.put(r,e*3+1))};var me=Y;const ye=U,ht=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function j(i){this.mode=ye.ALPHANUMERIC,this.data=i}j.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};j.prototype.getLength=function(){return this.data.length};j.prototype.getBitsLength=function(){return j.getBitsLength(this.data.length)};j.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let o=ht.indexOf(this.data[n])*45;o+=ht.indexOf(this.data[n+1]),t.put(o,11)}this.data.length%2&&t.put(ht.indexOf(this.data[n]),6)};var Ce=j,be=function(t){for(var n=[],o=t.length,r=0;r<o;r++){var e=t.charCodeAt(r);if(e>=55296&&e<=56319&&o>r+1){var a=t.charCodeAt(r+1);a>=56320&&a<=57343&&(e=(e-55296)*1024+a-56320+65536,r+=1)}if(e<128){n.push(e);continue}if(e<2048){n.push(e>>6|192),n.push(e&63|128);continue}if(e<55296||e>=57344&&e<65536){n.push(e>>12|224),n.push(e>>6&63|128),n.push(e&63|128);continue}if(e>=65536&&e<=1114111){n.push(e>>18|240),n.push(e>>12&63|128),n.push(e>>6&63|128),n.push(e&63|128);continue}n.push(239,191,189)}return new Uint8Array(n).buffer};const Se=be,Ee=U;function W(i){this.mode=Ee.BYTE,typeof i=="string"&&(i=Se(i)),this.data=new Uint8Array(i)}W.getBitsLength=function(t){return t*8};W.prototype.getLength=function(){return this.data.length};W.prototype.getBitsLength=function(){return W.getBitsLength(this.data.length)};W.prototype.write=function(i){for(let t=0,n=this.data.length;t<n;t++)i.put(this.data[t],8)};var _e=W;const Te=U,Re=I;function G(i){this.mode=Te.KANJI,this.data=i}G.getBitsLength=function(t){return t*13};G.prototype.getLength=function(){return this.data.length};G.prototype.getBitsLength=function(){return G.getBitsLength(this.data.length)};G.prototype.write=function(i){let t;for(t=0;t<this.data.length;t++){let n=Re.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),i.put(n,13)}};var Pe=G,jt={exports:{}};(function(i){var t={single_source_shortest_paths:function(n,o,r){var e={},a={};a[o]=0;var s=t.PriorityQueue.make();s.push(o,0);for(var c,l,u,y,w,p,g,C,d;!s.empty();){c=s.pop(),l=c.value,y=c.cost,w=n[l]||{};for(u in w)w.hasOwnProperty(u)&&(p=w[u],g=y+p,C=a[u],d=typeof a[u]>"u",(d||C>g)&&(a[u]=g,s.push(u,g),e[u]=l))}if(typeof r<"u"&&typeof a[r]>"u"){var f=["Could not find a path from ",o," to ",r,"."].join("");throw new Error(f)}return e},extract_shortest_path_from_predecessor_list:function(n,o){for(var r=[],e=o;e;)r.push(e),n[e],e=n[e];return r.reverse(),r},find_path:function(n,o,r){var e=t.single_source_shortest_paths(n,o,r);return t.extract_shortest_path_from_predecessor_list(e,r)},PriorityQueue:{make:function(n){var o=t.PriorityQueue,r={},e;n=n||{};for(e in o)o.hasOwnProperty(e)&&(r[e]=o[e]);return r.queue=[],r.sorter=n.sorter||o.default_sorter,r},default_sorter:function(n,o){return n.cost-o.cost},push:function(n,o){var r={value:n,cost:o};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};i.exports=t})(jt);var Ie=jt.exports;(function(i){const t=U,n=me,o=Ce,r=_e,e=Pe,a=L,s=I,c=Ie;function l(f){return unescape(encodeURIComponent(f)).length}function u(f,m,h){const v=[];let b;for(;(b=f.exec(h))!==null;)v.push({data:b[0],index:b.index,mode:m,length:b[0].length});return v}function y(f){const m=u(a.NUMERIC,t.NUMERIC,f),h=u(a.ALPHANUMERIC,t.ALPHANUMERIC,f);let v,b;return s.isKanjiModeEnabled()?(v=u(a.BYTE,t.BYTE,f),b=u(a.KANJI,t.KANJI,f)):(v=u(a.BYTE_KANJI,t.BYTE,f),b=[]),m.concat(h,v,b).sort(function(E,R){return E.index-R.index}).map(function(E){return{data:E.data,mode:E.mode,length:E.length}})}function w(f,m){switch(m){case t.NUMERIC:return n.getBitsLength(f);case t.ALPHANUMERIC:return o.getBitsLength(f);case t.KANJI:return e.getBitsLength(f);case t.BYTE:return r.getBitsLength(f)}}function p(f){return f.reduce(function(m,h){const v=m.length-1>=0?m[m.length-1]:null;return v&&v.mode===h.mode?(m[m.length-1].data+=h.data,m):(m.push(h),m)},[])}function g(f){const m=[];for(let h=0;h<f.length;h++){const v=f[h];switch(v.mode){case t.NUMERIC:m.push([v,{data:v.data,mode:t.ALPHANUMERIC,length:v.length},{data:v.data,mode:t.BYTE,length:v.length}]);break;case t.ALPHANUMERIC:m.push([v,{data:v.data,mode:t.BYTE,length:v.length}]);break;case t.KANJI:m.push([v,{data:v.data,mode:t.BYTE,length:l(v.data)}]);break;case t.BYTE:m.push([{data:v.data,mode:t.BYTE,length:l(v.data)}])}}return m}function C(f,m){const h={},v={start:{}};let b=["start"];for(let S=0;S<f.length;S++){const E=f[S],R=[];for(let M=0;M<E.length;M++){const P=E[M],k=""+S+M;R.push(k),h[k]={node:P,lastCount:0},v[k]={};for(let Q=0;Q<b.length;Q++){const T=b[Q];h[T]&&h[T].node.mode===P.mode?(v[T][k]=w(h[T].lastCount+P.length,P.mode)-w(h[T].lastCount,P.mode),h[T].lastCount+=P.length):(h[T]&&(h[T].lastCount=P.length),v[T][k]=w(P.length,P.mode)+4+t.getCharCountIndicator(P.mode,m))}}b=R}for(let S=0;S<b.length;S++)v[b[S]].end=0;return{map:v,table:h}}function d(f,m){let h;const v=t.getBestModeForData(f);if(h=t.from(m,v),h!==t.BYTE&&h.bit<v.bit)throw new Error('"'+f+'" cannot be encoded with mode '+t.toString(h)+`.
 Suggested mode is: `+t.toString(v));switch(h===t.KANJI&&!s.isKanjiModeEnabled()&&(h=t.BYTE),h){case t.NUMERIC:return new n(f);case t.ALPHANUMERIC:return new o(f);case t.KANJI:return new e(f);case t.BYTE:return new r(f)}}i.fromArray=function(m){return m.reduce(function(h,v){return typeof v=="string"?h.push(d(v,null)):v.data&&h.push(d(v.data,v.mode)),h},[])},i.fromString=function(m,h){const v=y(m,s.isKanjiModeEnabled()),b=g(v),S=C(b,h),E=c.find_path(S.map,"start","end"),R=[];for(let M=1;M<E.length-1;M++)R.push(S.table[E[M]].node);return i.fromArray(p(R))},i.rawSplit=function(m){return i.fromArray(y(m,s.isKanjiModeEnabled()))}})(Yt);const ut=I,gt=st,Be=se,Me=ce,Ae=zt,Ne=Ut,bt=Ft,St=ct,Le=ue,at=Qt,ke=Kt,xe=U,pt=Yt;function De(i,t){const n=i.size,o=Ne.getPositions(t);for(let r=0;r<o.length;r++){const e=o[r][0],a=o[r][1];for(let s=-1;s<=7;s++)if(!(e+s<=-1||n<=e+s))for(let c=-1;c<=7;c++)a+c<=-1||n<=a+c||(s>=0&&s<=6&&(c===0||c===6)||c>=0&&c<=6&&(s===0||s===6)||s>=2&&s<=4&&c>=2&&c<=4?i.set(e+s,a+c,!0,!0):i.set(e+s,a+c,!1,!0))}}function qe(i){const t=i.size;for(let n=8;n<t-8;n++){const o=n%2===0;i.set(n,6,o,!0),i.set(6,n,o,!0)}}function ze(i,t){const n=Ae.getPositions(t);for(let o=0;o<n.length;o++){const r=n[o][0],e=n[o][1];for(let a=-2;a<=2;a++)for(let s=-2;s<=2;s++)a===-2||a===2||s===-2||s===2||a===0&&s===0?i.set(r+a,e+s,!0,!0):i.set(r+a,e+s,!1,!0)}}function Ue(i,t){const n=i.size,o=at.getEncodedBits(t);let r,e,a;for(let s=0;s<18;s++)r=Math.floor(s/3),e=s%3+n-8-3,a=(o>>s&1)===1,i.set(r,e,a,!0),i.set(e,r,a,!0)}function vt(i,t,n){const o=i.size,r=ke.getEncodedBits(t,n);let e,a;for(e=0;e<15;e++)a=(r>>e&1)===1,e<6?i.set(e,8,a,!0):e<8?i.set(e+1,8,a,!0):i.set(o-15+e,8,a,!0),e<8?i.set(8,o-e-1,a,!0):e<9?i.set(8,15-e-1+1,a,!0):i.set(8,15-e-1,a,!0);i.set(o-8,8,1,!0)}function Fe(i,t){const n=i.size;let o=-1,r=n-1,e=7,a=0;for(let s=n-1;s>0;s-=2)for(s===6&&s--;;){for(let c=0;c<2;c++)if(!i.isReserved(r,s-c)){let l=!1;a<t.length&&(l=(t[a]>>>e&1)===1),i.set(r,s-c,l),e--,e===-1&&(a++,e=7)}if(r+=o,r<0||n<=r){r-=o,o=-o;break}}}function Oe(i,t,n){const o=new Be;n.forEach(function(c){o.put(c.mode.bit,4),o.put(c.getLength(),xe.getCharCountIndicator(c.mode,i)),c.write(o)});const r=ut.getSymbolTotalCodewords(i),e=St.getTotalCodewordsCount(i,t),a=(r-e)*8;for(o.getLengthInBits()+4<=a&&o.put(0,4);o.getLengthInBits()%8!==0;)o.putBit(0);const s=(a-o.getLengthInBits())/8;for(let c=0;c<s;c++)o.put(c%2?17:236,8);return Ve(o,i,t)}function Ve(i,t,n){const o=ut.getSymbolTotalCodewords(t),r=St.getTotalCodewordsCount(t,n),e=o-r,a=St.getBlocksCount(t,n),s=o%a,c=a-s,l=Math.floor(o/a),u=Math.floor(e/a),y=u+1,w=l-u,p=new Le(w);let g=0;const C=new Array(a),d=new Array(a);let f=0;const m=new Uint8Array(i.buffer);for(let E=0;E<a;E++){const R=E<c?u:y;C[E]=m.slice(g,g+R),d[E]=p.encode(C[E]),g+=R,f=Math.max(f,R)}const h=new Uint8Array(o);let v=0,b,S;for(b=0;b<f;b++)for(S=0;S<a;S++)b<C[S].length&&(h[v++]=C[S][b]);for(b=0;b<w;b++)for(S=0;S<a;S++)h[v++]=d[S][b];return h}function Qe(i,t,n,o){let r;if(Array.isArray(i))r=pt.fromArray(i);else if(typeof i=="string"){let l=t;if(!l){const u=pt.rawSplit(i);l=at.getBestVersionForData(u,n)}r=pt.fromString(i,l||40)}else throw new Error("Invalid data");const e=at.getBestVersionForData(r,n);if(!e)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=e;else if(t<e)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+e+`.
`);const a=Oe(t,n,r),s=ut.getSymbolSize(t),c=new Me(s);return De(c,t),qe(c),ze(c,t),vt(c,n,0),t>=7&&Ue(c,t),Fe(c,a),isNaN(o)&&(o=bt.getBestMask(c,vt.bind(null,c,n))),bt.applyMask(o,c),vt(c,n,o),{modules:c,version:t,errorCorrectionLevel:n,maskPattern:o,segments:r}}Dt.create=function(t,n){if(typeof t>"u"||t==="")throw new Error("No input text");let o=gt.M,r,e;return typeof n<"u"&&(o=gt.from(n.errorCorrectionLevel,gt.M),r=at.from(n.version),e=bt.from(n.maskPattern),n.toSJISFunc&&ut.setToSJISFunction(n.toSJISFunc)),Qe(t,r,o,e)};var Wt={},It={};(function(i){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let o=n.slice().replace("#","").split("");if(o.length<3||o.length===5||o.length>8)throw new Error("Invalid hex color: "+n);(o.length===3||o.length===4)&&(o=Array.prototype.concat.apply([],o.map(function(e){return[e,e]}))),o.length===6&&o.push("F","F");const r=parseInt(o.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:r&255,hex:"#"+o.slice(0,6).join("")}}i.getOptions=function(o){o||(o={}),o.color||(o.color={});const r=typeof o.margin>"u"||o.margin===null||o.margin<0?4:o.margin,e=o.width&&o.width>=21?o.width:void 0,a=o.scale||4;return{width:e,scale:e?4:a,margin:r,color:{dark:t(o.color.dark||"#000000ff"),light:t(o.color.light||"#ffffffff")},type:o.type,rendererOpts:o.rendererOpts||{}}},i.getScale=function(o,r){return r.width&&r.width>=o+r.margin*2?r.width/(o+r.margin*2):r.scale},i.getImageWidth=function(o,r){const e=i.getScale(o,r);return Math.floor((o+r.margin*2)*e)},i.qrToImageData=function(o,r,e){const a=r.modules.size,s=r.modules.data,c=i.getScale(a,e),l=Math.floor((a+e.margin*2)*c),u=e.margin*c,y=[e.color.light,e.color.dark];for(let w=0;w<l;w++)for(let p=0;p<l;p++){let g=(w*l+p)*4,C=e.color.light;if(w>=u&&p>=u&&w<l-u&&p<l-u){const d=Math.floor((w-u)/c),f=Math.floor((p-u)/c);C=y[s[d*a+f]?1:0]}o[g++]=C.r,o[g++]=C.g,o[g++]=C.b,o[g]=C.a}}})(It);(function(i){const t=It;function n(r,e,a){r.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=a,e.width=a,e.style.height=a+"px",e.style.width=a+"px"}function o(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}i.render=function(e,a,s){let c=s,l=a;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),a||(l=o()),c=t.getOptions(c);const u=t.getImageWidth(e.modules.size,c),y=l.getContext("2d"),w=y.createImageData(u,u);return t.qrToImageData(w.data,e,c),n(y,l,u),y.putImageData(w,0,0),l},i.renderToDataURL=function(e,a,s){let c=s;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),c||(c={});const l=i.render(e,a,c),u=c.type||"image/png",y=c.rendererOpts||{};return l.toDataURL(u,y.quality)}})(Wt);var Gt={};const He=It;function kt(i,t){const n=i.a/255,o=t+'="'+i.hex+'"';return n<1?o+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':o}function wt(i,t,n){let o=i+t;return typeof n<"u"&&(o+=" "+n),o}function Ke(i,t,n){let o="",r=0,e=!1,a=0;for(let s=0;s<i.length;s++){const c=Math.floor(s%t),l=Math.floor(s/t);!c&&!e&&(e=!0),i[s]?(a++,s>0&&c>0&&i[s-1]||(o+=e?wt("M",c+n,.5+l+n):wt("m",r,0),r=0,e=!1),c+1<t&&i[s+1]||(o+=wt("h",a),a=0)):r++}return o}Gt.render=function(t,n,o){const r=He.getOptions(n),e=t.modules.size,a=t.modules.data,s=e+r.margin*2,c=r.color.light.a?"<path "+kt(r.color.light,"fill")+' d="M0 0h'+s+"v"+s+'H0z"/>':"",l="<path "+kt(r.color.dark,"stroke")+' d="'+Ke(a,e,r.margin)+'"/>',u='viewBox="0 0 '+s+" "+s+'"',w='<svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+u+' shape-rendering="crispEdges">'+c+l+`</svg>
`;return typeof o=="function"&&o(null,w),w};const Je=ie,Et=Dt,$t=Wt,Ye=Gt;function Bt(i,t,n,o,r){const e=[].slice.call(arguments,1),a=e.length,s=typeof e[a-1]=="function";if(!s&&!Je())throw new Error("Callback required as last argument");if(s){if(a<2)throw new Error("Too few arguments provided");a===2?(r=n,n=t,t=o=void 0):a===3&&(t.getContext&&typeof r>"u"?(r=o,o=void 0):(r=o,o=n,n=t,t=void 0))}else{if(a<1)throw new Error("Too few arguments provided");return a===1?(n=t,t=o=void 0):a===2&&!t.getContext&&(o=n,n=t,t=void 0),new Promise(function(c,l){try{const u=Et.create(n,o);c(i(u,t,o))}catch(u){l(u)}})}try{const c=Et.create(n,o);r(null,i(c,t,o))}catch(c){r(c)}}Z.create=Et.create;Z.toCanvas=Bt.bind(null,$t.render);Z.toDataURL=Bt.bind(null,$t.renderToDataURL);Z.toString=Bt.bind(null,function(i,t,n){return Ye.render(i,n)});var B=function(){return B=Object.assign||function(t){for(var n,o=1,r=arguments.length;o<r;o++){n=arguments[o];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}return t},B.apply(this,arguments)};function O(i,t,n,o){function r(e){return e instanceof n?e:new n(function(a){a(e)})}return new(n||(n=Promise))(function(e,a){function s(u){try{l(o.next(u))}catch(y){a(y)}}function c(u){try{l(o.throw(u))}catch(y){a(y)}}function l(u){u.done?e(u.value):r(u.value).then(s,c)}l((o=o.apply(i,t||[])).next())})}function V(i,t){var n={label:0,sent:function(){if(e[0]&1)throw e[1];return e[1]},trys:[],ops:[]},o,r,e,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(u){return c([l,u])}}function c(l){if(o)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(n=0)),n;)try{if(o=1,r&&(e=l[0]&2?r.return:l[0]?r.throw||((e=r.return)&&e.call(r),0):r.next)&&!(e=e.call(r,l[1])).done)return e;switch(r=0,e&&(l=[l[0]&2,e.value]),l[0]){case 0:case 1:e=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,r=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(e=n.trys,!(e=e.length>0&&e[e.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!e||l[1]>e[0]&&l[1]<e[3])){n.label=l[1];break}if(l[0]===6&&n.label<e[1]){n.label=e[1],e=l;break}if(e&&n.label<e[2]){n.label=e[2],n.ops.push(l);break}e[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(i,n)}catch(u){l=[6,u],r=0}finally{o=e=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function je(i,t){var n=typeof Symbol=="function"&&i[Symbol.iterator];if(!n)return i;var o=n.call(i),r,e=[],a;try{for(;(t===void 0||t-- >0)&&!(r=o.next()).done;)e.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return e}function We(i){return i.length>36?"M":i.length>16?"Q":"H"}function Ge(i,t){var n=new Image;return n.setAttribute("crossOrigin",t||"anonymous"),n.src=i,new Promise(function(o,r){n.onload=function(){o(n)},n.onerror=function(){r("logo load fail!")}})}var _t=function(i){return function(t,n,o,r,e){var a=Math.min(o,r);return e>a/2&&(e=a/2),i.beginPath(),i.moveTo(t+e,n),i.arcTo(t+o,n,t+o,n+r,e),i.arcTo(t+o,n+r,t,n+r,e),i.arcTo(t,n+r,t,n,e),i.arcTo(t,n,t+o,n,e),i.closePath(),i}};function ot(i){return typeof i=="function"}var $e=function(i){return O(this,void 0,void 0,function(){var t,n,o,r,e;return V(this,function(a){if(t=i.canvas,n=i.download,o=i.image,r=i.downloadName,t.toDataURL())o.src=t.toDataURL();else throw new Error("Can not get the canvas DataURL");return n!==!0&&!ot(n)?[2]:(n=n===!0?function(s){return s()}:n,e=function(){return Xt(o,r)},n?[2,n(e)]:[2,Promise.resolve()])})})},Xt=function(i,t){return new Promise(function(n,o){try{var r=i.src,e=document.createElement("a");e.download=t,e.href=r,e.dispatchEvent(new MouseEvent("click")),n(!0)}catch(a){o(a)}})},A={tile:"tile",dot:"dot",dotSmall:"dot-small",rounded:"rounded",square:"square",diamond:"diamond",star:"star",fluid:"fluid",fluidLine:"fluid-line",stripe:"stripe",stripeColumn:"stripe-column"},Xe=function(){function i(t){this._context=t.context,this._type=t.type,this.dotSize=t.dotSize}return i.prototype.draw=function(t,n,o){var r=this._context,e=this._type,a;switch(e){case A.tile:a=this._drawTile;break;case A.dot:a=this._drawDot;break;case A.dotSmall:a=this._drawDotSmall;break;case A.rounded:a=this._drawRounded;break;case A.diamond:a=this._drawDiamond;break;case A.star:a=this._drawStar;break;case A.fluid:a=this._drawFluid;break;case A.fluidLine:a=this._drawFluidLine;break;case A.stripe:a=this._drawStripe;break;case A.stripeColumn:a=this._drawStripeColumn;break;case A.square:default:a=this._drawSquare;break}a.call(this,{x:t,y:n,size:this.dotSize,context:r,getNeighbor:o})},i.prototype._drawSquare=function(t){var n=t.x,o=t.y,r=t.size,e=t.context;this._basicSquare({x:n,y:o,size:r,context:e,rotation:0})},i.prototype._basicSquare=function(t){var n=t.size,o=t.context;this._rotateFigure(B(B({},t),{draw:function(){o.rect(-n/2,-n/2,n,n)}}))},i.prototype._drawDot=function(t){this._drawBasicDot(t)},i.prototype._drawDotSmall=function(t){this._drawBasicDot(B(B({},t),{dotRate:.3}))},i.prototype._drawBasicDot=function(t){var n=t.x,o=t.y,r=t.size,e=t.context,a=t.dotRate,s=a===void 0?.4:a,c=n+r/2,l=o+r/2;e.beginPath(),e.arc(c,l,r*s,0,Math.PI*2),e.closePath(),e.fill()},i.prototype._drawRounded=function(t){var n=t.x,o=t.y,r=t.size,e=t.context;r=.75*r,n+=1/8*r,o+=1/8*r;var a=n+r/2,s=o+r/2,c=-r/2;e.translate(a,s),_t(e)(c,c,r,r,r/4),e.fill(),e.translate(-a,-s)},i.prototype._drawTile=function(t){var n=t.size,o=t.context;this._rotateFigure(B(B({},t),{draw:function(){o.rect(-n/2,-n/2,n-1,n-1)}}))},i.prototype._drawDiamond=function(t){var n=t.size,o=t.context;this._rotateFigure(B(B({},t),{rotation:Math.PI/4,draw:function(){n=.5*n/Math.sin(Math.PI/4),o.rect(-n/2,-n/2,n,n)}}))},i.prototype._drawStar=function(t){var n=t.size,o=t.context;this._rotateFigure(B(B({},t),{rotation:Math.PI/4,draw:function(){o.moveTo(-n/2,-n/2),o.quadraticCurveTo(0,0,n/2,-n/2),o.quadraticCurveTo(0,0,n/2,n/2),o.quadraticCurveTo(0,0,-n/2,n/2),o.quadraticCurveTo(0,0,-n/2,-n/2)}}))},i.prototype._drawFluidLine=function(t){this._drawFluid(t,!0)},i.prototype._drawFluid=function(t,n){var o=t.x,r=t.y,e=t.size,a=t.context,s=t.getNeighbor;n===void 0&&(n=!1);var c=[!1,!1,!1,!1];!s(0,-1)&&!s(-1,0)&&(c[0]=!0),!s(1,0)&&!s(0,-1)&&(c[1]=!0),!s(0,1)&&!s(1,0)&&(c[2]=!0),!s(0,1)&&!s(-1,0)&&(c[3]=!0);var l=o+e/2,u=r+e/2;if(a.translate(l,u),a.beginPath(),a.arc(0,0,e/2,0,2*Math.PI,!1),a.closePath(),a.fill(),c[0]||a.fillRect(-e/2,-e/2,e/2,e/2),c[1]||a.fillRect(0,-e/2,e/2,e/2),c[2]||a.fillRect(0,0,e/2,e/2),c[3]||a.fillRect(-e/2,0,e/2,e/2),n){var y=a.lineWidth;s(-1,1)&&(a.beginPath(),a.lineWidth=e/4,a.moveTo(0,0),a.lineTo(-e,e),a.stroke(),a.closePath()),s(1,1)&&(a.beginPath(),a.lineWidth=e/4,a.moveTo(0,0),a.lineTo(e,e),a.stroke(),a.closePath()),a.lineWidth=y}a.translate(-l,-u)},i.prototype._drawStripeColumn=function(t){this._drawStripe(t,"column")},i.prototype._drawStripe=function(t,n){var o=t.x,r=t.y,e=t.size,a=t.context,s=t.getNeighbor;n===void 0&&(n="row");var c=o+e/2,l=r+e/2;a.translate(c,l),a.beginPath(),a.arc(0,0,e/4,0,2*Math.PI,!1),a.fill(),a.closePath(),n==="row"?(s(-1,0)&&a.fillRect(-e/2,-e/4,e/2,e/2),s(1,0)&&a.fillRect(0,-e/4,e/2,e/2)):n==="column"&&(s(0,-1)&&a.fillRect(-e/4,-e/2,e/2,e/2),s(0,1)&&a.fillRect(-e/4,0,e/2,e/2)),a.translate(-c,-l)},i.prototype._rotateFigure=function(t){var n=t.x,o=t.y,r=t.size,e=t.context,a=t.rotation,s=a===void 0?0:a,c=t.draw,l=n+r/2,u=o+r/2;e.translate(l,u),s&&e.rotate(s),c(),e.closePath(),s&&e.rotate(-s),e.translate(-l,-u)},i}(),F={square:"square",rounded:"rounded",circle:"circle",roundedCircle:"rounded-circle",circleRounded:"circle-rounded",circleDiamond:"circle-diamond",circleStar:"circle-star"},Ze=function(){function i(t,n,o){this.context=t,this.cornerType=n,this.color=o}return i.prototype.draw=function(t){var n=t.radius,o=t.x,r=t.y,e=t.dotSize,a;switch(this.cornerType){case F.circle:a=this._drawCircle;break;case F.rounded:a=this._drawRounded;break;case F.roundedCircle:a=this._drawRoundedCircle;break;case F.circleRounded:a=this._drawCircleRounded;break;case F.circleDiamond:a=this._drawCircleDiamond;break;case F.circleStar:a=this._drawCircleStar;break;case F.square:default:a=this._drawSquare;break}a.call(this,{x:o,y:r,radius:n,dotSize:e})},i.prototype._drawRoundedCircle=function(t){var n=t.x,o=t.y,r=t.dotSize,e=t.radius,a=typeof e=="number"?e:(e==null?void 0:e.outer)||r/2;this.drawRoundedSquare(r,n,o,r*7,a,!1,0),this.drawCircle(r,n+2*r,o+2*r,r*3,!0)},i.prototype._drawCircleRounded=function(t){var n=t.x,o=t.y,r=t.dotSize,e=t.radius;this.drawCircle(r,n,o,r*7,!1);var a=typeof e=="number"?e:(e==null?void 0:e.inner)||r/4;this.drawRoundedSquare(r,n+2*r,o+2*r,r*3,a,!0,0)},i.prototype._drawCircleDiamond=function(t){var n=t.x,o=t.y,r=t.dotSize;this.drawCircle(r,n,o,r*7,!1),this.drawRoundedSquare(r,n+2*r,o+2*r,r*3,0,!0,45*Math.PI/180)},i.prototype._drawCircleStar=function(t){var n=t.x,o=t.y,r=t.dotSize;this.drawCircle(r,n,o,r*7,!1),this.drawInnerStar(n+2*r,o+2*r,r*3)},i.prototype._drawSquare=function(t){var n=t.x,o=t.y,r=t.dotSize;return this._drawBasicRounded({x:n,y:o,dotSize:r,radius:0})},i.prototype._drawRounded=function(t){var n=t.x,o=t.y,r=t.dotSize,e=t.radius,a=typeof e=="number"?e:(e==null?void 0:e.inner)||r/4,s=typeof e=="number"?e:(e==null?void 0:e.outer)||r/2;return this._drawBasicRounded({x:n,y:o,dotSize:r,radius:{inner:a,outer:s}})},i.prototype._drawCircle=function(t){var n=t.x,o=t.y,r=t.dotSize;this.drawCircle(r,n,o,r*7,!1),this.drawCircle(r,n+2*r,o+2*r,r*3,!0)},i.prototype._drawBasicRounded=function(t){var n=t.x,o=t.y,r=t.dotSize,e=t.radius,a=t.rotation,s=a===void 0?0:a,c=Math.ceil(r),l,u;typeof e!="number"?(l=e.outer||0,u=e.inner||0):(l=e,u=l);var y=r*7;this.drawRoundedSquare(c,n,o,y,l,!1,s),y=r*3,o+=r*2,n+=r*2,this.drawRoundedSquare(c,n,o,y,u,!0,s)},i.prototype.drawCircle=function(t,n,o,r,e){var a=this.context,s=this.color;a.lineWidth=t,a.fillStyle=s,a.strokeStyle=s,o+=r/2,n+=r/2,r-=t,a.beginPath(),a.arc(n,o,r/2,0,Math.PI*2),a.stroke(),a.closePath(),e&&a.fill()},i.prototype.drawRoundedSquare=function(t,n,o,r,e,a,s){var c=this.context,l=this.color;c.lineWidth=t,c.fillStyle=l,c.strokeStyle=l,o+=t/2,n+=t/2,r-=t,Array.isArray(e)||(e=[e,e,e,e]),e=e.map(function(f){return f=Math.min(f,r/2),f<0?0:f});var u=e[0]||0,y=e[1]||0,w=e[2]||0,p=e[3]||0;c.beginPath();var g=n+r/2,C=o+r/2,d=-r/2;c.translate(g,C),s&&c.rotate(s),c.moveTo(d+u,d),c.lineTo(d+r-y,d),y&&c.quadraticCurveTo(d+r,d,d+r,d+y),c.lineTo(d+r,d+r-w),w&&c.quadraticCurveTo(d+r,d+r,d+r-w,d+r),c.lineTo(d+p,d+r),p&&c.quadraticCurveTo(d,d+r,d,d+r-p),c.lineTo(d,d+u),u&&c.quadraticCurveTo(d,d,d+u,d),c.closePath(),c.stroke(),a&&c.fill(),s&&c.rotate(-s),c.translate(-g,-C)},i.prototype.drawInnerStar=function(t,n,o){var r=this.context,e=t+o/2,a=n+o/2;r.translate(e,a),r.beginPath(),r.moveTo(-o/2,-o/2),r.quadraticCurveTo(0,-o/4,o/2,-o/2),r.quadraticCurveTo(o/4,0,o/2,o/2),r.quadraticCurveTo(0,o/4,-o/2,o/2),r.quadraticCurveTo(-o/4,0,-o/2,-o/2),r.closePath(),r.fill(),r.translate(-e,-a)},i}(),_={logo:{logoSize:.15,borderSize:.05,bgColor:"#fff",borderWidth:10,crossOrigin:"anonymous",borderRadius:8,logoRadius:0},width:380,download:!1,downloadName:"qr-code.png",nodeQrCodeOptions:{margin:4,color:{dark:"#000",light:"#fff"}},dotsOptions:{type:"square",color:"#000"},cornersOptions:{type:"square",color:"#000"}},mt=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],yt=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]],tn={L:.07,M:.15,Q:.25,H:.3},en=function(){function i(t){this.qrcodeArray=[],this.dotSize=0,this.offset=0;var n=t.canvas,o=t.content,r=t.width,e=r===void 0?_.width:r,a=t.nodeQrCodeOptions,s=a===void 0?{}:a;s.errorCorrectionLevel=s.errorCorrectionLevel||We(o);var c=Z.create(o,s);this.canvas=n,this.options=t,this.canvas.setAttribute("width",e+""),this.canvas.setAttribute("height",e+""),this.saveQrdata(c)}return i.prototype.clear=function(){var t=this.context;t&&t.clearRect(0,0,this.canvas.width,this.canvas.height)},Object.defineProperty(i.prototype,"context",{get:function(){return this.canvas.getContext("2d")},enumerable:!1,configurable:!0}),i.prototype.saveQrdata=function(t){var n;this.size=t.modules.size,this.version=t.version,this.qrcodeArray=t.modules.data;var o=this.options.nodeQrCodeOptions,r=(o==null?void 0:o.margin)||_.nodeQrCodeOptions.margin,e=this.size,a=((n=this.options)===null||n===void 0?void 0:n.width)||_.width,s=a-r*2;this.dotSize=Math.floor(s/e),this.offset=Math.floor((a-e*this.dotSize)/2)},i.prototype.init=function(){return O(this,void 0,void 0,function(){var t;return V(this,function(n){switch(n.label){case 0:return this.clear(),this.drawBackground(),[4,this.drawLogo()];case 1:return t=n.sent(),this.drawDots(),this.drawCorners(),t&&t.call(this),[2]}})})},i.prototype.drawLogo=function(){var t,n=(t=this.options)===null||t===void 0?void 0:t.logo;return n?(typeof n=="string"&&(n={src:n}),this._drawLogo(n)):Promise.resolve(null)},i.prototype._drawLogo=function(t){return O(this,void 0,void 0,function(){var n,o,r,e,a,s,c,l,u,y,w,p,g,C,d,f,m,h,v,b,S,E,R,M,P,k;return V(this,function(Q){switch(Q.label){case 0:return n=this.context,o=this.canvas,r=tn[this.options.nodeQrCodeOptions.errorCorrectionLevel],e=Math.floor(r*r*this.size*this.size),a=t.src,s=t.bgColor,c=s===void 0?_.logo.bgColor:s,l=t.borderWidth,u=l===void 0?_.logo.borderWidth:l,y=t.crossOrigin,w=y===void 0?_.logo.crossOrigin:y,p=t.borderRadius,g=p===void 0?_.logo.borderRadius:p,C=t.logoRadius,d=C===void 0?_.logo.logoRadius:C,[4,Ge(a,w)];case 1:return f=Q.sent(),m=f.width/f.height,E=Math.floor(Math.sqrt(this.dotSize*this.dotSize*e/m)),m>1?(v=E,S=E-2*u,b=Math.floor(S*m),h=b+u*2):(h=Math.floor(E*m),b=h-u*2,S=Math.floor(b/m),v=S+2*u),R=(this.size-Math.ceil(h/this.dotSize))/2,M=this.size-R-1,P=(this.size-Math.ceil(v/this.dotSize))/2,k=this.size-P-1,this.inLogoRange=function(T,H){return T>=R&&T<=M&&H>=P&&H<=k},[2,function(){var T=o.width/2,H=o.height/2;n.translate(T,H),_t(n)(-h/2,-v/2,h,v,g),this.context.fillStyle=c,this.context.fill();var Zt=function(){n.drawImage(f,-b/2,-S/2,b,S)},te=function(){var et=document.createElement("canvas");et.width=b,et.height=S,et.getContext("2d").drawImage(f,0,0,b,S),_t(n)(0,0,b,S,d),n.fillStyle=n.createPattern(et,"no-repeat"),n.fill()};d?(n.translate(-b/2,-S/2),te(),n.translate(-T+b/2,-H+S/2)):(Zt(),n.translate(-T,-H))}]}})})},i.prototype.isDark=function(t,n){return this.qrcodeArray[t+n*this.size]===1},i.prototype.drawBackground=function(){var t,n=this.context,o=this.options.nodeQrCodeOptions,r=((t=o==null?void 0:o.color)===null||t===void 0?void 0:t.light)||_.nodeQrCodeOptions.color.light;n&&(n.fillStyle=r,n.fillRect(0,0,this.canvas.width,this.canvas.height))},i.prototype.drawDots=function(){var t=this,n,o,r,e,a=this.context;if(a){var s=this.size,c=this.dotSize,l=this.offset,u=this.offset,y=function(d,f){var m,h,v,b,S,E;return!(!((m=mt[d])===null||m===void 0)&&m[f]||!((h=mt[d-s+7])===null||h===void 0)&&h[f]||!((v=mt[d])===null||v===void 0)&&v[f-s+7]||!((b=yt[d])===null||b===void 0)&&b[f]||!((S=yt[d-s+7])===null||S===void 0)&&S[f]||!((E=yt[d])===null||E===void 0)&&E[f-s+7]||t.inLogoRange&&t.inLogoRange(d,f))},w=new Xe({context:this.context,type:((n=this.options.dotsOptions)===null||n===void 0?void 0:n.type)||_.dotsOptions.type,dotSize:c});a.fillStyle=a.strokeStyle=((o=this.options.dotsOptions)===null||o===void 0?void 0:o.color)||((e=(r=this.options.nodeQrCodeOptions)===null||r===void 0?void 0:r.color)===null||e===void 0?void 0:e.dark)||_.dotsOptions.color;for(var p=function(d){for(var f=function(h){if(!y(d,h)||!g.isDark(d,h))return"continue";w.draw(l+d*c,u+h*c,function(v,b){return d+v<0||h+b<0||d+v>=s||h+b>=s||!y(d+v,h+b)?!1:t.isDark(d+v,h+b)})},m=0;m<s;m++)f(m)},g=this,C=0;C<s;C++)p(C);a.fill()}},i.prototype.drawCorners=function(){var t=this,n=this.context;if(n){var o=this.options.nodeQrCodeOptions,r=(o==null?void 0:o.margin)||_.nodeQrCodeOptions.margin,e=this.size,a=this.options.width||_.width,s=a-r*2,c=Math.floor(s/e),l=Math.floor((a-e*c)/2),u=Math.floor((a-e*c)/2);[[0,0],[1,0],[0,1]].forEach(function(y){var w,p=je(y,2),g=p[0],C=p[1],d=l+g*c*(e-7),f=u+C*c*(e-7),m=t.options.cornersOptions,h=new Ze(t.context,m.type||_.cornersOptions.type,m.color||((w=o==null?void 0:o.color)===null||w===void 0?void 0:w.dark)||_.cornersOptions.color);h.draw({x:d,y:f,dotSize:t.dotSize,radius:m.radius})})}},i}(),nn="1.0.6",rn=function(){function i(t){var n=this;this.ifCanvasDrawed=!1,this.ifImageCreated=!1,this.drawImagePromiseResolve=[],this.drawCanvasPromiseResolve=[],this.defaultOption={canvas:void 0,image:void 0,content:"",width:_.width,download:_.download,downloadName:_.downloadName};try{this.options=Object.assign(this.defaultOption,t),this.options.canvas||(this.options.canvas=document.createElement("canvas")),this.options.image||(this.options.image=document.createElement("img")),this._toCanvas().then(function(){return n._toImage()})}catch(o){t!=null&&t.onError&&ot(t.onError)&&t.onError(o)}}return i.prototype.drawImagePromise=function(){var t=this;return this.ifImageCreated?Promise.resolve():new Promise(function(n){t.drawImagePromiseResolve.push(n)})},i.prototype.drawCanvasPromise=function(){var t=this;return this.ifCanvasDrawed?Promise.resolve():new Promise(function(n){t.drawCanvasPromiseResolve.push(n)})},i.prototype.toCanvas=function(){throw new Error("toCanvas has been Deprecated!")},i.prototype.toImage=function(){throw new Error("toImage has been Deprecated!")},i.prototype._toCanvas=function(){var t=this,n=new en(this.options);return n.init().then(function(){t.ifCanvasDrawed=!0,t.drawCanvasPromiseResolve.forEach(function(o){ot(o)&&o()}),t.drawCanvasPromiseResolve.length=0})},i.prototype._toImage=function(){return O(this,void 0,Promise,function(){var t=this;return V(this,function(n){return[2,$e(this.options).then(function(){t.ifImageCreated=!0,t.drawImagePromiseResolve.forEach(function(o){ot(o)&&o()}),t.drawImagePromiseResolve.length=0})]})})},i.prototype.downloadImage=function(){return O(this,arguments,void 0,function(t){return t===void 0&&(t=_.downloadName),V(this,function(n){switch(n.label){case 0:return[4,this.drawImagePromise()];case 1:return n.sent(),[2,Xt(this.options.image,t)]}})})},i.prototype.getImage=function(){return O(this,void 0,Promise,function(){return V(this,function(t){switch(t.label){case 0:return[4,this.drawImagePromise()];case 1:return t.sent(),[2,this.options.image]}})})},i.prototype.getCanvas=function(){return O(this,void 0,Promise,function(){return V(this,function(t){switch(t.label){case 0:return[4,this.drawCanvasPromise()];case 1:return t.sent(),[2,this.options.canvas]}})})},i.version=nn,i}();function on(i){if(!i)return"";var t=null;return"createObjectURL"in window&&isFunction(window.createObjectURL)?t=window.createObjectURL(i):window.URL!=null?t=window.URL.createObjectURL(i):window.webkitURL!=null&&(t=window.webkitURL.createObjectURL(i)),t}const an={data(){return{isClient:!1,logo:"https://avatars.githubusercontent.com/u/28730619?v=4",dotType:"square",dotColor:"#000",dotTypes:["square","dot","dot-small","tile","rounded","diamond","star","fluid","fluid-line","stripe","stripe-column"],cornerType:"square",cornerColor:"#000",cornerTypes:["square","rounded","circle","rounded-circle","circle-rounded","circle-diamond","circle-star"]}},mounted(){this.isClient=!0,this.createQrcode1()},methods:{createQrcode1(i=!1){try{const t=new rn({image:document.getElementById("canvas1"),content:"https://github.com/zxpsuper",width:1024,download:i,logo:{src:this.logo},dotsOptions:{color:this.dotColor,type:this.dotType},cornersOptions:{color:this.cornerColor,type:this.cornerType},nodeQrCodeOptions:{margin:20}})}catch(t){console.log(t)}},beforeUpload(i){const t=on(i);return this.logo=t,this.createQrcode1(),!1}}},wn=JSON.parse('{"title":"qrcode-with-logos","description":"","frontmatter":{"title":"qrcode-with-logos","editLink":true,"layout":"home","hero":{"name":"qrcode-with-logos","tagline":"A library for generating QR codes with a logo and styling.","actions":[{"theme":"brand","text":"Get Started","link":"/guide/getting-started"},{"theme":"alt","text":"View on GitHub","link":"https://github.com/zxpsuper/qrcode-with-logos"}]}},"headers":[],"relativePath":"index.md","filePath":"index.md","lastUpdated":1719453935000}'),sn=i=>(re("data-v-e369221f"),i=i(),oe(),i),cn=xt("",7),ln=sn(()=>J("img",{id:"canvas1",style:{width:"280px"}},null,-1)),un={style:{"margin-top":"16px"}},dn={style:{"margin-top":"16px"}},fn={style:{"margin-top":"16px"}},hn={style:{"margin-top":"16px"}},gn=xt("",4);function pn(i,t,n,o,r,e){const a=D("el-col"),s=D("el-color-picker"),c=D("el-option"),l=D("el-select"),u=D("el-button"),y=D("el-upload"),w=D("el-row"),p=D("Tongji");return K(),dt("div",null,[cn,N(w,{gutter:20},{default:x(()=>[N(a,{span:12},{default:x(()=>[ln]),_:1}),r.isClient?(K(),ft(a,{key:0,span:12},{default:x(()=>[q(" dots.color: "),N(s,{modelValue:r.dotColor,"onUpdate:modelValue":t[0]||(t[0]=g=>r.dotColor=g),onChange:e.createQrcode1},null,8,["modelValue","onChange"]),J("div",un,[q(" corners.color: "),N(s,{modelValue:r.cornerColor,"onUpdate:modelValue":t[1]||(t[1]=g=>r.cornerColor=g),onChange:e.createQrcode1},null,8,["modelValue","onChange"])]),J("div",dn,[q(" dots.type: "),N(l,{modelValue:r.dotType,"onUpdate:modelValue":t[2]||(t[2]=g=>r.dotType=g),placeholder:"Select",style:{width:"200px"},onChange:e.createQrcode1},{default:x(()=>[(K(!0),dt(Mt,null,At(r.dotTypes,g=>(K(),ft(c,{key:g,label:g,value:g},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),J("div",fn,[q(" corners.type: "),N(l,{modelValue:r.cornerType,"onUpdate:modelValue":t[3]||(t[3]=g=>r.cornerType=g),placeholder:"Select",style:{width:"200px"},onChange:e.createQrcode1},{default:x(()=>[(K(!0),dt(Mt,null,At(r.cornerTypes,g=>(K(),ft(c,{key:g,label:g,value:g},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),J("div",hn,[q(" logo: "),N(y,{class:"upload-demo","before-upload":e.beforeUpload,style:{display:"inline-block"}},{default:x(()=>[N(u,{type:"primary"},{default:x(()=>[q("Click to change logo")]),_:1})]),_:1},8,["before-upload"])]),J("div",null,[q(" download: "),N(u,{type:"primary",onClick:t[4]||(t[4]=g=>e.createQrcode1(!0))},{default:x(()=>[q("Click to download")]),_:1})])]),_:1})):ne("",!0)]),_:1}),gn,N(p)])}const mn=ee(an,[["render",pn],["__scopeId","data-v-e369221f"]]);export{wn as __pageData,mn as default};
