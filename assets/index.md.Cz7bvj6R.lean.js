import{_ as ee,c as dt,I as N,w as x,aR as xt,D,o as K,b as ft,a as q,j as J,F as Mt,E as At,e as re,p as ne,l as oe}from"./chunks/framework.MDQz7FCs.js";var Z={},ie=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Dt={},T={};let Rt;const ae=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];T.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};T.getSymbolTotalCodewords=function(t){return ae[t]};T.getBCHDigit=function(i){let t=0;for(;i!==0;)t++,i>>>=1;return t};T.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Rt=t};T.isKanjiModeEnabled=function(){return typeof Rt<"u"};T.toSJIS=function(t){return Rt(t)};var st={};(function(i){i.L={bit:1},i.M={bit:0},i.Q={bit:3},i.H={bit:2};function t(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return i.L;case"m":case"medium":return i.M;case"q":case"quartile":return i.Q;case"h":case"high":return i.H;default:throw new Error("Unknown EC Level: "+r)}}i.isValid=function(o){return o&&typeof o.bit<"u"&&o.bit>=0&&o.bit<4},i.from=function(o,n){if(i.isValid(o))return o;try{return t(o)}catch{return n}}})(st);function qt(){this.buffer=[],this.length=0}qt.prototype={get:function(i){const t=Math.floor(i/8);return(this.buffer[t]>>>7-i%8&1)===1},put:function(i,t){for(let r=0;r<t;r++)this.putBit((i>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(i){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),i&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var se=qt;function tt(i){if(!i||i<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=i,this.data=new Uint8Array(i*i),this.reservedBit=new Uint8Array(i*i)}tt.prototype.set=function(i,t,r,o){const n=i*this.size+t;this.data[n]=r,o&&(this.reservedBit[n]=!0)};tt.prototype.get=function(i,t){return this.data[i*this.size+t]};tt.prototype.xor=function(i,t,r){this.data[i*this.size+t]^=r};tt.prototype.isReserved=function(i,t){return this.reservedBit[i*this.size+t]};var ce=tt,zt={};(function(i){const t=T.getSymbolSize;i.getRowColCoords=function(o){if(o===1)return[];const n=Math.floor(o/7)+2,e=t(o),a=e===145?26:Math.ceil((e-13)/(2*n-2))*2,s=[e-7];for(let c=1;c<n-1;c++)s[c]=s[c-1]-a;return s.push(6),s.reverse()},i.getPositions=function(o){const n=[],e=i.getRowColCoords(o),a=e.length;for(let s=0;s<a;s++)for(let c=0;c<a;c++)s===0&&c===0||s===0&&c===a-1||s===a-1&&c===0||n.push([e[s],e[c]]);return n}})(zt);var Ft={};const le=T.getSymbolSize,Nt=7;Ft.getPositions=function(t){const r=le(t);return[[0,0],[r-Nt,0],[0,r-Nt]]};var Ut={};(function(i){i.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};i.isValid=function(n){return n!=null&&n!==""&&!isNaN(n)&&n>=0&&n<=7},i.from=function(n){return i.isValid(n)?parseInt(n,10):void 0},i.getPenaltyN1=function(n){const e=n.size;let a=0,s=0,c=0,l=null,u=null;for(let b=0;b<e;b++){s=c=0,l=u=null;for(let w=0;w<e;w++){let p=n.get(b,w);p===l?s++:(s>=5&&(a+=t.N1+(s-5)),l=p,s=1),p=n.get(w,b),p===u?c++:(c>=5&&(a+=t.N1+(c-5)),u=p,c=1)}s>=5&&(a+=t.N1+(s-5)),c>=5&&(a+=t.N1+(c-5))}return a},i.getPenaltyN2=function(n){const e=n.size;let a=0;for(let s=0;s<e-1;s++)for(let c=0;c<e-1;c++){const l=n.get(s,c)+n.get(s,c+1)+n.get(s+1,c)+n.get(s+1,c+1);(l===4||l===0)&&a++}return a*t.N2},i.getPenaltyN3=function(n){const e=n.size;let a=0,s=0,c=0;for(let l=0;l<e;l++){s=c=0;for(let u=0;u<e;u++)s=s<<1&2047|n.get(l,u),u>=10&&(s===1488||s===93)&&a++,c=c<<1&2047|n.get(u,l),u>=10&&(c===1488||c===93)&&a++}return a*t.N3},i.getPenaltyN4=function(n){let e=0;const a=n.data.length;for(let c=0;c<a;c++)e+=n.data[c];return Math.abs(Math.ceil(e*100/a/5)-10)*t.N4};function r(o,n,e){switch(o){case i.Patterns.PATTERN000:return(n+e)%2===0;case i.Patterns.PATTERN001:return n%2===0;case i.Patterns.PATTERN010:return e%3===0;case i.Patterns.PATTERN011:return(n+e)%3===0;case i.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(e/3))%2===0;case i.Patterns.PATTERN101:return n*e%2+n*e%3===0;case i.Patterns.PATTERN110:return(n*e%2+n*e%3)%2===0;case i.Patterns.PATTERN111:return(n*e%3+(n+e)%2)%2===0;default:throw new Error("bad maskPattern:"+o)}}i.applyMask=function(n,e){const a=e.size;for(let s=0;s<a;s++)for(let c=0;c<a;c++)e.isReserved(c,s)||e.xor(c,s,r(n,c,s))},i.getBestMask=function(n,e){const a=Object.keys(i.Patterns).length;let s=0,c=1/0;for(let l=0;l<a;l++){e(l),i.applyMask(l,n);const u=i.getPenaltyN1(n)+i.getPenaltyN2(n)+i.getPenaltyN3(n)+i.getPenaltyN4(n);i.applyMask(l,n),u<c&&(c=u,s=l)}return s}})(Ut);var ct={};const z=st,rt=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],nt=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];ct.getBlocksCount=function(t,r){switch(r){case z.L:return rt[(t-1)*4+0];case z.M:return rt[(t-1)*4+1];case z.Q:return rt[(t-1)*4+2];case z.H:return rt[(t-1)*4+3];default:return}};ct.getTotalCodewordsCount=function(t,r){switch(r){case z.L:return nt[(t-1)*4+0];case z.M:return nt[(t-1)*4+1];case z.Q:return nt[(t-1)*4+2];case z.H:return nt[(t-1)*4+3];default:return}};var Ot={},lt={};const $=new Uint8Array(512),it=new Uint8Array(256);(function(){let t=1;for(let r=0;r<255;r++)$[r]=t,it[t]=r,t<<=1,t&256&&(t^=285);for(let r=255;r<512;r++)$[r]=$[r-255]})();lt.log=function(t){if(t<1)throw new Error("log("+t+")");return it[t]};lt.exp=function(t){return $[t]};lt.mul=function(t,r){return t===0||r===0?0:$[it[t]+it[r]]};(function(i){const t=lt;i.mul=function(o,n){const e=new Uint8Array(o.length+n.length-1);for(let a=0;a<o.length;a++)for(let s=0;s<n.length;s++)e[a+s]^=t.mul(o[a],n[s]);return e},i.mod=function(o,n){let e=new Uint8Array(o);for(;e.length-n.length>=0;){const a=e[0];for(let c=0;c<n.length;c++)e[c]^=t.mul(n[c],a);let s=0;for(;s<e.length&&e[s]===0;)s++;e=e.slice(s)}return e},i.generateECPolynomial=function(o){let n=new Uint8Array([1]);for(let e=0;e<o;e++)n=i.mul(n,new Uint8Array([1,t.exp(e)]));return n}})(Ot);const Vt=Ot;function Pt(i){this.genPoly=void 0,this.degree=i,this.degree&&this.initialize(this.degree)}Pt.prototype.initialize=function(t){this.degree=t,this.genPoly=Vt.generateECPolynomial(this.degree)};Pt.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(t.length+this.degree);r.set(t);const o=Vt.mod(r,this.genPoly),n=this.degree-o.length;if(n>0){const e=new Uint8Array(this.degree);return e.set(o,n),e}return o};var ue=Pt,Qt={},F={},It={};It.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var L={};const Ht="[0-9]+",de="[A-Z $%*+\\-./:]+";let X="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";X=X.replace(/u/g,"\\u");const fe="(?:(?![A-Z0-9 $%*+\\-./:]|"+X+`)(?:.|[\r
]))+`;L.KANJI=new RegExp(X,"g");L.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");L.BYTE=new RegExp(fe,"g");L.NUMERIC=new RegExp(Ht,"g");L.ALPHANUMERIC=new RegExp(de,"g");const he=new RegExp("^"+X+"$"),ge=new RegExp("^"+Ht+"$"),pe=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");L.testKanji=function(t){return he.test(t)};L.testNumeric=function(t){return ge.test(t)};L.testAlphanumeric=function(t){return pe.test(t)};(function(i){const t=It,r=L;i.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},i.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},i.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},i.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},i.MIXED={bit:-1},i.getCharCountIndicator=function(e,a){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!t.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?e.ccBits[0]:a<27?e.ccBits[1]:e.ccBits[2]},i.getBestModeForData=function(e){return r.testNumeric(e)?i.NUMERIC:r.testAlphanumeric(e)?i.ALPHANUMERIC:r.testKanji(e)?i.KANJI:i.BYTE},i.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},i.isValid=function(e){return e&&e.bit&&e.ccBits};function o(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"numeric":return i.NUMERIC;case"alphanumeric":return i.ALPHANUMERIC;case"kanji":return i.KANJI;case"byte":return i.BYTE;default:throw new Error("Unknown mode: "+n)}}i.from=function(e,a){if(i.isValid(e))return e;try{return o(e)}catch{return a}}})(F);(function(i){const t=T,r=ct,o=st,n=F,e=It,a=7973,s=t.getBCHDigit(a);function c(w,p,d){for(let y=1;y<=40;y++)if(p<=i.getCapacity(y,d,w))return y}function l(w,p){return n.getCharCountIndicator(w,p)+4}function u(w,p){let d=0;return w.forEach(function(y){const f=l(y.mode,p);d+=f+y.getBitsLength()}),d}function b(w,p){for(let d=1;d<=40;d++)if(u(w,d)<=i.getCapacity(d,p,n.MIXED))return d}i.from=function(p,d){return e.isValid(p)?parseInt(p,10):d},i.getCapacity=function(p,d,y){if(!e.isValid(p))throw new Error("Invalid QR Code version");typeof y>"u"&&(y=n.BYTE);const f=t.getSymbolTotalCodewords(p),h=r.getTotalCodewordsCount(p,d),m=(f-h)*8;if(y===n.MIXED)return m;const g=m-l(y,p);switch(y){case n.NUMERIC:return Math.floor(g/10*3);case n.ALPHANUMERIC:return Math.floor(g/11*2);case n.KANJI:return Math.floor(g/13);case n.BYTE:default:return Math.floor(g/8)}},i.getBestVersionForData=function(p,d){let y;const f=o.from(d,o.M);if(Array.isArray(p)){if(p.length>1)return b(p,f);if(p.length===0)return 1;y=p[0]}else y=p;return c(y.mode,y.getLength(),f)},i.getEncodedBits=function(p){if(!e.isValid(p)||p<7)throw new Error("Invalid QR Code version");let d=p<<12;for(;t.getBCHDigit(d)-s>=0;)d^=a<<t.getBCHDigit(d)-s;return p<<12|d}})(Qt);var Kt={};const bt=T,Jt=1335,ve=21522,Lt=bt.getBCHDigit(Jt);Kt.getEncodedBits=function(t,r){const o=t.bit<<3|r;let n=o<<10;for(;bt.getBCHDigit(n)-Lt>=0;)n^=Jt<<bt.getBCHDigit(n)-Lt;return(o<<10|n)^ve};var jt={};const we=F;function j(i){this.mode=we.NUMERIC,this.data=i.toString()}j.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};j.prototype.getLength=function(){return this.data.length};j.prototype.getBitsLength=function(){return j.getBitsLength(this.data.length)};j.prototype.write=function(t){let r,o,n;for(r=0;r+3<=this.data.length;r+=3)o=this.data.substr(r,3),n=parseInt(o,10),t.put(n,10);const e=this.data.length-r;e>0&&(o=this.data.substr(r),n=parseInt(o,10),t.put(n,e*3+1))};var me=j;const ye=F,ht=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Y(i){this.mode=ye.ALPHANUMERIC,this.data=i}Y.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Y.prototype.getLength=function(){return this.data.length};Y.prototype.getBitsLength=function(){return Y.getBitsLength(this.data.length)};Y.prototype.write=function(t){let r;for(r=0;r+2<=this.data.length;r+=2){let o=ht.indexOf(this.data[r])*45;o+=ht.indexOf(this.data[r+1]),t.put(o,11)}this.data.length%2&&t.put(ht.indexOf(this.data[r]),6)};var be=Y,Ce=function(t){for(var r=[],o=t.length,n=0;n<o;n++){var e=t.charCodeAt(n);if(e>=55296&&e<=56319&&o>n+1){var a=t.charCodeAt(n+1);a>=56320&&a<=57343&&(e=(e-55296)*1024+a-56320+65536,n+=1)}if(e<128){r.push(e);continue}if(e<2048){r.push(e>>6|192),r.push(e&63|128);continue}if(e<55296||e>=57344&&e<65536){r.push(e>>12|224),r.push(e>>6&63|128),r.push(e&63|128);continue}if(e>=65536&&e<=1114111){r.push(e>>18|240),r.push(e>>12&63|128),r.push(e>>6&63|128),r.push(e&63|128);continue}r.push(239,191,189)}return new Uint8Array(r).buffer};const Se=Ce,Ee=F;function G(i){this.mode=Ee.BYTE,typeof i=="string"&&(i=Se(i)),this.data=new Uint8Array(i)}G.getBitsLength=function(t){return t*8};G.prototype.getLength=function(){return this.data.length};G.prototype.getBitsLength=function(){return G.getBitsLength(this.data.length)};G.prototype.write=function(i){for(let t=0,r=this.data.length;t<r;t++)i.put(this.data[t],8)};var _e=G;const Re=F,Pe=T;function W(i){this.mode=Re.KANJI,this.data=i}W.getBitsLength=function(t){return t*13};W.prototype.getLength=function(){return this.data.length};W.prototype.getBitsLength=function(){return W.getBitsLength(this.data.length)};W.prototype.write=function(i){let t;for(t=0;t<this.data.length;t++){let r=Pe.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),i.put(r,13)}};var Ie=W,Yt={exports:{}};(function(i){var t={single_source_shortest_paths:function(r,o,n){var e={},a={};a[o]=0;var s=t.PriorityQueue.make();s.push(o,0);for(var c,l,u,b,w,p,d,y,f;!s.empty();){c=s.pop(),l=c.value,b=c.cost,w=r[l]||{};for(u in w)w.hasOwnProperty(u)&&(p=w[u],d=b+p,y=a[u],f=typeof a[u]>"u",(f||y>d)&&(a[u]=d,s.push(u,d),e[u]=l))}if(typeof n<"u"&&typeof a[n]>"u"){var h=["Could not find a path from ",o," to ",n,"."].join("");throw new Error(h)}return e},extract_shortest_path_from_predecessor_list:function(r,o){for(var n=[],e=o;e;)n.push(e),r[e],e=r[e];return n.reverse(),n},find_path:function(r,o,n){var e=t.single_source_shortest_paths(r,o,n);return t.extract_shortest_path_from_predecessor_list(e,n)},PriorityQueue:{make:function(r){var o=t.PriorityQueue,n={},e;r=r||{};for(e in o)o.hasOwnProperty(e)&&(n[e]=o[e]);return n.queue=[],n.sorter=r.sorter||o.default_sorter,n},default_sorter:function(r,o){return r.cost-o.cost},push:function(r,o){var n={value:r,cost:o};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};i.exports=t})(Yt);var Te=Yt.exports;(function(i){const t=F,r=me,o=be,n=_e,e=Ie,a=L,s=T,c=Te;function l(h){return unescape(encodeURIComponent(h)).length}function u(h,m,g){const v=[];let C;for(;(C=h.exec(g))!==null;)v.push({data:C[0],index:C.index,mode:m,length:C[0].length});return v}function b(h){const m=u(a.NUMERIC,t.NUMERIC,h),g=u(a.ALPHANUMERIC,t.ALPHANUMERIC,h);let v,C;return s.isKanjiModeEnabled()?(v=u(a.BYTE,t.BYTE,h),C=u(a.KANJI,t.KANJI,h)):(v=u(a.BYTE_KANJI,t.BYTE,h),C=[]),m.concat(g,v,C).sort(function(E,P){return E.index-P.index}).map(function(E){return{data:E.data,mode:E.mode,length:E.length}})}function w(h,m){switch(m){case t.NUMERIC:return r.getBitsLength(h);case t.ALPHANUMERIC:return o.getBitsLength(h);case t.KANJI:return e.getBitsLength(h);case t.BYTE:return n.getBitsLength(h)}}function p(h){return h.reduce(function(m,g){const v=m.length-1>=0?m[m.length-1]:null;return v&&v.mode===g.mode?(m[m.length-1].data+=g.data,m):(m.push(g),m)},[])}function d(h){const m=[];for(let g=0;g<h.length;g++){const v=h[g];switch(v.mode){case t.NUMERIC:m.push([v,{data:v.data,mode:t.ALPHANUMERIC,length:v.length},{data:v.data,mode:t.BYTE,length:v.length}]);break;case t.ALPHANUMERIC:m.push([v,{data:v.data,mode:t.BYTE,length:v.length}]);break;case t.KANJI:m.push([v,{data:v.data,mode:t.BYTE,length:l(v.data)}]);break;case t.BYTE:m.push([{data:v.data,mode:t.BYTE,length:l(v.data)}])}}return m}function y(h,m){const g={},v={start:{}};let C=["start"];for(let S=0;S<h.length;S++){const E=h[S],P=[];for(let A=0;A<E.length;A++){const I=E[A],k=""+S+A;P.push(k),g[k]={node:I,lastCount:0},v[k]={};for(let Q=0;Q<C.length;Q++){const R=C[Q];g[R]&&g[R].node.mode===I.mode?(v[R][k]=w(g[R].lastCount+I.length,I.mode)-w(g[R].lastCount,I.mode),g[R].lastCount+=I.length):(g[R]&&(g[R].lastCount=I.length),v[R][k]=w(I.length,I.mode)+4+t.getCharCountIndicator(I.mode,m))}}C=P}for(let S=0;S<C.length;S++)v[C[S]].end=0;return{map:v,table:g}}function f(h,m){let g;const v=t.getBestModeForData(h);if(g=t.from(m,v),g!==t.BYTE&&g.bit<v.bit)throw new Error('"'+h+'" cannot be encoded with mode '+t.toString(g)+`.
 Suggested mode is: `+t.toString(v));switch(g===t.KANJI&&!s.isKanjiModeEnabled()&&(g=t.BYTE),g){case t.NUMERIC:return new r(h);case t.ALPHANUMERIC:return new o(h);case t.KANJI:return new e(h);case t.BYTE:return new n(h)}}i.fromArray=function(m){return m.reduce(function(g,v){return typeof v=="string"?g.push(f(v,null)):v.data&&g.push(f(v.data,v.mode)),g},[])},i.fromString=function(m,g){const v=b(m,s.isKanjiModeEnabled()),C=d(v),S=y(C,g),E=c.find_path(S.map,"start","end"),P=[];for(let A=1;A<E.length-1;A++)P.push(S.table[E[A]].node);return i.fromArray(p(P))},i.rawSplit=function(m){return i.fromArray(b(m,s.isKanjiModeEnabled()))}})(jt);const ut=T,gt=st,Be=se,Me=ce,Ae=zt,Ne=Ft,Ct=Ut,St=ct,Le=ue,at=Qt,ke=Kt,xe=F,pt=jt;function De(i,t){const r=i.size,o=Ne.getPositions(t);for(let n=0;n<o.length;n++){const e=o[n][0],a=o[n][1];for(let s=-1;s<=7;s++)if(!(e+s<=-1||r<=e+s))for(let c=-1;c<=7;c++)a+c<=-1||r<=a+c||(s>=0&&s<=6&&(c===0||c===6)||c>=0&&c<=6&&(s===0||s===6)||s>=2&&s<=4&&c>=2&&c<=4?i.set(e+s,a+c,!0,!0):i.set(e+s,a+c,!1,!0))}}function qe(i){const t=i.size;for(let r=8;r<t-8;r++){const o=r%2===0;i.set(r,6,o,!0),i.set(6,r,o,!0)}}function ze(i,t){const r=Ae.getPositions(t);for(let o=0;o<r.length;o++){const n=r[o][0],e=r[o][1];for(let a=-2;a<=2;a++)for(let s=-2;s<=2;s++)a===-2||a===2||s===-2||s===2||a===0&&s===0?i.set(n+a,e+s,!0,!0):i.set(n+a,e+s,!1,!0)}}function Fe(i,t){const r=i.size,o=at.getEncodedBits(t);let n,e,a;for(let s=0;s<18;s++)n=Math.floor(s/3),e=s%3+r-8-3,a=(o>>s&1)===1,i.set(n,e,a,!0),i.set(e,n,a,!0)}function vt(i,t,r){const o=i.size,n=ke.getEncodedBits(t,r);let e,a;for(e=0;e<15;e++)a=(n>>e&1)===1,e<6?i.set(e,8,a,!0):e<8?i.set(e+1,8,a,!0):i.set(o-15+e,8,a,!0),e<8?i.set(8,o-e-1,a,!0):e<9?i.set(8,15-e-1+1,a,!0):i.set(8,15-e-1,a,!0);i.set(o-8,8,1,!0)}function Ue(i,t){const r=i.size;let o=-1,n=r-1,e=7,a=0;for(let s=r-1;s>0;s-=2)for(s===6&&s--;;){for(let c=0;c<2;c++)if(!i.isReserved(n,s-c)){let l=!1;a<t.length&&(l=(t[a]>>>e&1)===1),i.set(n,s-c,l),e--,e===-1&&(a++,e=7)}if(n+=o,n<0||r<=n){n-=o,o=-o;break}}}function Oe(i,t,r){const o=new Be;r.forEach(function(c){o.put(c.mode.bit,4),o.put(c.getLength(),xe.getCharCountIndicator(c.mode,i)),c.write(o)});const n=ut.getSymbolTotalCodewords(i),e=St.getTotalCodewordsCount(i,t),a=(n-e)*8;for(o.getLengthInBits()+4<=a&&o.put(0,4);o.getLengthInBits()%8!==0;)o.putBit(0);const s=(a-o.getLengthInBits())/8;for(let c=0;c<s;c++)o.put(c%2?17:236,8);return Ve(o,i,t)}function Ve(i,t,r){const o=ut.getSymbolTotalCodewords(t),n=St.getTotalCodewordsCount(t,r),e=o-n,a=St.getBlocksCount(t,r),s=o%a,c=a-s,l=Math.floor(o/a),u=Math.floor(e/a),b=u+1,w=l-u,p=new Le(w);let d=0;const y=new Array(a),f=new Array(a);let h=0;const m=new Uint8Array(i.buffer);for(let E=0;E<a;E++){const P=E<c?u:b;y[E]=m.slice(d,d+P),f[E]=p.encode(y[E]),d+=P,h=Math.max(h,P)}const g=new Uint8Array(o);let v=0,C,S;for(C=0;C<h;C++)for(S=0;S<a;S++)C<y[S].length&&(g[v++]=y[S][C]);for(C=0;C<w;C++)for(S=0;S<a;S++)g[v++]=f[S][C];return g}function Qe(i,t,r,o){let n;if(Array.isArray(i))n=pt.fromArray(i);else if(typeof i=="string"){let l=t;if(!l){const u=pt.rawSplit(i);l=at.getBestVersionForData(u,r)}n=pt.fromString(i,l||40)}else throw new Error("Invalid data");const e=at.getBestVersionForData(n,r);if(!e)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=e;else if(t<e)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+e+`.
`);const a=Oe(t,r,n),s=ut.getSymbolSize(t),c=new Me(s);return De(c,t),qe(c),ze(c,t),vt(c,r,0),t>=7&&Fe(c,t),Ue(c,a),isNaN(o)&&(o=Ct.getBestMask(c,vt.bind(null,c,r))),Ct.applyMask(o,c),vt(c,r,o),{modules:c,version:t,errorCorrectionLevel:r,maskPattern:o,segments:n}}Dt.create=function(t,r){if(typeof t>"u"||t==="")throw new Error("No input text");let o=gt.M,n,e;return typeof r<"u"&&(o=gt.from(r.errorCorrectionLevel,gt.M),n=at.from(r.version),e=Ct.from(r.maskPattern),r.toSJISFunc&&ut.setToSJISFunction(r.toSJISFunc)),Qe(t,n,o,e)};var Gt={},Tt={};(function(i){function t(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let o=r.slice().replace("#","").split("");if(o.length<3||o.length===5||o.length>8)throw new Error("Invalid hex color: "+r);(o.length===3||o.length===4)&&(o=Array.prototype.concat.apply([],o.map(function(e){return[e,e]}))),o.length===6&&o.push("F","F");const n=parseInt(o.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:n&255,hex:"#"+o.slice(0,6).join("")}}i.getOptions=function(o){o||(o={}),o.color||(o.color={});const n=typeof o.margin>"u"||o.margin===null||o.margin<0?4:o.margin,e=o.width&&o.width>=21?o.width:void 0,a=o.scale||4;return{width:e,scale:e?4:a,margin:n,color:{dark:t(o.color.dark||"#000000ff"),light:t(o.color.light||"#ffffffff")},type:o.type,rendererOpts:o.rendererOpts||{}}},i.getScale=function(o,n){return n.width&&n.width>=o+n.margin*2?n.width/(o+n.margin*2):n.scale},i.getImageWidth=function(o,n){const e=i.getScale(o,n);return Math.floor((o+n.margin*2)*e)},i.qrToImageData=function(o,n,e){const a=n.modules.size,s=n.modules.data,c=i.getScale(a,e),l=Math.floor((a+e.margin*2)*c),u=e.margin*c,b=[e.color.light,e.color.dark];for(let w=0;w<l;w++)for(let p=0;p<l;p++){let d=(w*l+p)*4,y=e.color.light;if(w>=u&&p>=u&&w<l-u&&p<l-u){const f=Math.floor((w-u)/c),h=Math.floor((p-u)/c);y=b[s[f*a+h]?1:0]}o[d++]=y.r,o[d++]=y.g,o[d++]=y.b,o[d]=y.a}}})(Tt);(function(i){const t=Tt;function r(n,e,a){n.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=a,e.width=a,e.style.height=a+"px",e.style.width=a+"px"}function o(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}i.render=function(e,a,s){let c=s,l=a;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),a||(l=o()),c=t.getOptions(c);const u=t.getImageWidth(e.modules.size,c),b=l.getContext("2d"),w=b.createImageData(u,u);return t.qrToImageData(w.data,e,c),r(b,l,u),b.putImageData(w,0,0),l},i.renderToDataURL=function(e,a,s){let c=s;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),c||(c={});const l=i.render(e,a,c),u=c.type||"image/png",b=c.rendererOpts||{};return l.toDataURL(u,b.quality)}})(Gt);var Wt={};const He=Tt;function kt(i,t){const r=i.a/255,o=t+'="'+i.hex+'"';return r<1?o+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':o}function wt(i,t,r){let o=i+t;return typeof r<"u"&&(o+=" "+r),o}function Ke(i,t,r){let o="",n=0,e=!1,a=0;for(let s=0;s<i.length;s++){const c=Math.floor(s%t),l=Math.floor(s/t);!c&&!e&&(e=!0),i[s]?(a++,s>0&&c>0&&i[s-1]||(o+=e?wt("M",c+r,.5+l+r):wt("m",n,0),n=0,e=!1),c+1<t&&i[s+1]||(o+=wt("h",a),a=0)):n++}return o}Wt.render=function(t,r,o){const n=He.getOptions(r),e=t.modules.size,a=t.modules.data,s=e+n.margin*2,c=n.color.light.a?"<path "+kt(n.color.light,"fill")+' d="M0 0h'+s+"v"+s+'H0z"/>':"",l="<path "+kt(n.color.dark,"stroke")+' d="'+Ke(a,e,n.margin)+'"/>',u='viewBox="0 0 '+s+" "+s+'"',w='<svg xmlns="http://www.w3.org/2000/svg" '+(n.width?'width="'+n.width+'" height="'+n.width+'" ':"")+u+' shape-rendering="crispEdges">'+c+l+`</svg>
`;return typeof o=="function"&&o(null,w),w};const Je=ie,Et=Dt,$t=Gt,je=Wt;function Bt(i,t,r,o,n){const e=[].slice.call(arguments,1),a=e.length,s=typeof e[a-1]=="function";if(!s&&!Je())throw new Error("Callback required as last argument");if(s){if(a<2)throw new Error("Too few arguments provided");a===2?(n=r,r=t,t=o=void 0):a===3&&(t.getContext&&typeof n>"u"?(n=o,o=void 0):(n=o,o=r,r=t,t=void 0))}else{if(a<1)throw new Error("Too few arguments provided");return a===1?(r=t,t=o=void 0):a===2&&!t.getContext&&(o=r,r=t,t=void 0),new Promise(function(c,l){try{const u=Et.create(r,o);c(i(u,t,o))}catch(u){l(u)}})}try{const c=Et.create(r,o);n(null,i(c,t,o))}catch(c){n(c)}}Z.create=Et.create;Z.toCanvas=Bt.bind(null,$t.render);Z.toDataURL=Bt.bind(null,$t.renderToDataURL);Z.toString=Bt.bind(null,function(i,t,r){return je.render(i,r)});var M=function(){return M=Object.assign||function(t){for(var r,o=1,n=arguments.length;o<n;o++){r=arguments[o];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])}return t},M.apply(this,arguments)};function O(i,t,r,o){function n(e){return e instanceof r?e:new r(function(a){a(e)})}return new(r||(r=Promise))(function(e,a){function s(u){try{l(o.next(u))}catch(b){a(b)}}function c(u){try{l(o.throw(u))}catch(b){a(b)}}function l(u){u.done?e(u.value):n(u.value).then(s,c)}l((o=o.apply(i,t||[])).next())})}function V(i,t){var r={label:0,sent:function(){if(e[0]&1)throw e[1];return e[1]},trys:[],ops:[]},o,n,e,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(u){return c([l,u])}}function c(l){if(o)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(r=0)),r;)try{if(o=1,n&&(e=l[0]&2?n.return:l[0]?n.throw||((e=n.return)&&e.call(n),0):n.next)&&!(e=e.call(n,l[1])).done)return e;switch(n=0,e&&(l=[l[0]&2,e.value]),l[0]){case 0:case 1:e=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,n=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(e=r.trys,!(e=e.length>0&&e[e.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!e||l[1]>e[0]&&l[1]<e[3])){r.label=l[1];break}if(l[0]===6&&r.label<e[1]){r.label=e[1],e=l;break}if(e&&r.label<e[2]){r.label=e[2],r.ops.push(l);break}e[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(i,r)}catch(u){l=[6,u],n=0}finally{o=e=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Ye(i,t){var r=typeof Symbol=="function"&&i[Symbol.iterator];if(!r)return i;var o=r.call(i),n,e=[],a;try{for(;(t===void 0||t-- >0)&&!(n=o.next()).done;)e.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(a)throw a.error}}return e}function Ge(i){return i.length>36?"M":i.length>16?"Q":"H"}function We(i,t){var r=new Image;return r.setAttribute("crossOrigin",t||"anonymous"),r.src=i,new Promise(function(o,n){r.onload=function(){o(r)},r.onerror=function(){n("logo load fail!")}})}var _t=function(i){return function(t,r,o,n,e){var a=Math.min(o,n);return e>a/2&&(e=a/2),i.beginPath(),i.moveTo(t+e,r),i.arcTo(t+o,r,t+o,r+n,e),i.arcTo(t+o,r+n,t,r+n,e),i.arcTo(t,r+n,t,r,e),i.arcTo(t,r,t+o,r,e),i.closePath(),i}};function ot(i){return typeof i=="function"}var $e=function(i){return O(this,void 0,void 0,function(){var t,r,o,n,e;return V(this,function(a){if(t=i.canvas,r=i.download,o=i.image,n=i.downloadName,t.toDataURL())o.src=t.toDataURL();else throw new Error("Can not get the canvas DataURL");return r!==!0&&!ot(r)?[2]:(r=r===!0?function(s){return s()}:r,e=function(){return Xt(o,n)},r?[2,r(e)]:[2,Promise.resolve()])})})},Xt=function(i,t){return new Promise(function(r,o){try{var n=i.src,e=document.createElement("a");e.download=t,e.href=n,e.dispatchEvent(new MouseEvent("click")),r(!0)}catch(a){o(a)}})},B={tile:"tile",dot:"dot",dotSmall:"dot-small",rounded:"rounded",square:"square",diamond:"diamond",star:"star",fluid:"fluid",fluidLine:"fluid-line",stripe:"stripe",stripeRow:"stripe-row",stripeColumn:"stripe-column"},Xe=function(){function i(t){this._context=t.context,this._type=t.type,this.dotSize=t.dotSize}return i.prototype.draw=function(t,r,o,n,e,a){var s=this._context,c=this._type,l;switch(c){case B.tile:l=this._drawTile;break;case B.dot:l=this._drawDot;break;case B.dotSmall:l=this._drawDotSmall;break;case B.rounded:l=this._drawRounded;break;case B.diamond:l=this._drawDiamond;break;case B.star:l=this._drawStar;break;case B.fluid:l=this._drawFluid;break;case B.fluidLine:l=this._drawFluidLine;break;case B.stripe:l=this._drawStripe;break;case B.stripeRow:l=this._drawStripeRow;break;case B.stripeColumn:l=this._drawStripeColumn;break;case B.square:default:l=this._drawSquare;break}l.call(this,{x:t,y:r,size:this.dotSize,context:s,getNeighbor:o,qrCanvas:n,i:e,j:a})},i.prototype._drawSquare=function(t){var r=t.x,o=t.y,n=t.size,e=t.context;this._basicSquare({x:r,y:o,size:n,context:e,rotation:0})},i.prototype._basicSquare=function(t){var r=t.size,o=t.context;this._rotateFigure(M(M({},t),{draw:function(){o.rect(-r/2,-r/2,r,r)}}))},i.prototype._drawDot=function(t){this._drawBasicDot(t)},i.prototype._drawDotSmall=function(t){this._drawBasicDot(M(M({},t),{dotRate:.3}))},i.prototype._drawBasicDot=function(t){var r=t.x,o=t.y,n=t.size,e=t.context,a=t.dotRate,s=a===void 0?.4:a,c=r+n/2,l=o+n/2;e.beginPath(),e.arc(c,l,n*s,0,Math.PI*2),e.closePath(),e.fill()},i.prototype._drawRounded=function(t){var r=t.x,o=t.y,n=t.size,e=t.context;n=.75*n,r+=1/8*n,o+=1/8*n;var a=r+n/2,s=o+n/2,c=-n/2;e.translate(a,s),_t(e)(c,c,n,n,n/4),e.fill(),e.translate(-a,-s)},i.prototype._drawTile=function(t){var r=t.size,o=t.context;this._rotateFigure(M(M({},t),{draw:function(){o.rect(-r/2,-r/2,r-1,r-1)}}))},i.prototype._drawDiamond=function(t){var r=t.size,o=t.context;this._rotateFigure(M(M({},t),{rotation:Math.PI/4,draw:function(){r=.5*r/Math.sin(Math.PI/4),o.rect(-r/2,-r/2,r,r)}}))},i.prototype._drawStar=function(t){var r=t.size,o=t.context;this._rotateFigure(M(M({},t),{rotation:Math.PI/4,draw:function(){o.moveTo(-r/2,-r/2),o.quadraticCurveTo(0,0,r/2,-r/2),o.quadraticCurveTo(0,0,r/2,r/2),o.quadraticCurveTo(0,0,-r/2,r/2),o.quadraticCurveTo(0,0,-r/2,-r/2)}}))},i.prototype._drawFluidLine=function(t){this._drawFluid(t,!0)},i.prototype._drawFluid=function(t,r){var o=t.x,n=t.y,e=t.size,a=t.context,s=t.getNeighbor;r===void 0&&(r=!1);var c=[!1,!1,!1,!1];!s(0,-1)&&!s(-1,0)&&(c[0]=!0),!s(1,0)&&!s(0,-1)&&(c[1]=!0),!s(0,1)&&!s(1,0)&&(c[2]=!0),!s(0,1)&&!s(-1,0)&&(c[3]=!0);var l=o+e/2,u=n+e/2;a.translate(l,u),a.beginPath(),a.arc(0,0,e/2,0,2*Math.PI,!1),a.closePath(),a.fill(),c[0]||a.fillRect(-e/2,-e/2,e/2,e/2),c[1]||a.fillRect(0,-e/2,e/2,e/2),c[2]||a.fillRect(0,0,e/2,e/2),c[3]||a.fillRect(-e/2,0,e/2,e/2),r&&!s(0,1)&&(s(-1,1)&&(a.beginPath(),a.arc(-e,0,e/2,0,.5*Math.PI,!1),a.arc(0,e,e/2,Math.PI,1.5*Math.PI,!1),a.closePath(),a.stroke(),a.fill()),s(1,1)&&(a.beginPath(),a.arc(e,0,e/2,.5*Math.PI,Math.PI,!1),a.arc(0,e,e/2,1.5*Math.PI,0,!1),a.closePath(),a.stroke(),a.fill())),a.translate(-l,-u)},i.prototype._drawStripeColumn=function(t){return this._drawStripe(t,"column")},i.prototype._drawStripeRow=function(t){return this._drawStripe(t,"row")},i.prototype._drawStripe=function(t,r){var o=t.x,n=t.y,e=t.size,a=t.context,s=t.qrCanvas,c=t.i,l=t.j;r===void 0&&(r="default");function u(d,y){for(var f=c;f<c+d;f++)for(var h=l;h<l+y;h++)s.setDisabled(f,h)}function b(d,y){for(var f=!0,h=c;h<c+d;h++){for(var m=l;m<l+y;m++)if(!s.isDark(h,m)){f=!1;break}if(!f)break}return f}function w(d,y){var f=o+e/2,h=n+e/2;a.translate(f,h),a.beginPath(),d===1&&y===1?a.arc(0,0,e/4,0,2*Math.PI,!1):d>1?(a.arc(0,0,e/4,.5*Math.PI,1.5*Math.PI,!1),a.arc(e*(d-1),0,e/4,1.5*Math.PI,.5*Math.PI,!1)):y>1&&(a.arc(0,0,e/4,Math.PI,2*Math.PI,!1),a.arc(0,e*(y-1),e/4,0,Math.PI,!1)),a.fill(),a.closePath(),a.translate(-f,-h),u(d,y)}var p=r==="row"?[[3,1],[2,1],[1,1]]:r==="column"?[[1,3],[1,2],[1,1]]:[[3,1],[1,3],[2,1],[1,2],[1,1]];p.forEach(function(d){b(d[0],d[1])&&w(d[0],d[1])})},i.prototype._rotateFigure=function(t){var r=t.x,o=t.y,n=t.size,e=t.context,a=t.rotation,s=a===void 0?0:a,c=t.draw,l=r+n/2,u=o+n/2;e.translate(l,u),s&&e.rotate(s),c(),e.closePath(),s&&e.rotate(-s),e.translate(-l,-u)},i}(),U={square:"square",rounded:"rounded",circle:"circle",roundedCircle:"rounded-circle",circleRounded:"circle-rounded",circleDiamond:"circle-diamond",circleStar:"circle-star"},Ze=function(){function i(t,r,o){this.context=t,this.cornerType=r,this.color=o}return i.prototype.draw=function(t){var r=t.radius,o=t.x,n=t.y,e=t.dotSize,a;switch(this.cornerType){case U.circle:a=this._drawCircle;break;case U.rounded:a=this._drawRounded;break;case U.roundedCircle:a=this._drawRoundedCircle;break;case U.circleRounded:a=this._drawCircleRounded;break;case U.circleDiamond:a=this._drawCircleDiamond;break;case U.circleStar:a=this._drawCircleStar;break;case U.square:default:a=this._drawSquare;break}a.call(this,{x:o,y:n,radius:r,dotSize:e})},i.prototype._drawRoundedCircle=function(t){var r=t.x,o=t.y,n=t.dotSize,e=t.radius,a=typeof e=="number"?e:(e==null?void 0:e.outer)||n/2;this.drawRoundedSquare(n,r,o,n*7,a,!1,0),this.drawCircle(n,r+2*n,o+2*n,n*3,!0)},i.prototype._drawCircleRounded=function(t){var r=t.x,o=t.y,n=t.dotSize,e=t.radius;this.drawCircle(n,r,o,n*7,!1);var a=typeof e=="number"?e:(e==null?void 0:e.inner)||n/4;this.drawRoundedSquare(n,r+2*n,o+2*n,n*3,a,!0,0)},i.prototype._drawCircleDiamond=function(t){var r=t.x,o=t.y,n=t.dotSize;this.drawCircle(n,r,o,n*7,!1),this.drawRoundedSquare(n,r+2*n,o+2*n,n*3,0,!0,45*Math.PI/180)},i.prototype._drawCircleStar=function(t){var r=t.x,o=t.y,n=t.dotSize;this.drawCircle(n,r,o,n*7,!1),this.drawInnerStar(r+2*n,o+2*n,n*3)},i.prototype._drawSquare=function(t){var r=t.x,o=t.y,n=t.dotSize;return this._drawBasicRounded({x:r,y:o,dotSize:n,radius:0})},i.prototype._drawRounded=function(t){var r=t.x,o=t.y,n=t.dotSize,e=t.radius,a=typeof e=="number"?e:(e==null?void 0:e.inner)||n/4,s=typeof e=="number"?e:(e==null?void 0:e.outer)||n/2;return this._drawBasicRounded({x:r,y:o,dotSize:n,radius:{inner:a,outer:s}})},i.prototype._drawCircle=function(t){var r=t.x,o=t.y,n=t.dotSize;this.drawCircle(n,r,o,n*7,!1),this.drawCircle(n,r+2*n,o+2*n,n*3,!0)},i.prototype._drawBasicRounded=function(t){var r=t.x,o=t.y,n=t.dotSize,e=t.radius,a=t.rotation,s=a===void 0?0:a,c=Math.ceil(n),l,u;typeof e!="number"?(l=e.outer||0,u=e.inner||0):(l=e,u=l);var b=n*7;this.drawRoundedSquare(c,r,o,b,l,!1,s),b=n*3,o+=n*2,r+=n*2,this.drawRoundedSquare(c,r,o,b,u,!0,s)},i.prototype.drawCircle=function(t,r,o,n,e){var a=this.context,s=this.color;a.lineWidth=t,a.fillStyle=s,a.strokeStyle=s,o+=n/2,r+=n/2,n-=t,a.beginPath(),a.arc(r,o,n/2,0,Math.PI*2),a.stroke(),a.closePath(),e&&a.fill()},i.prototype.drawRoundedSquare=function(t,r,o,n,e,a,s){var c=this.context,l=this.color;c.lineWidth=t,c.fillStyle=l,c.strokeStyle=l,o+=t/2,r+=t/2,n-=t,Array.isArray(e)||(e=[e,e,e,e]),e=e.map(function(h){return h=Math.min(h,n/2),h<0?0:h});var u=e[0]||0,b=e[1]||0,w=e[2]||0,p=e[3]||0;c.beginPath();var d=r+n/2,y=o+n/2,f=-n/2;c.translate(d,y),s&&c.rotate(s),c.moveTo(f+u,f),c.lineTo(f+n-b,f),b&&c.quadraticCurveTo(f+n,f,f+n,f+b),c.lineTo(f+n,f+n-w),w&&c.quadraticCurveTo(f+n,f+n,f+n-w,f+n),c.lineTo(f+p,f+n),p&&c.quadraticCurveTo(f,f+n,f,f+n-p),c.lineTo(f,f+u),u&&c.quadraticCurveTo(f,f,f+u,f),c.closePath(),c.stroke(),a&&c.fill(),s&&c.rotate(-s),c.translate(-d,-y)},i.prototype.drawInnerStar=function(t,r,o){var n=this.context,e=t+o/2,a=r+o/2;n.translate(e,a),n.beginPath(),n.moveTo(-o/2,-o/2),n.quadraticCurveTo(0,-o/4,o/2,-o/2),n.quadraticCurveTo(o/4,0,o/2,o/2),n.quadraticCurveTo(0,o/4,-o/2,o/2),n.quadraticCurveTo(-o/4,0,-o/2,-o/2),n.closePath(),n.fill(),n.translate(-e,-a)},i}(),_={logo:{bgColor:"#fff",borderWidth:10,crossOrigin:"anonymous",borderRadius:8,logoRadius:0},width:380,download:!1,downloadName:"qr-code.png",nodeQrCodeOptions:{margin:4,color:{dark:"#000",light:"#fff"}},dotsOptions:{type:"square",color:"#000"},cornersOptions:{type:"square",color:"#000"}},mt=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],yt=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]],tr={L:.07,M:.15,Q:.25,H:.3},er=function(){function i(t){this.qrcodeArray=[],this.dotSize=0,this.offset=0;var r=t.canvas,o=t.content,n=t.width,e=n===void 0?_.width:n,a=t.nodeQrCodeOptions,s=a===void 0?{}:a;s.errorCorrectionLevel=s.errorCorrectionLevel||Ge(o);var c=Z.create(o,s);this.canvas=r,this.options=t,this.canvas.setAttribute("width",e+""),this.canvas.setAttribute("height",e+""),this.saveQrdata(c)}return i.prototype.clear=function(){var t=this.context;t&&t.clearRect(0,0,this.canvas.width,this.canvas.height)},Object.defineProperty(i.prototype,"context",{get:function(){return this.canvas.getContext("2d")},enumerable:!1,configurable:!0}),i.prototype.saveQrdata=function(t){var r;this.size=t.modules.size,this.version=t.version,this.qrcodeArray=t.modules.data;var o=this.options.nodeQrCodeOptions,n=(o==null?void 0:o.margin)||_.nodeQrCodeOptions.margin,e=this.size,a=((r=this.options)===null||r===void 0?void 0:r.width)||_.width,s=a-n*2;this.dotSize=Math.floor(s/e),this.offset=Math.floor((a-e*this.dotSize)/2)},i.prototype.init=function(){return O(this,void 0,void 0,function(){var t;return V(this,function(r){switch(r.label){case 0:return this.clear(),this.drawBackground(),[4,this.drawLogo()];case 1:return t=r.sent(),this.drawDots(),this.drawCorners(),t&&t.call(this),[2]}})})},i.prototype.drawLogo=function(){var t,r=(t=this.options)===null||t===void 0?void 0:t.logo;return r?(typeof r=="string"&&(r={src:r}),this._drawLogo(r)):Promise.resolve(null)},i.prototype._drawLogo=function(t){return O(this,void 0,void 0,function(){var r,o,n,e,a,s,c,l,u,b,w,p,d,y,f,h,m,g,v,C,S,E,P,A,I,k;return V(this,function(Q){switch(Q.label){case 0:return r=this.context,o=this.canvas,n=tr[this.options.nodeQrCodeOptions.errorCorrectionLevel],e=Math.floor(n*n*this.size*this.size),a=t.src,s=t.bgColor,c=s===void 0?_.logo.bgColor:s,l=t.borderWidth,u=l===void 0?_.logo.borderWidth:l,b=t.crossOrigin,w=b===void 0?_.logo.crossOrigin:b,p=t.borderRadius,d=p===void 0?_.logo.borderRadius:p,y=t.logoRadius,f=y===void 0?_.logo.logoRadius:y,[4,We(a,w)];case 1:return h=Q.sent(),m=h.width/h.height,E=Math.floor(Math.sqrt(this.dotSize*this.dotSize*e/m)),m>1?(v=E,S=E-2*u,C=Math.floor(S*m),g=C+u*2):(g=Math.floor(E*m),C=g-u*2,S=Math.floor(C/m),v=S+2*u),P=(this.size-Math.ceil(g/this.dotSize))/2,A=this.size-P-1,I=(this.size-Math.ceil(v/this.dotSize))/2,k=this.size-I-1,this.inLogoRange=function(R,H){return R>=P&&R<=A&&H>=I&&H<=k},[2,function(){var R=o.width/2,H=o.height/2;r.translate(R,H),_t(r)(-g/2,-v/2,g,v,d),this.context.fillStyle=c,this.context.fill();var Zt=function(){r.drawImage(h,-C/2,-S/2,C,S)},te=function(){var et=document.createElement("canvas");et.width=C,et.height=S,et.getContext("2d").drawImage(h,0,0,C,S),_t(r)(0,0,C,S,f),r.fillStyle=r.createPattern(et,"no-repeat"),r.fill()};f?(r.translate(-C/2,-S/2),te(),r.translate(-R+C/2,-H+S/2)):(Zt(),r.translate(-R,-H))}]}})})},i.prototype.isDark=function(t,r){return this.qrcodeArray[t+r*this.size]===1},i.prototype.isDisabled=function(t,r){return this.qrcodeArray[t+r*this.size]===2},i.prototype.setDisabled=function(t,r){return this.qrcodeArray[t+r*this.size]=2},i.prototype.drawBackground=function(){var t,r=this.context,o=this.options.nodeQrCodeOptions,n=((t=o==null?void 0:o.color)===null||t===void 0?void 0:t.light)||_.nodeQrCodeOptions.color.light;r&&(r.fillStyle=n,r.fillRect(0,0,this.canvas.width,this.canvas.height))},i.prototype.drawDots=function(){var t=this,r,o,n,e,a=this.context;if(a){var s=this.size,c=this.dotSize,l=this.offset,u=this.offset,b=function(f,h){var m,g,v,C,S,E;return!(!((m=mt[f])===null||m===void 0)&&m[h]||!((g=mt[f-s+7])===null||g===void 0)&&g[h]||!((v=mt[f])===null||v===void 0)&&v[h-s+7]||!((C=yt[f])===null||C===void 0)&&C[h]||!((S=yt[f-s+7])===null||S===void 0)&&S[h]||!((E=yt[f])===null||E===void 0)&&E[h-s+7]||t.inLogoRange&&t.inLogoRange(f,h))},w=new Xe({context:this.context,type:((r=this.options.dotsOptions)===null||r===void 0?void 0:r.type)||_.dotsOptions.type,dotSize:c});a.fillStyle=a.strokeStyle=((o=this.options.dotsOptions)===null||o===void 0?void 0:o.color)||((e=(n=this.options.nodeQrCodeOptions)===null||n===void 0?void 0:n.color)===null||e===void 0?void 0:e.dark)||_.dotsOptions.color;for(var p=function(f){for(var h=function(g){if(!b(f,g)||!d.isDark(f,g))return"continue";w.draw(l+f*c,u+g*c,function(v,C){return f+v<0||g+C<0||f+v>=s||g+C>=s||!b(f+v,g+C)?null:t.isDark(f+v,g+C)},d,f,g)},m=0;m<s;m++)h(m)},d=this,y=0;y<s;y++)p(y);a.fill()}},i.prototype.drawCorners=function(){var t=this,r=this.context;if(r){var o=this.options.nodeQrCodeOptions,n=(o==null?void 0:o.margin)||_.nodeQrCodeOptions.margin,e=this.size,a=this.options.width||_.width,s=a-n*2,c=Math.floor(s/e),l=Math.floor((a-e*c)/2),u=Math.floor((a-e*c)/2);[[0,0],[1,0],[0,1]].forEach(function(b){var w,p=Ye(b,2),d=p[0],y=p[1],f=l+d*c*(e-7),h=u+y*c*(e-7),m=t.options.cornersOptions,g=new Ze(t.context,m.type||_.cornersOptions.type,m.color||((w=o==null?void 0:o.color)===null||w===void 0?void 0:w.dark)||_.cornersOptions.color);g.draw({x:f,y:h,dotSize:t.dotSize,radius:m.radius})})}},i}(),rr="1.1.0",nr=function(){function i(t){var r=this;this.ifCanvasDrawed=!1,this.ifImageCreated=!1,this.drawImagePromiseResolve=[],this.drawImagePromiseReject=[],this.drawCanvasPromiseResolve=[],this.drawCanvasPromiseReject=[],this.defaultOption={canvas:void 0,image:void 0,content:"",width:_.width,download:_.download,downloadName:_.downloadName,nodeQrCodeOptions:{},cornersOptions:{},dotsOptions:{}};try{this.options=Object.assign(this.defaultOption,t),this.options.canvas||(this.options.canvas=document.createElement("canvas")),this.options.image||(this.options.image=document.createElement("img")),this._toCanvas().then(function(){return r._toImage()}).catch(function(o){t!=null&&t.onError&&ot(t.onError)&&t.onError(o),r.batchRunFunction("drawCanvasPromiseReject",o),r.batchRunFunction("drawImagePromiseReject",o)})}catch(o){t!=null&&t.onError&&ot(t.onError)&&t.onError(o),this.batchRunFunction("drawCanvasPromiseReject",o),this.batchRunFunction("drawImagePromiseReject",o)}}return i.prototype.drawImagePromise=function(){var t=this;return this.ifImageCreated?Promise.resolve():new Promise(function(r,o){t.drawImagePromiseResolve.push(r),t.drawImagePromiseReject.push(o)})},i.prototype.drawCanvasPromise=function(){var t=this;return this.ifCanvasDrawed?Promise.resolve():new Promise(function(r,o){t.drawCanvasPromiseResolve.push(r),t.drawCanvasPromiseReject.push(o)})},i.prototype.toCanvas=function(){throw new Error("toCanvas has been Deprecated!")},i.prototype.toImage=function(){throw new Error("toImage has been Deprecated!")},i.prototype._toCanvas=function(){var t=this,r=new er(this.options);return r.init().then(function(){t.ifCanvasDrawed=!0,t.batchRunFunction("drawCanvasPromiseResolve")})},i.prototype._toImage=function(){return O(this,void 0,Promise,function(){var t=this;return V(this,function(r){return[2,$e(this.options).then(function(){t.ifImageCreated=!0,t.batchRunFunction("drawImagePromiseResolve")})]})})},i.prototype.batchRunFunction=function(t,r){r===void 0&&(r=null);var o=this[t];Array.isArray(o)&&(o.forEach(function(n){ot(n)&&n(r)}),this[t].length=0)},i.prototype.downloadImage=function(){return O(this,arguments,void 0,function(t){return t===void 0&&(t=_.downloadName),V(this,function(r){switch(r.label){case 0:return[4,this.drawImagePromise()];case 1:return r.sent(),[2,Xt(this.options.image,t)]}})})},i.prototype.getImage=function(){return O(this,void 0,Promise,function(){return V(this,function(t){switch(t.label){case 0:return[4,this.drawImagePromise()];case 1:return t.sent(),[2,this.options.image]}})})},i.prototype.getCanvas=function(){return O(this,void 0,Promise,function(){return V(this,function(t){switch(t.label){case 0:return[4,this.drawCanvasPromise()];case 1:return t.sent(),[2,this.options.canvas]}})})},i.version=rr,i}();function or(i){if(!i)return"";var t=null;return"createObjectURL"in window&&isFunction(window.createObjectURL)?t=window.createObjectURL(i):window.URL!=null?t=window.URL.createObjectURL(i):window.webkitURL!=null&&(t=window.webkitURL.createObjectURL(i)),t}const ir={data(){return{isClient:!1,logo:"https://avatars.githubusercontent.com/u/28730619?v=4",dotType:"square",dotColor:"#000",dotTypes:["square","dot","dot-small","tile","rounded","diamond","star","fluid","fluid-line","stripe","stripe-row","stripe-column"],cornerType:"square",cornerColor:"#000",cornerTypes:["square","rounded","circle","rounded-circle","circle-rounded","circle-diamond","circle-star"]}},mounted(){this.isClient=!0,this.createQrcode1()},methods:{createQrcode1(i=!1){try{new nr({content:"https://github.com/zxpsuper",width:1024,image:document.getElementById("image"),download:i,logo:{src:this.logo},dotsOptions:{color:this.dotColor,type:this.dotType},cornersOptions:{color:this.cornerColor,type:this.cornerType},nodeQrCodeOptions:{margin:20}}).getImage().then(r=>{console.log("open image is:",r)})}catch(t){console.log(t)}},beforeUpload(i){const t=or(i);return this.logo=t,this.createQrcode1(),!1}}},vr=JSON.parse('{"title":"qrcode-with-logos","description":"","frontmatter":{"title":"qrcode-with-logos","editLink":true,"layout":"home","hero":{"name":"qrcode-with-logos","tagline":"A library for generating QR codes with a logo and styling.","actions":[{"theme":"brand","text":"Get Started","link":"/guide/getting-started"},{"theme":"alt","text":"View on GitHub","link":"https://github.com/zxpsuper/qrcode-with-logos"}]}},"headers":[],"relativePath":"index.md","filePath":"index.md","lastUpdated":1721715299000}'),ar=i=>(ne("data-v-be2ee0b1"),i=i(),oe(),i),sr=xt("",7),cr=ar(()=>J("img",{id:"image",style:{width:"280px"}},null,-1)),lr={style:{"margin-top":"16px"}},ur={style:{"margin-top":"16px"}},dr={style:{"margin-top":"16px"}},fr={style:{"margin-top":"16px"}},hr=xt("",4);function gr(i,t,r,o,n,e){const a=D("el-col"),s=D("el-color-picker"),c=D("el-option"),l=D("el-select"),u=D("el-button"),b=D("el-upload"),w=D("el-row"),p=D("Tongji");return K(),dt("div",null,[sr,N(w,{gutter:20},{default:x(()=>[N(a,{span:12},{default:x(()=>[cr]),_:1}),n.isClient?(K(),ft(a,{key:0,span:12},{default:x(()=>[q(" dots.color: "),N(s,{modelValue:n.dotColor,"onUpdate:modelValue":t[0]||(t[0]=d=>n.dotColor=d),onChange:e.createQrcode1},null,8,["modelValue","onChange"]),J("div",lr,[q(" corners.color: "),N(s,{modelValue:n.cornerColor,"onUpdate:modelValue":t[1]||(t[1]=d=>n.cornerColor=d),onChange:e.createQrcode1},null,8,["modelValue","onChange"])]),J("div",ur,[q(" dots.type: "),N(l,{modelValue:n.dotType,"onUpdate:modelValue":t[2]||(t[2]=d=>n.dotType=d),placeholder:"Select",style:{width:"200px"},onChange:e.createQrcode1},{default:x(()=>[(K(!0),dt(Mt,null,At(n.dotTypes,d=>(K(),ft(c,{key:d,label:d,value:d},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),J("div",dr,[q(" corners.type: "),N(l,{modelValue:n.cornerType,"onUpdate:modelValue":t[3]||(t[3]=d=>n.cornerType=d),placeholder:"Select",style:{width:"200px"},onChange:e.createQrcode1},{default:x(()=>[(K(!0),dt(Mt,null,At(n.cornerTypes,d=>(K(),ft(c,{key:d,label:d,value:d},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),J("div",fr,[q(" logo: "),N(b,{class:"upload-demo","before-upload":e.beforeUpload,style:{display:"inline-block"}},{default:x(()=>[N(u,{type:"primary"},{default:x(()=>[q("Click to change logo")]),_:1})]),_:1},8,["before-upload"])]),J("div",null,[q(" download: "),N(u,{type:"primary",onClick:t[4]||(t[4]=d=>e.createQrcode1(!0))},{default:x(()=>[q("Click to download")]),_:1})])]),_:1})):re("",!0)]),_:1}),hr,N(p)])}const wr=ee(ir,[["render",gr],["__scopeId","data-v-be2ee0b1"]]);export{vr as __pageData,wr as default};
