import{_ as Xt,c as it,I as A,w as k,aR as Lt,D as N,o as O,b as at,a as D,j as H,F as It,E as Pt,e as Zt,p as xt,l as zt}from"./chunks/framework.MDQz7FCs.js";var W={},te=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},kt={},R={};let bt;const ee=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];R.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};R.getSymbolTotalCodewords=function(t){return ee[t]};R.getBCHDigit=function(i){let t=0;for(;i!==0;)t++,i>>>=1;return t};R.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');bt=t};R.isKanjiModeEnabled=function(){return typeof bt<"u"};R.toSJIS=function(t){return bt(t)};var tt={};(function(i){i.L={bit:1},i.M={bit:0},i.Q={bit:3},i.H={bit:2};function t(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"l":case"low":return i.L;case"m":case"medium":return i.M;case"q":case"quartile":return i.Q;case"h":case"high":return i.H;default:throw new Error("Unknown EC Level: "+o)}}i.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},i.from=function(n,e){if(i.isValid(n))return n;try{return t(n)}catch{return e}}})(tt);function Nt(){this.buffer=[],this.length=0}Nt.prototype={get:function(i){const t=Math.floor(i/8);return(this.buffer[t]>>>7-i%8&1)===1},put:function(i,t){for(let o=0;o<t;o++)this.putBit((i>>>t-o-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(i){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),i&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var ne=Nt;function $(i){if(!i||i<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=i,this.data=new Uint8Array(i*i),this.reservedBit=new Uint8Array(i*i)}$.prototype.set=function(i,t,o,n){const e=i*this.size+t;this.data[e]=o,n&&(this.reservedBit[e]=!0)};$.prototype.get=function(i,t){return this.data[i*this.size+t]};$.prototype.xor=function(i,t,o){this.data[i*this.size+t]^=o};$.prototype.isReserved=function(i,t){return this.reservedBit[i*this.size+t]};var oe=$,Dt={};(function(i){const t=R.getSymbolSize;i.getRowColCoords=function(n){if(n===1)return[];const e=Math.floor(n/7)+2,r=t(n),a=r===145?26:Math.ceil((r-13)/(2*e-2))*2,s=[r-7];for(let c=1;c<e-1;c++)s[c]=s[c-1]-a;return s.push(6),s.reverse()},i.getPositions=function(n){const e=[],r=i.getRowColCoords(n),a=r.length;for(let s=0;s<a;s++)for(let c=0;c<a;c++)s===0&&c===0||s===0&&c===a-1||s===a-1&&c===0||e.push([r[s],r[c]]);return e}})(Dt);var qt={};const re=R.getSymbolSize,Bt=7;qt.getPositions=function(t){const o=re(t);return[[0,0],[o-Bt,0],[0,o-Bt]]};var Ut={};(function(i){i.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};i.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7},i.from=function(e){return i.isValid(e)?parseInt(e,10):void 0},i.getPenaltyN1=function(e){const r=e.size;let a=0,s=0,c=0,u=null,f=null;for(let b=0;b<r;b++){s=c=0,u=f=null;for(let d=0;d<r;d++){let h=e.get(b,d);h===u?s++:(s>=5&&(a+=t.N1+(s-5)),u=h,s=1),h=e.get(d,b),h===f?c++:(c>=5&&(a+=t.N1+(c-5)),f=h,c=1)}s>=5&&(a+=t.N1+(s-5)),c>=5&&(a+=t.N1+(c-5))}return a},i.getPenaltyN2=function(e){const r=e.size;let a=0;for(let s=0;s<r-1;s++)for(let c=0;c<r-1;c++){const u=e.get(s,c)+e.get(s,c+1)+e.get(s+1,c)+e.get(s+1,c+1);(u===4||u===0)&&a++}return a*t.N2},i.getPenaltyN3=function(e){const r=e.size;let a=0,s=0,c=0;for(let u=0;u<r;u++){s=c=0;for(let f=0;f<r;f++)s=s<<1&2047|e.get(u,f),f>=10&&(s===1488||s===93)&&a++,c=c<<1&2047|e.get(f,u),f>=10&&(c===1488||c===93)&&a++}return a*t.N3},i.getPenaltyN4=function(e){let r=0;const a=e.data.length;for(let c=0;c<a;c++)r+=e.data[c];return Math.abs(Math.ceil(r*100/a/5)-10)*t.N4};function o(n,e,r){switch(n){case i.Patterns.PATTERN000:return(e+r)%2===0;case i.Patterns.PATTERN001:return e%2===0;case i.Patterns.PATTERN010:return r%3===0;case i.Patterns.PATTERN011:return(e+r)%3===0;case i.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2===0;case i.Patterns.PATTERN101:return e*r%2+e*r%3===0;case i.Patterns.PATTERN110:return(e*r%2+e*r%3)%2===0;case i.Patterns.PATTERN111:return(e*r%3+(e+r)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}i.applyMask=function(e,r){const a=r.size;for(let s=0;s<a;s++)for(let c=0;c<a;c++)r.isReserved(c,s)||r.xor(c,s,o(e,c,s))},i.getBestMask=function(e,r){const a=Object.keys(i.Patterns).length;let s=0,c=1/0;for(let u=0;u<a;u++){r(u),i.applyMask(u,e);const f=i.getPenaltyN1(e)+i.getPenaltyN2(e)+i.getPenaltyN3(e)+i.getPenaltyN4(e);i.applyMask(u,e),f<c&&(c=f,s=u)}return s}})(Ut);var et={};const U=tt,X=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Z=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];et.getBlocksCount=function(t,o){switch(o){case U.L:return X[(t-1)*4+0];case U.M:return X[(t-1)*4+1];case U.Q:return X[(t-1)*4+2];case U.H:return X[(t-1)*4+3];default:return}};et.getTotalCodewordsCount=function(t,o){switch(o){case U.L:return Z[(t-1)*4+0];case U.M:return Z[(t-1)*4+1];case U.Q:return Z[(t-1)*4+2];case U.H:return Z[(t-1)*4+3];default:return}};var Ft={},nt={};const Y=new Uint8Array(512),x=new Uint8Array(256);(function(){let t=1;for(let o=0;o<255;o++)Y[o]=t,x[t]=o,t<<=1,t&256&&(t^=285);for(let o=255;o<512;o++)Y[o]=Y[o-255]})();nt.log=function(t){if(t<1)throw new Error("log("+t+")");return x[t]};nt.exp=function(t){return Y[t]};nt.mul=function(t,o){return t===0||o===0?0:Y[x[t]+x[o]]};(function(i){const t=nt;i.mul=function(n,e){const r=new Uint8Array(n.length+e.length-1);for(let a=0;a<n.length;a++)for(let s=0;s<e.length;s++)r[a+s]^=t.mul(n[a],e[s]);return r},i.mod=function(n,e){let r=new Uint8Array(n);for(;r.length-e.length>=0;){const a=r[0];for(let c=0;c<e.length;c++)r[c]^=t.mul(e[c],a);let s=0;for(;s<r.length&&r[s]===0;)s++;r=r.slice(s)}return r},i.generateECPolynomial=function(n){let e=new Uint8Array([1]);for(let r=0;r<n;r++)e=i.mul(e,new Uint8Array([1,t.exp(r)]));return e}})(Ft);const Vt=Ft;function vt(i){this.genPoly=void 0,this.degree=i,this.degree&&this.initialize(this.degree)}vt.prototype.initialize=function(t){this.degree=t,this.genPoly=Vt.generateECPolynomial(this.degree)};vt.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const o=new Uint8Array(t.length+this.degree);o.set(t);const n=Vt.mod(o,this.genPoly),e=this.degree-n.length;if(e>0){const r=new Uint8Array(this.degree);return r.set(n,e),r}return n};var ie=vt,Ot={},F={},_t={};_t.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var M={};const Ht="[0-9]+",ae="[A-Z $%*+\\-./:]+";let G="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";G=G.replace(/u/g,"\\u");const se="(?:(?![A-Z0-9 $%*+\\-./:]|"+G+`)(?:.|[\r
]))+`;M.KANJI=new RegExp(G,"g");M.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");M.BYTE=new RegExp(se,"g");M.NUMERIC=new RegExp(Ht,"g");M.ALPHANUMERIC=new RegExp(ae,"g");const ce=new RegExp("^"+G+"$"),le=new RegExp("^"+Ht+"$"),de=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");M.testKanji=function(t){return ce.test(t)};M.testNumeric=function(t){return le.test(t)};M.testAlphanumeric=function(t){return de.test(t)};(function(i){const t=_t,o=M;i.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},i.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},i.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},i.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},i.MIXED={bit:-1},i.getCharCountIndicator=function(r,a){if(!r.ccBits)throw new Error("Invalid mode: "+r);if(!t.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?r.ccBits[0]:a<27?r.ccBits[1]:r.ccBits[2]},i.getBestModeForData=function(r){return o.testNumeric(r)?i.NUMERIC:o.testAlphanumeric(r)?i.ALPHANUMERIC:o.testKanji(r)?i.KANJI:i.BYTE},i.toString=function(r){if(r&&r.id)return r.id;throw new Error("Invalid mode")},i.isValid=function(r){return r&&r.bit&&r.ccBits};function n(e){if(typeof e!="string")throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return i.NUMERIC;case"alphanumeric":return i.ALPHANUMERIC;case"kanji":return i.KANJI;case"byte":return i.BYTE;default:throw new Error("Unknown mode: "+e)}}i.from=function(r,a){if(i.isValid(r))return r;try{return n(r)}catch{return a}}})(F);(function(i){const t=R,o=et,n=tt,e=F,r=_t,a=7973,s=t.getBCHDigit(a);function c(d,h,l){for(let m=1;m<=40;m++)if(h<=i.getCapacity(m,l,d))return m}function u(d,h){return e.getCharCountIndicator(d,h)+4}function f(d,h){let l=0;return d.forEach(function(m){const g=u(m.mode,h);l+=g+m.getBitsLength()}),l}function b(d,h){for(let l=1;l<=40;l++)if(f(d,l)<=i.getCapacity(l,h,e.MIXED))return l}i.from=function(h,l){return r.isValid(h)?parseInt(h,10):l},i.getCapacity=function(h,l,m){if(!r.isValid(h))throw new Error("Invalid QR Code version");typeof m>"u"&&(m=e.BYTE);const g=t.getSymbolTotalCodewords(h),w=o.getTotalCodewordsCount(h,l),y=(g-w)*8;if(m===e.MIXED)return y;const p=y-u(m,h);switch(m){case e.NUMERIC:return Math.floor(p/10*3);case e.ALPHANUMERIC:return Math.floor(p/11*2);case e.KANJI:return Math.floor(p/13);case e.BYTE:default:return Math.floor(p/8)}},i.getBestVersionForData=function(h,l){let m;const g=n.from(l,n.M);if(Array.isArray(h)){if(h.length>1)return b(h,g);if(h.length===0)return 1;m=h[0]}else m=h;return c(m.mode,m.getLength(),g)},i.getEncodedBits=function(h){if(!r.isValid(h)||h<7)throw new Error("Invalid QR Code version");let l=h<<12;for(;t.getBCHDigit(l)-s>=0;)l^=a<<t.getBCHDigit(l)-s;return h<<12|l}})(Ot);var Qt={};const gt=R,Kt=1335,ue=21522,St=gt.getBCHDigit(Kt);Qt.getEncodedBits=function(t,o){const n=t.bit<<3|o;let e=n<<10;for(;gt.getBCHDigit(e)-St>=0;)e^=Kt<<gt.getBCHDigit(e)-St;return(n<<10|e)^ue};var Jt={};const he=F;function Q(i){this.mode=he.NUMERIC,this.data=i.toString()}Q.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};Q.prototype.getLength=function(){return this.data.length};Q.prototype.getBitsLength=function(){return Q.getBitsLength(this.data.length)};Q.prototype.write=function(t){let o,n,e;for(o=0;o+3<=this.data.length;o+=3)n=this.data.substr(o,3),e=parseInt(n,10),t.put(e,10);const r=this.data.length-o;r>0&&(n=this.data.substr(o),e=parseInt(n,10),t.put(e,r*3+1))};var fe=Q;const ge=F,st=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function K(i){this.mode=ge.ALPHANUMERIC,this.data=i}K.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};K.prototype.getLength=function(){return this.data.length};K.prototype.getBitsLength=function(){return K.getBitsLength(this.data.length)};K.prototype.write=function(t){let o;for(o=0;o+2<=this.data.length;o+=2){let n=st.indexOf(this.data[o])*45;n+=st.indexOf(this.data[o+1]),t.put(n,11)}this.data.length%2&&t.put(st.indexOf(this.data[o]),6)};var we=K,me=function(t){for(var o=[],n=t.length,e=0;e<n;e++){var r=t.charCodeAt(e);if(r>=55296&&r<=56319&&n>e+1){var a=t.charCodeAt(e+1);a>=56320&&a<=57343&&(r=(r-55296)*1024+a-56320+65536,e+=1)}if(r<128){o.push(r);continue}if(r<2048){o.push(r>>6|192),o.push(r&63|128);continue}if(r<55296||r>=57344&&r<65536){o.push(r>>12|224),o.push(r>>6&63|128),o.push(r&63|128);continue}if(r>=65536&&r<=1114111){o.push(r>>18|240),o.push(r>>12&63|128),o.push(r>>6&63|128),o.push(r&63|128);continue}o.push(239,191,189)}return new Uint8Array(o).buffer};const pe=me,Ce=F;function J(i){this.mode=Ce.BYTE,typeof i=="string"&&(i=pe(i)),this.data=new Uint8Array(i)}J.getBitsLength=function(t){return t*8};J.prototype.getLength=function(){return this.data.length};J.prototype.getBitsLength=function(){return J.getBitsLength(this.data.length)};J.prototype.write=function(i){for(let t=0,o=this.data.length;t<o;t++)i.put(this.data[t],8)};var ye=J;const be=F,ve=R;function j(i){this.mode=be.KANJI,this.data=i}j.getBitsLength=function(t){return t*13};j.prototype.getLength=function(){return this.data.length};j.prototype.getBitsLength=function(){return j.getBitsLength(this.data.length)};j.prototype.write=function(i){let t;for(t=0;t<this.data.length;t++){let o=ve.toSJIS(this.data[t]);if(o>=33088&&o<=40956)o-=33088;else if(o>=57408&&o<=60351)o-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);o=(o>>>8&255)*192+(o&255),i.put(o,13)}};var _e=j,jt={exports:{}};(function(i){var t={single_source_shortest_paths:function(o,n,e){var r={},a={};a[n]=0;var s=t.PriorityQueue.make();s.push(n,0);for(var c,u,f,b,d,h,l,m,g;!s.empty();){c=s.pop(),u=c.value,b=c.cost,d=o[u]||{};for(f in d)d.hasOwnProperty(f)&&(h=d[f],l=b+h,m=a[f],g=typeof a[f]>"u",(g||m>l)&&(a[f]=l,s.push(f,l),r[f]=u))}if(typeof e<"u"&&typeof a[e]>"u"){var w=["Could not find a path from ",n," to ",e,"."].join("");throw new Error(w)}return r},extract_shortest_path_from_predecessor_list:function(o,n){for(var e=[],r=n;r;)e.push(r),o[r],r=o[r];return e.reverse(),e},find_path:function(o,n,e){var r=t.single_source_shortest_paths(o,n,e);return t.extract_shortest_path_from_predecessor_list(r,e)},PriorityQueue:{make:function(o){var n=t.PriorityQueue,e={},r;o=o||{};for(r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);return e.queue=[],e.sorter=o.sorter||n.default_sorter,e},default_sorter:function(o,n){return o.cost-n.cost},push:function(o,n){var e={value:o,cost:n};this.queue.push(e),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};i.exports=t})(jt);var Ee=jt.exports;(function(i){const t=F,o=fe,n=we,e=ye,r=_e,a=M,s=R,c=Ee;function u(w){return unescape(encodeURIComponent(w)).length}function f(w,y,p){const C=[];let v;for(;(v=w.exec(p))!==null;)C.push({data:v[0],index:v.index,mode:y,length:v[0].length});return C}function b(w){const y=f(a.NUMERIC,t.NUMERIC,w),p=f(a.ALPHANUMERIC,t.ALPHANUMERIC,w);let C,v;return s.isKanjiModeEnabled()?(C=f(a.BYTE,t.BYTE,w),v=f(a.KANJI,t.KANJI,w)):(C=f(a.BYTE_KANJI,t.BYTE,w),v=[]),y.concat(p,C,v).sort(function(_,T){return _.index-T.index}).map(function(_){return{data:_.data,mode:_.mode,length:_.length}})}function d(w,y){switch(y){case t.NUMERIC:return o.getBitsLength(w);case t.ALPHANUMERIC:return n.getBitsLength(w);case t.KANJI:return r.getBitsLength(w);case t.BYTE:return e.getBitsLength(w)}}function h(w){return w.reduce(function(y,p){const C=y.length-1>=0?y[y.length-1]:null;return C&&C.mode===p.mode?(y[y.length-1].data+=p.data,y):(y.push(p),y)},[])}function l(w){const y=[];for(let p=0;p<w.length;p++){const C=w[p];switch(C.mode){case t.NUMERIC:y.push([C,{data:C.data,mode:t.ALPHANUMERIC,length:C.length},{data:C.data,mode:t.BYTE,length:C.length}]);break;case t.ALPHANUMERIC:y.push([C,{data:C.data,mode:t.BYTE,length:C.length}]);break;case t.KANJI:y.push([C,{data:C.data,mode:t.BYTE,length:u(C.data)}]);break;case t.BYTE:y.push([{data:C.data,mode:t.BYTE,length:u(C.data)}])}}return y}function m(w,y){const p={},C={start:{}};let v=["start"];for(let E=0;E<w.length;E++){const _=w[E],T=[];for(let B=0;B<_.length;B++){const I=_[B],S=""+E+B;T.push(S),p[S]={node:I,lastCount:0},C[S]={};for(let rt=0;rt<v.length;rt++){const L=v[rt];p[L]&&p[L].node.mode===I.mode?(C[L][S]=d(p[L].lastCount+I.length,I.mode)-d(p[L].lastCount,I.mode),p[L].lastCount+=I.length):(p[L]&&(p[L].lastCount=I.length),C[L][S]=d(I.length,I.mode)+4+t.getCharCountIndicator(I.mode,y))}}v=T}for(let E=0;E<v.length;E++)C[v[E]].end=0;return{map:C,table:p}}function g(w,y){let p;const C=t.getBestModeForData(w);if(p=t.from(y,C),p!==t.BYTE&&p.bit<C.bit)throw new Error('"'+w+'" cannot be encoded with mode '+t.toString(p)+`.
 Suggested mode is: `+t.toString(C));switch(p===t.KANJI&&!s.isKanjiModeEnabled()&&(p=t.BYTE),p){case t.NUMERIC:return new o(w);case t.ALPHANUMERIC:return new n(w);case t.KANJI:return new r(w);case t.BYTE:return new e(w)}}i.fromArray=function(y){return y.reduce(function(p,C){return typeof C=="string"?p.push(g(C,null)):C.data&&p.push(g(C.data,C.mode)),p},[])},i.fromString=function(y,p){const C=b(y,s.isKanjiModeEnabled()),v=l(C),E=m(v,p),_=c.find_path(E.map,"start","end"),T=[];for(let B=1;B<_.length-1;B++)T.push(E.table[_[B]].node);return i.fromArray(h(T))},i.rawSplit=function(y){return i.fromArray(b(y,s.isKanjiModeEnabled()))}})(Jt);const ot=R,ct=tt,Te=ne,Re=oe,Ie=Dt,Pe=qt,wt=Ut,mt=et,Be=ie,z=Ot,Se=Qt,Ae=F,lt=Jt;function Me(i,t){const o=i.size,n=Pe.getPositions(t);for(let e=0;e<n.length;e++){const r=n[e][0],a=n[e][1];for(let s=-1;s<=7;s++)if(!(r+s<=-1||o<=r+s))for(let c=-1;c<=7;c++)a+c<=-1||o<=a+c||(s>=0&&s<=6&&(c===0||c===6)||c>=0&&c<=6&&(s===0||s===6)||s>=2&&s<=4&&c>=2&&c<=4?i.set(r+s,a+c,!0,!0):i.set(r+s,a+c,!1,!0))}}function Le(i){const t=i.size;for(let o=8;o<t-8;o++){const n=o%2===0;i.set(o,6,n,!0),i.set(6,o,n,!0)}}function ke(i,t){const o=Ie.getPositions(t);for(let n=0;n<o.length;n++){const e=o[n][0],r=o[n][1];for(let a=-2;a<=2;a++)for(let s=-2;s<=2;s++)a===-2||a===2||s===-2||s===2||a===0&&s===0?i.set(e+a,r+s,!0,!0):i.set(e+a,r+s,!1,!0)}}function Ne(i,t){const o=i.size,n=z.getEncodedBits(t);let e,r,a;for(let s=0;s<18;s++)e=Math.floor(s/3),r=s%3+o-8-3,a=(n>>s&1)===1,i.set(e,r,a,!0),i.set(r,e,a,!0)}function dt(i,t,o){const n=i.size,e=Se.getEncodedBits(t,o);let r,a;for(r=0;r<15;r++)a=(e>>r&1)===1,r<6?i.set(r,8,a,!0):r<8?i.set(r+1,8,a,!0):i.set(n-15+r,8,a,!0),r<8?i.set(8,n-r-1,a,!0):r<9?i.set(8,15-r-1+1,a,!0):i.set(8,15-r-1,a,!0);i.set(n-8,8,1,!0)}function De(i,t){const o=i.size;let n=-1,e=o-1,r=7,a=0;for(let s=o-1;s>0;s-=2)for(s===6&&s--;;){for(let c=0;c<2;c++)if(!i.isReserved(e,s-c)){let u=!1;a<t.length&&(u=(t[a]>>>r&1)===1),i.set(e,s-c,u),r--,r===-1&&(a++,r=7)}if(e+=n,e<0||o<=e){e-=n,n=-n;break}}}function qe(i,t,o){const n=new Te;o.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),Ae.getCharCountIndicator(c.mode,i)),c.write(n)});const e=ot.getSymbolTotalCodewords(i),r=mt.getTotalCodewordsCount(i,t),a=(e-r)*8;for(n.getLengthInBits()+4<=a&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const s=(a-n.getLengthInBits())/8;for(let c=0;c<s;c++)n.put(c%2?17:236,8);return Ue(n,i,t)}function Ue(i,t,o){const n=ot.getSymbolTotalCodewords(t),e=mt.getTotalCodewordsCount(t,o),r=n-e,a=mt.getBlocksCount(t,o),s=n%a,c=a-s,u=Math.floor(n/a),f=Math.floor(r/a),b=f+1,d=u-f,h=new Be(d);let l=0;const m=new Array(a),g=new Array(a);let w=0;const y=new Uint8Array(i.buffer);for(let _=0;_<a;_++){const T=_<c?f:b;m[_]=y.slice(l,l+T),g[_]=h.encode(m[_]),l+=T,w=Math.max(w,T)}const p=new Uint8Array(n);let C=0,v,E;for(v=0;v<w;v++)for(E=0;E<a;E++)v<m[E].length&&(p[C++]=m[E][v]);for(v=0;v<d;v++)for(E=0;E<a;E++)p[C++]=g[E][v];return p}function Fe(i,t,o,n){let e;if(Array.isArray(i))e=lt.fromArray(i);else if(typeof i=="string"){let u=t;if(!u){const f=lt.rawSplit(i);u=z.getBestVersionForData(f,o)}e=lt.fromString(i,u||40)}else throw new Error("Invalid data");const r=z.getBestVersionForData(e,o);if(!r)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=r;else if(t<r)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+r+`.
`);const a=qe(t,o,e),s=ot.getSymbolSize(t),c=new Re(s);return Me(c,t),Le(c),ke(c,t),dt(c,o,0),t>=7&&Ne(c,t),De(c,a),isNaN(n)&&(n=wt.getBestMask(c,dt.bind(null,c,o))),wt.applyMask(n,c),dt(c,o,n),{modules:c,version:t,errorCorrectionLevel:o,maskPattern:n,segments:e}}kt.create=function(t,o){if(typeof t>"u"||t==="")throw new Error("No input text");let n=ct.M,e,r;return typeof o<"u"&&(n=ct.from(o.errorCorrectionLevel,ct.M),e=z.from(o.version),r=wt.from(o.maskPattern),o.toSJISFunc&&ot.setToSJISFunction(o.toSJISFunc)),Fe(t,e,n,r)};var Yt={},Et={};(function(i){function t(o){if(typeof o=="number"&&(o=o.toString()),typeof o!="string")throw new Error("Color should be defined as hex string");let n=o.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+o);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(r){return[r,r]}))),n.length===6&&n.push("F","F");const e=parseInt(n.join(""),16);return{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:e&255,hex:"#"+n.slice(0,6).join("")}}i.getOptions=function(n){n||(n={}),n.color||(n.color={});const e=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,r=n.width&&n.width>=21?n.width:void 0,a=n.scale||4;return{width:r,scale:r?4:a,margin:e,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},i.getScale=function(n,e){return e.width&&e.width>=n+e.margin*2?e.width/(n+e.margin*2):e.scale},i.getImageWidth=function(n,e){const r=i.getScale(n,e);return Math.floor((n+e.margin*2)*r)},i.qrToImageData=function(n,e,r){const a=e.modules.size,s=e.modules.data,c=i.getScale(a,r),u=Math.floor((a+r.margin*2)*c),f=r.margin*c,b=[r.color.light,r.color.dark];for(let d=0;d<u;d++)for(let h=0;h<u;h++){let l=(d*u+h)*4,m=r.color.light;if(d>=f&&h>=f&&d<u-f&&h<u-f){const g=Math.floor((d-f)/c),w=Math.floor((h-f)/c);m=b[s[g*a+w]?1:0]}n[l++]=m.r,n[l++]=m.g,n[l++]=m.b,n[l]=m.a}}})(Et);(function(i){const t=Et;function o(e,r,a){e.clearRect(0,0,r.width,r.height),r.style||(r.style={}),r.height=a,r.width=a,r.style.height=a+"px",r.style.width=a+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}i.render=function(r,a,s){let c=s,u=a;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),a||(u=n()),c=t.getOptions(c);const f=t.getImageWidth(r.modules.size,c),b=u.getContext("2d"),d=b.createImageData(f,f);return t.qrToImageData(d.data,r,c),o(b,u,f),b.putImageData(d,0,0),u},i.renderToDataURL=function(r,a,s){let c=s;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),c||(c={});const u=i.render(r,a,c),f=c.type||"image/png",b=c.rendererOpts||{};return u.toDataURL(f,b.quality)}})(Yt);var Gt={};const Ve=Et;function At(i,t){const o=i.a/255,n=t+'="'+i.hex+'"';return o<1?n+" "+t+'-opacity="'+o.toFixed(2).slice(1)+'"':n}function ut(i,t,o){let n=i+t;return typeof o<"u"&&(n+=" "+o),n}function Oe(i,t,o){let n="",e=0,r=!1,a=0;for(let s=0;s<i.length;s++){const c=Math.floor(s%t),u=Math.floor(s/t);!c&&!r&&(r=!0),i[s]?(a++,s>0&&c>0&&i[s-1]||(n+=r?ut("M",c+o,.5+u+o):ut("m",e,0),e=0,r=!1),c+1<t&&i[s+1]||(n+=ut("h",a),a=0)):e++}return n}Gt.render=function(t,o,n){const e=Ve.getOptions(o),r=t.modules.size,a=t.modules.data,s=r+e.margin*2,c=e.color.light.a?"<path "+At(e.color.light,"fill")+' d="M0 0h'+s+"v"+s+'H0z"/>':"",u="<path "+At(e.color.dark,"stroke")+' d="'+Oe(a,r,e.margin)+'"/>',f='viewBox="0 0 '+s+" "+s+'"',d='<svg xmlns="http://www.w3.org/2000/svg" '+(e.width?'width="'+e.width+'" height="'+e.width+'" ':"")+f+' shape-rendering="crispEdges">'+c+u+`</svg>
`;return typeof n=="function"&&n(null,d),d};const He=te,pt=kt,Wt=Yt,Qe=Gt;function Tt(i,t,o,n,e){const r=[].slice.call(arguments,1),a=r.length,s=typeof r[a-1]=="function";if(!s&&!He())throw new Error("Callback required as last argument");if(s){if(a<2)throw new Error("Too few arguments provided");a===2?(e=o,o=t,t=n=void 0):a===3&&(t.getContext&&typeof e>"u"?(e=n,n=void 0):(e=n,n=o,o=t,t=void 0))}else{if(a<1)throw new Error("Too few arguments provided");return a===1?(o=t,t=n=void 0):a===2&&!t.getContext&&(n=o,o=t,t=void 0),new Promise(function(c,u){try{const f=pt.create(o,n);c(i(f,t,n))}catch(f){u(f)}})}try{const c=pt.create(o,n);e(null,i(c,t,n))}catch(c){e(c)}}W.create=pt.create;W.toCanvas=Tt.bind(null,Wt.render);W.toDataURL=Tt.bind(null,Wt.renderToDataURL);W.toString=Tt.bind(null,function(i,t,o){return Qe.render(i,o)});function Ke(i){return i.length>36?"M":i.length>16?"Q":"H"}function Je(i,t){const o=new Image;return o.setAttribute("crossOrigin",t||"anonymous"),o.src=i,new Promise((n,e)=>{o.onload=()=>{n(o)},o.onerror=()=>{e("logo load fail!")}})}const Mt=i=>(t,o,n,e,r)=>{const a=Math.min(n,e);return r>a/2&&(r=a/2),i.beginPath(),i.moveTo(t+r,o),i.arcTo(t+n,o,t+n,o+e,r),i.arcTo(t+n,o+e,t,o+e,r),i.arcTo(t,o+e,t,o,r),i.arcTo(t,o,t+n,o,r),i.closePath(),i};function Ct(i){return typeof i=="function"}const je=async function(i){const{canvas:t}=i,{image:o,downloadName:n}=i;let{download:e}=i;if(t.toDataURL())o.src=t.toDataURL();else throw new Error("Can not get the canvas DataURL");if(e!==!0&&!Ct(e))return;e=e===!0?a=>a():e;const r=()=>$t(o,n);return e?e(r):Promise.resolve()},$t=(i,t)=>new Promise((o,n)=>{try{const e=i.src,r=document.createElement("a");r.download=t,r.href=e,r.dispatchEvent(new MouseEvent("click")),o(!0)}catch(e){n(e)}}),P={tile:"tile",dot:"dot",dotSmall:"dot-small",rounded:"rounded",square:"square",diamond:"diamond",star:"star",fluid:"fluid",fluidLine:"fluid-line",stripe:"stripe",stripeColumn:"stripe-column"};class Ye{constructor({context:t,type:o}){this._context=t,this._type=o}draw(t,o,n,e){const r=this._context,a=this._type;let s;switch(a){case P.tile:s=this._drawTile;break;case P.dot:s=this._drawDot;break;case P.dotSmall:s=this._drawDotSmall;break;case P.rounded:s=this._drawRounded;break;case P.diamond:s=this._drawDiamond;break;case P.star:s=this._drawStar;break;case P.fluid:s=this._drawFluid;break;case P.fluidLine:s=this._drawFluidLine;break;case P.stripe:s=this._drawStripe;break;case P.stripeColumn:s=this._drawStripeColumn;break;case P.square:default:s=this._drawSquare;break}s.call(this,{x:t,y:o,size:n,context:r,getNeighbor:e})}_drawSquare({x:t,y:o,size:n,context:e}){this._basicSquare({x:t,y:o,size:n,context:e,rotation:0})}_basicSquare(t){const{size:o,context:n}=t;this._rotateFigure({...t,draw:()=>{n.rect(-o/2,-o/2,o,o)}})}_drawDot(t){this._drawBasicDot(t)}_drawDotSmall(t){this._drawBasicDot({...t,dotRate:.3})}_drawBasicDot(t){const{x:o,y:n,size:e,context:r,dotRate:a=.4}=t,s=o+e/2,c=n+e/2;r.beginPath(),r.arc(s,c,e*a,0,Math.PI*2),r.closePath(),r.fill()}_drawRounded({x:t,y:o,size:n,context:e}){n=.75*n,t+=1/8*n,o+=1/8*n;const r=[n/4,n/4,n/4,n/4],a=r[0]||0,s=r[1]||0,c=r[2]||0,u=r[3]||0;e.beginPath();const f=t+n/2,b=o+n/2,d=-n/2;e.translate(f,b),e.moveTo(d+a,d),e.lineTo(d+n-s,d),s&&e.quadraticCurveTo(d+n,d,d+n,d+s),e.lineTo(d+n,d+n-c),c&&e.quadraticCurveTo(d+n,d+n,d+n-c,d+n),e.lineTo(d+u,d+n),u&&e.quadraticCurveTo(d,d+n,d,d+n-u),e.lineTo(d,d+a),a&&e.quadraticCurveTo(d,d,d+a,d),e.closePath(),e.stroke(),e.fill(),e.translate(-f,-b)}_drawTile(t){const{size:o,context:n}=t;this._rotateFigure({...t,draw:()=>{n.rect(-o/2,-o/2,o-1,o-1)}})}_drawDiamond(t){let{size:o,context:n}=t;this._rotateFigure({...t,rotation:Math.PI/4,draw:()=>{o=.5*o/Math.sin(Math.PI/4),n.rect(-o/2,-o/2,o,o)}})}_drawStar(t){let{size:o,context:n}=t;this._rotateFigure({...t,rotation:Math.PI/4,draw:()=>{n.moveTo(-o/2,-o/2),n.quadraticCurveTo(0,0,o/2,-o/2),n.quadraticCurveTo(0,0,o/2,o/2),n.quadraticCurveTo(0,0,-o/2,o/2),n.quadraticCurveTo(0,0,-o/2,-o/2)}})}_drawFluidLine(t){this._drawFluid(t,!0)}_drawFluid({x:t,y:o,size:n,context:e,getNeighbor:r},a=!1){let s=[!1,!1,!1,!1];!r(0,-1)&&!r(-1,0)&&(s[0]=!0),!r(1,0)&&!r(0,-1)&&(s[1]=!0),!r(0,1)&&!r(1,0)&&(s[2]=!0),!r(0,1)&&!r(-1,0)&&(s[3]=!0);const c=t+n/2,u=o+n/2;if(e.translate(c,u),e.beginPath(),e.arc(0,0,n/2,0,2*Math.PI,!1),e.closePath(),e.fill(),s[0]||e.fillRect(-n/2,-n/2,n/2,n/2),s[1]||e.fillRect(0,-n/2,n/2,n/2),s[2]||e.fillRect(0,0,n/2,n/2),s[3]||e.fillRect(-n/2,0,n/2,n/2),a){const f=e.lineWidth;r(-1,1)&&(e.beginPath(),e.lineWidth=n/4,e.moveTo(0,0),e.lineTo(-n,n),e.stroke(),e.closePath()),r(1,1)&&(e.beginPath(),e.lineWidth=n/4,e.moveTo(0,0),e.lineTo(n,n),e.stroke(),e.closePath()),e.lineWidth=f}e.translate(-c,-u)}_drawStripeColumn(t){this._drawStripe(t,"column")}_drawStripe({x:t,y:o,size:n,context:e,getNeighbor:r},a="row"){const s=t+n/2,c=o+n/2;e.translate(s,c),e.beginPath(),e.arc(0,0,n/4,0,2*Math.PI,!1),e.fill(),e.closePath(),a==="row"?(r(-1,0)&&e.fillRect(-n/2,-n/4,n/2,n/2),r(1,0)&&e.fillRect(0,-n/4,n/2,n/2)):a==="column"&&(r(0,-1)&&e.fillRect(-n/4,-n/2,n/2,n/2),r(0,1)&&e.fillRect(-n/4,0,n/2,n/2)),e.translate(-s,-c)}_rotateFigure({x:t,y:o,size:n,context:e,rotation:r=0,draw:a}){const s=t+n/2,c=o+n/2;e.translate(s,c),r&&e.rotate(r),a(),e.closePath(),r&&e.rotate(-r),e.translate(-s,-c)}}const V={square:"square",rounded:"rounded",circle:"circle",roundedCircle:"rounded-circle",circleRounded:"circle-rounded",circleDiamond:"circle-diamond",circleStar:"circle-star"};class Ge{constructor(t,o,n){this.context=t,this.cornerType=o,this.color=n}draw({radius:t,x:o,y:n,cellSize:e}){let r;switch(this.cornerType){case V.circle:r=this._drawCircle;break;case V.rounded:r=this._drawRounded;break;case V.roundedCircle:r=this._drawRoundedCircle;break;case V.circleRounded:r=this._drawCircleRounded;break;case V.circleDiamond:r=this._drawCircleDiamond;break;case V.circleStar:r=this._drawCircleStar;break;case V.square:default:r=this._drawSquare;break}r.call(this,{x:o,y:n,radius:t,cellSize:e})}_drawRoundedCircle({x:t,y:o,cellSize:n,radius:e}){e=(e==null?void 0:e.outer)||e||n/2,this.drawRoundedSquare(n,t,o,n*7,e,!1,0),this.drawCircle(n,t+2*n,o+2*n,n*3,!0)}_drawCircleRounded({x:t,y:o,cellSize:n,radius:e}){this.drawCircle(n,t,o,n*7,!1),e=(e==null?void 0:e.inner)||e||n/4,this.drawRoundedSquare(n,t+2*n,o+2*n,n*3,e,!0,0)}_drawCircleDiamond({x:t,y:o,cellSize:n}){this.drawCircle(n,t,o,n*7,!1),this.drawRoundedSquare(n,t+2*n,o+2*n,n*3,0,!0,45*Math.PI/180)}_drawCircleStar({x:t,y:o,cellSize:n}){this.drawCircle(n,t,o,n*7,!1),this.drawInnerStar(t+2*n,o+2*n,n*3)}_drawSquare({x:t,y:o,cellSize:n}){return this._drawBasicRounded(t,o,n,0)}_drawRounded({x:t,y:o,cellSize:n,radius:e}){return this._drawBasicRounded(t,o,n,{inner:(e==null?void 0:e.inner)||n/4,outer:(e==null?void 0:e.outer)||n/2})}_drawCircle({x:t,y:o,cellSize:n}){this.drawCircle(n,t,o,n*7,!1),this.drawCircle(n,t+2*n,o+2*n,n*3,!0)}_drawBasicRounded(t,o,n,e,r=0){const a=Math.ceil(n);let s,c;typeof e!="number"?(s=e.outer||0,c=e.inner||0):(s=e,c=s);let u=n*7;this.drawRoundedSquare(a,t,o,u,s,!1,r),u=n*3,o+=n*2,t+=n*2,this.drawRoundedSquare(a,t,o,u,c,!0,r)}drawCircle(t,o,n,e,r){const a=this.context,s=this.color;a.lineWidth=t,a.fillStyle=s,a.strokeStyle=s,n+=e/2,o+=e/2,e-=t,a.beginPath(),a.arc(o,n,e/2,0,Math.PI*2),a.stroke(),a.closePath(),r&&a.fill()}drawRoundedSquare(t,o,n,e,r,a,s){const c=this.context,u=this.color;c.lineWidth=t,c.fillStyle=u,c.strokeStyle=u,n+=t/2,o+=t/2,e-=t,Array.isArray(r)||(r=[r,r,r,r]),r=r.map(w=>(w=Math.min(w,e/2),w<0?0:w));const f=r[0]||0,b=r[1]||0,d=r[2]||0,h=r[3]||0;c.beginPath();const l=o+e/2,m=n+e/2,g=-e/2;c.translate(l,m),s&&c.rotate(s),c.moveTo(g+f,g),c.lineTo(g+e-b,g),b&&c.quadraticCurveTo(g+e,g,g+e,g+b),c.lineTo(g+e,g+e-d),d&&c.quadraticCurveTo(g+e,g+e,g+e-d,g+e),c.lineTo(g+h,g+e),h&&c.quadraticCurveTo(g,g+e,g,g+e-h),c.lineTo(g,g+f),f&&c.quadraticCurveTo(g,g,g+f,g),c.closePath(),c.stroke(),a&&c.fill(),s&&c.rotate(-s),c.translate(-l,-m)}drawInnerStar(t,o,n){const e=this.context,r=t+n/2,a=o+n/2;e.translate(r,a),e.beginPath(),e.moveTo(-n/2,-n/2),e.quadraticCurveTo(0,-n/4,n/2,-n/2),e.quadraticCurveTo(n/4,0,n/2,n/2),e.quadraticCurveTo(0,n/4,-n/2,n/2),e.quadraticCurveTo(-n/4,0,-n/2,-n/2),e.closePath(),e.fill(),e.translate(-r,-a)}}const q={logo:{logoSize:.15,borderSize:.05,bgColor:"#fff",borderWidth:10,crossOrigin:"anonymous",borderRadius:8,logoRadius:0},width:380,download:!1,downloadName:"qr-code.png",nodeQrCodeOptions:{margin:4,color:{dark:"#000",light:"#fff"}},dotsOptions:{type:"square",color:"#000"},cornersOptions:{type:"square",color:"#000"}},ht=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],ft=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]],We={L:.07,M:.15,Q:.25,H:.3};class $e{constructor(t){this.qrcodeArray=[],this.dotSize=0,this.offset=0;const{canvas:o,content:n,width:e=380,nodeQrCodeOptions:r={}}=t;r.errorCorrectionLevel=r.errorCorrectionLevel||Ke(n);const a=W.create(n,r);this.canvas=o,this.options=t,o==null||o.setAttribute("width",e+""),o==null||o.setAttribute("height",e+""),this.saveQrdata(a)}clear(){const t=this.context;t&&t.clearRect(0,0,this.canvas.width,this.canvas.height)}get context(){return this.canvas.getContext("2d")}async init(){this.clear(),this.drawBackground();const t=await this.drawLogo();this.drawDots(),this.drawCorners(),t&&t.call(this)}drawLogo(){var o;let t=(o=this.options)==null?void 0:o.logo;return t?(typeof t=="string"&&(t={src:t}),this._drawLogo(t)):Promise.resolve()}async _drawLogo(t){const o=this.context,n=this.canvas,e=We[this.options.nodeQrCodeOptions.errorCorrectionLevel],r=Math.floor(e*e*this.size*this.size),{src:a,bgColor:s=q.logo.bgColor,borderWidth:c=q.logo.borderWidth,crossOrigin:u=q.logo.crossOrigin,borderRadius:f=q.logo.borderRadius,logoRadius:b=q.logo.logoRadius}=t,d=await Je(a,u),h=d.width/d.height;let l,m,g,w;const y=Math.sqrt(this.dotSize*this.dotSize*r/h);h>1?(m=y,w=y-2*c,g=w*h,l=g+c*2):(l=y*h,g=l-c*2,w=g/h,m=w+2*c);const p=(this.size-Math.ceil(l/this.dotSize))/2,C=this.size-p-1,v=(this.size-Math.ceil(m/this.dotSize))/2,E=this.size-v-1;return this.inLogoRange=(_,T)=>_>=p&&_<=C&&T>=v&&T<=E,function(){const _=n.width/2,T=n.height/2;o.translate(_,T),Mt(o)(-l/2,-m/2,l,m,f),this.context.fillStyle=s,this.context.fill();const B=()=>{o.drawImage(d,-g/2,-w/2,g,w)},I=()=>{const S=document.createElement("canvas");S.width=g,S.height=w,S.getContext("2d").drawImage(d,0,0,g,w),Mt(o)(0,0,g,w,b),o.fillStyle=o.createPattern(S,"no-repeat"),o.fill()};b?(o.translate(-g/2,-w/2),I(),o.translate(-_+g/2,-T+w/2)):(B(),o.translate(-_,-T))}}saveQrdata(t){this.size=t.modules.size,this.version=t.version,this.qrcodeArray=t.modules.data;const{nodeQrCodeOptions:o}=this.options,n=(o==null?void 0:o.margin)||4,e=this.size,r=this.options.width||180,a=r-n*2;this.dotSize=Math.floor(a/e),this.offset=Math.floor((r-e*this.dotSize)/2)}isDark(t,o){return this.qrcodeArray[t+o*this.size]===1}drawBackground(){var e;const t=this.context,{nodeQrCodeOptions:o}=this.options,n=((e=o==null?void 0:o.color)==null?void 0:e.light)||"#ffffff";t&&(t.fillStyle=n,t.fillRect(0,0,this.canvas.width,this.canvas.height))}drawDots(){var o,n,e,r;const t=this.context;if(t){let a=function(h,l){var m,g,w,y,p,C;return!((m=ht[h])!=null&&m[l]||(g=ht[h-s+7])!=null&&g[l]||(w=ht[h])!=null&&w[l-s+7]||(y=ft[h])!=null&&y[l]||(p=ft[h-s+7])!=null&&p[l]||(C=ft[h])!=null&&C[l-s+7]||b.inLogoRange&&b.inLogoRange(h,l))};const s=this.size,c=this.dotSize,u=this.offset,f=this.offset,b=this,d=new Ye({context:this.context,type:((o=this.options.dotsOptions)==null?void 0:o.type)||"square"});t.fillStyle=t.strokeStyle=((n=this.options.dotsOptions)==null?void 0:n.color)||((r=(e=this.options.nodeQrCodeOptions)==null?void 0:e.color)==null?void 0:r.dark)||"#000000";for(let h=0;h<s;h++)for(let l=0;l<s;l++)a(h,l)&&this.isDark(h,l)&&d.draw(u+h*c,f+l*c,c,(m,g)=>h+m<0||l+g<0||h+m>=s||l+g>=s||!a(h+m,l+g)?!1:this.isDark(h+m,l+g));t.fill()}}drawCorners(){if(this.context){const{nodeQrCodeOptions:o}=this.options,n=(o==null?void 0:o.margin)||4,e=this.size,r=this.options.width||180,a=r-n*2,s=Math.floor(a/e),c=Math.floor((r-e*s)/2),u=Math.floor((r-e*s)/2);[[0,0],[1,0],[0,1]].forEach(([f,b])=>{var g,w,y;const d=c+f*s*(e-7),h=u+b*s*(e-7),l=this.options.cornersOptions;new Ge(this.context,l.type,l.color||((y=(w=(g=this.options)==null?void 0:g.nodeQrCodeOptions)==null?void 0:w.color)==null?void 0:y.dark)||"#000000").draw({x:d,y:h,cellSize:this.dotSize,radius:l.radius})})}}}const Xe="1.0.6",Rt=class Rt{constructor(t){this.ifCanvasDrawed=!1,this.ifImageCreated=!1,this.drawImagePromiseResolve=[],this.drawCanvasPromiseResolve=[],this.defaultOption={canvas:void 0,image:void 0,content:"",width:q.width,download:q.download,downloadName:q.downloadName},this.options=Object.assign(this.defaultOption,t),this.options.canvas||(this.options.canvas=document.createElement("canvas")),this.options.image||(this.options.image=document.createElement("img")),this._toCanvas().then(()=>this._toImage())}drawImagePromise(){return this.ifImageCreated?Promise.resolve():new Promise(t=>{this.drawImagePromiseResolve.push(t)})}drawCanvasPromise(){return this.ifCanvasDrawed?Promise.resolve():new Promise(t=>{this.drawCanvasPromiseResolve.push(t)})}toCanvas(){throw new Error("toCanvas has been Deprecated!")}toImage(){throw new Error("toImage has been Deprecated!")}_toCanvas(){return this.drawCanvasPromise(),new $e(this.options).init().then(()=>{this.ifCanvasDrawed=!0,this.drawCanvasPromiseResolve.forEach(o=>{Ct(o)&&o()})})}async _toImage(){return this.drawImagePromise(),je(this.options).then(()=>{this.ifImageCreated=!0,this.drawImagePromiseResolve.forEach(t=>{Ct(t)&&t()})})}async downloadImage(t="qr-code.png"){return await this.drawImagePromise(),$t(this.options.image,t)}async getImage(){return await this.drawImagePromise(),this.options.image}async getCanvas(){return await this.drawCanvasPromise(),this.options.canvas}};Rt.version=Xe;let yt=Rt;function Ze(i){if(!i)return"";var t=null;return"createObjectURL"in window&&isFunction(window.createObjectURL)?t=window.createObjectURL(i):window.URL!=null?t=window.URL.createObjectURL(i):window.webkitURL!=null&&(t=window.webkitURL.createObjectURL(i)),t}const xe={data(){return{isClient:!1,logo:"https://avatars.githubusercontent.com/u/28730619?v=4",dotType:"square",dotColor:"#000",dotTypes:["square","dot","dot-small","tile","rounded","diamond","star","fluid","fluid-line","stripe","stripe-column"],cornerType:"square",cornerColor:"#000",cornerTypes:["square","rounded","circle","rounded-circle","circle-rounded","circle-diamond","circle-star"]}},mounted(){this.isClient=!0,this.createQrcode1()},methods:{createQrcode1(i=!1){new yt({image:document.getElementById("canvas1"),content:"https://github.com/zxpsuper",width:1024,download:i,logo:{src:this.logo},dotsOptions:{color:this.dotColor,type:this.dotType},cornersOptions:{color:this.cornerColor,type:this.cornerType},nodeQrCodeOptions:{margin:20}})},beforeUpload(i){const t=Ze(i);return this.logo=t,this.createQrcode1(),!1}}},dn=JSON.parse('{"title":"qrcode-with-logos","description":"","frontmatter":{"title":"qrcode-with-logos","editLink":true,"layout":"home","hero":{"name":"qrcode-with-logos","tagline":"A library for generating QR codes with a logo and styling.","actions":[{"theme":"brand","text":"Get Started","link":"/guide/getting-started"},{"theme":"alt","text":"View on GitHub","link":"https://github.com/zxpsuper/qrcode-with-logos"}]}},"headers":[],"relativePath":"index.md","filePath":"index.md","lastUpdated":1719237460000}'),ze=i=>(xt("data-v-79b201c9"),i=i(),zt(),i),tn=Lt("",7),en=ze(()=>H("img",{id:"canvas1",style:{width:"280px"}},null,-1)),nn={style:{"margin-top":"16px"}},on={style:{"margin-top":"16px"}},rn={style:{"margin-top":"16px"}},an={style:{"margin-top":"16px"}},sn=Lt("",4);function cn(i,t,o,n,e,r){const a=N("el-col"),s=N("el-color-picker"),c=N("el-option"),u=N("el-select"),f=N("el-button"),b=N("el-upload"),d=N("el-row"),h=N("Tongji");return O(),it("div",null,[tn,A(d,{gutter:20},{default:k(()=>[A(a,{span:12},{default:k(()=>[en]),_:1}),e.isClient?(O(),at(a,{key:0,span:12},{default:k(()=>[D(" dots.color: "),A(s,{modelValue:e.dotColor,"onUpdate:modelValue":t[0]||(t[0]=l=>e.dotColor=l),onChange:r.createQrcode1},null,8,["modelValue","onChange"]),H("div",nn,[D(" corners.color: "),A(s,{modelValue:e.cornerColor,"onUpdate:modelValue":t[1]||(t[1]=l=>e.cornerColor=l),onChange:r.createQrcode1},null,8,["modelValue","onChange"])]),H("div",on,[D(" dots.type: "),A(u,{modelValue:e.dotType,"onUpdate:modelValue":t[2]||(t[2]=l=>e.dotType=l),placeholder:"Select",style:{width:"200px"},onChange:r.createQrcode1},{default:k(()=>[(O(!0),it(It,null,Pt(e.dotTypes,l=>(O(),at(c,{key:l,label:l,value:l},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),H("div",rn,[D(" corners.type: "),A(u,{modelValue:e.cornerType,"onUpdate:modelValue":t[3]||(t[3]=l=>e.cornerType=l),placeholder:"Select",style:{width:"200px"},onChange:r.createQrcode1},{default:k(()=>[(O(!0),it(It,null,Pt(e.cornerTypes,l=>(O(),at(c,{key:l,label:l,value:l},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),H("div",an,[D(" logo: "),A(b,{class:"upload-demo","before-upload":r.beforeUpload,style:{display:"inline-block"}},{default:k(()=>[A(f,{type:"primary"},{default:k(()=>[D("Click to change logo")]),_:1})]),_:1},8,["before-upload"])]),H("div",null,[D(" download: "),A(f,{type:"primary",onClick:t[4]||(t[4]=l=>r.createQrcode1(!0))},{default:k(()=>[D("Click to download")]),_:1})])]),_:1})):Zt("",!0)]),_:1}),sn,A(h)])}const un=Xt(xe,[["render",cn],["__scopeId","data-v-79b201c9"]]);export{dn as __pageData,un as default};
